parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"rzFO":[function(require,module,exports) {
var global = arguments[3];
var define;
var t,n=arguments[3];!function(n){var e=n.Promise,o=e&&"resolve"in e&&"reject"in e&&"all"in e&&"race"in e&&function(){var t;return new e(function(n){t=n}),"function"==typeof t}();"undefined"!=typeof exports&&exports?(exports.Promise=o?e:b,exports.Polyfill=b):"function"==typeof t&&t.amd?t(function(){return o?e:b}):o||(n.Promise=b);var r="pending",i="sealed",c="fulfilled",f="rejected",u=function(){};function a(t){return"[object Array]"===Object.prototype.toString.call(t)}var s,h="undefined"!=typeof setImmediate?setImmediate:setTimeout,l=[];function p(){for(var t=0;t<l.length;t++)l[t][0](l[t][1]);l=[],s=!1}function d(t,n){l.push([t,n]),s||(s=!0,h(p,0))}function y(t){var n=t.owner,e=n.state_,o=n.data_,r=t[e],i=t.then;if("function"==typeof r){e=c;try{o=r(o)}catch(u){_(i,u)}}w(i,o)||(e===c&&m(i,o),e===f&&_(i,o))}function w(t,n){var e;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"==typeof n)){var o=n.then;if("function"==typeof o)return o.call(n,function(o){e||(e=!0,n!==o?m(t,o):v(t,o))},function(n){e||(e=!0,_(t,n))}),!0}}catch(r){return e||_(t,r),!0}return!1}function m(t,n){t!==n&&w(t,n)||v(t,n)}function v(t,n){t.state_===r&&(t.state_=i,t.data_=n,d(P,t))}function _(t,n){t.state_===r&&(t.state_=i,t.data_=n,d(g,t))}function j(t){var n=t.then_;t.then_=void 0;for(var e=0;e<n.length;e++)y(n[e])}function P(t){t.state_=c,j(t)}function g(t){t.state_=f,j(t)}function b(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof b==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,n){function e(t){_(n,t)}try{t(function(t){m(n,t)},e)}catch(o){e(o)}}(t,this)}b.prototype={constructor:b,state_:r,then_:null,data_:void 0,then:function(t,n){var e={owner:this,then:new this.constructor(u),fulfilled:t,rejected:n};return this.state_===c||this.state_===f?d(y,e):this.then_.push(e),e.then},catch:function(t){return this.then(null,t)}},b.all=function(t){if(!a(t))throw new TypeError("You must pass an array to Promise.all().");return new this(function(n,e){var o=[],r=0;function i(t){return r++,function(e){o[t]=e,--r||n(o)}}for(var c,f=0;f<t.length;f++)(c=t[f])&&"function"==typeof c.then?c.then(i(f),e):o[f]=c;r||n(o)})},b.race=function(t){if(!a(t))throw new TypeError("You must pass an array to Promise.race().");return new this(function(n,e){for(var o,r=0;r<t.length;r++)(o=t[r])&&"function"==typeof o.then?o.then(n,e):n(o)})},b.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(n){n(t)})},b.reject=function(t){return new this(function(n,e){e(t)})}}("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this);
},{}],"W2+e":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"rjSg":[function(require,module,exports) {
"use strict";var n=require("es6-promise-polyfill"),r=e(require("object-assign"));function e(n){return n&&n.__esModule?n:{default:n}}window.Promise||(window.Promise=n.Polyfill),Object.assign||(Object.assign=r.default);var i=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var o=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-o}}for(var t=Date.now(),a=["ms","moz","webkit","o"],w=0;w<a.length&&!window.requestAnimationFrame;++w){var m=a[w];window.requestAnimationFrame=window[m+"RequestAnimationFrame"],window.cancelAnimationFrame=window[m+"CancelAnimationFrame"]||window[m+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(n){if("function"!=typeof n)throw new TypeError(n+"is not a function");var r=Date.now(),e=i+t-r;return e<0&&(e=0),t=r,window.setTimeout(function(){t=Date.now(),n(performance.now())},e)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){return clearTimeout(n)}),Math.sign||(Math.sign=function(n){return 0===(n=Number(n))||isNaN(n)?n:n>0?1:-1}),Number.isInteger||(Number.isInteger=function(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);
},{"es6-promise-polyfill":"rzFO","object-assign":"W2+e"}],"5oIG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=m;var e=/iPhone/i,i=/iPod/i,o=/iPad/i,t=/\biOS-universal(?:.+)Mac\b/i,n=/\bAndroid(?:.+)Mobile\b/i,r=/Android/i,a=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,d=/Silk/i,l=/Windows Phone/i,p=/\bWindows(?:.+)ARM\b/i,s=/BlackBerry/i,u=/BB10/i,b=/Opera Mini/i,c=/\b(CriOS|Chrome)(?:.+)Mobile/i,h=/Mobile(?:.+)Firefox\b/i,v=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function f(e){return function(i){return i.test(e)}}function m(m){var g={userAgent:"",platform:"",maxTouchPoints:0};m||"undefined"==typeof navigator?"string"==typeof m?g.userAgent=m:m&&m.userAgent&&(g={userAgent:m.userAgent,platform:m.platform,maxTouchPoints:m.maxTouchPoints||0}):g={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var A=g.userAgent,P=A.split("[FBAN");void 0!==P[1]&&(A=P[0]),void 0!==(P=A.split("Twitter"))[1]&&(A=P[0]);var w=f(A),x={apple:{phone:w(e)&&!w(l),ipod:w(i),tablet:!w(e)&&(w(o)||v(g))&&!w(l),universal:w(t),device:(w(e)||w(i)||w(o)||w(t)||v(g))&&!w(l)},amazon:{phone:w(a),tablet:!w(a)&&w(d),device:w(a)||w(d)},android:{phone:!w(l)&&w(a)||!w(l)&&w(n),tablet:!w(l)&&!w(a)&&!w(n)&&(w(d)||w(r)),device:!w(l)&&(w(a)||w(d)||w(n)||w(r))||w(/\bokhttp\b/i)},windows:{phone:w(l),tablet:w(p),device:w(l)||w(p)},other:{blackberry:w(s),blackberry10:w(u),opera:w(b),firefox:w(h),chrome:w(c),device:w(s)||w(u)||w(b)||w(h)||w(c)},any:!1,phone:!1,tablet:!1};return x.any=x.apple.device||x.android.device||x.windows.device||x.other.device,x.phone=x.apple.phone||x.android.phone||x.windows.phone,x.tablet=x.apple.tablet||x.android.tablet||x.windows.tablet,x}
},{}],"ZipE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={};Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return t.default}});var t=n(require("./isMobile"));function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function n(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var f=o?Object.getOwnPropertyDescriptor(e,u):null;f&&(f.get||f.set)?Object.defineProperty(n,u,f):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===t[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return t[r]}}))});
},{"./isMobile":"5oIG"}],"HWBD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.settings=exports.isMobile=void 0;var e=r(require("ismobilejs"));function r(e){return e&&e.__esModule?e:{default:e}}var i=(0,e.default)(window.navigator);function t(e){var r=!0;if(i.tablet||i.phone){var t;if(i.apple.device)if(t=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(t[1],10)<11&&(r=!1);if(i.android.device)if(t=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(t[1],10)<7&&(r=!1)}return r?e:4}function a(){return!i.apple.device}exports.isMobile=i;var n={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:t(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:i.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:a(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};exports.settings=n;
},{"ismobilejs":"ZipE"}],"UASB":[function(require,module,exports) {
"use strict";var e=Object.prototype.hasOwnProperty,t="~";function n(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,n,o,s,i){if("function"!=typeof o)throw new TypeError("The listener must be a function");var c=new r(o,s||e,i),f=t?t+n:n;return e._events[f]?e._events[f].fn?e._events[f]=[e._events[f],c]:e._events[f].push(c):(e._events[f]=c,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(t=!1)),i.prototype.eventNames=function(){var n,r,o=[];if(0===this._eventsCount)return o;for(r in n=this._events)e.call(n,r)&&o.push(t?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(n)):o},i.prototype.listeners=function(e){var n=t?t+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,i=new Array(s);o<s;o++)i[o]=r[o].fn;return i},i.prototype.listenerCount=function(e){var n=t?t+e:e,r=this._events[n];return r?r.fn?1:r.length:0},i.prototype.emit=function(e,n,r,o,s,i){var c=t?t+e:e;if(!this._events[c])return!1;var f,u,a=this._events[c],l=arguments.length;if(a.fn){switch(a.once&&this.removeListener(e,a.fn,void 0,!0),l){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,r),!0;case 4:return a.fn.call(a.context,n,r,o),!0;case 5:return a.fn.call(a.context,n,r,o,s),!0;case 6:return a.fn.call(a.context,n,r,o,s,i),!0}for(u=1,f=new Array(l-1);u<l;u++)f[u-1]=arguments[u];a.fn.apply(a.context,f)}else{var v,h=a.length;for(u=0;u<h;u++)switch(a[u].once&&this.removeListener(e,a[u].fn,void 0,!0),l){case 1:a[u].fn.call(a[u].context);break;case 2:a[u].fn.call(a[u].context,n);break;case 3:a[u].fn.call(a[u].context,n,r);break;case 4:a[u].fn.call(a[u].context,n,r,o);break;default:if(!f)for(v=1,f=new Array(l-1);v<l;v++)f[v-1]=arguments[v];a[u].fn.apply(a[u].context,f)}}return!0},i.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},i.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},i.prototype.removeListener=function(e,n,r,o){var i=t?t+e:e;if(!this._events[i])return this;if(!n)return s(this,i),this;var c=this._events[i];if(c.fn)c.fn!==n||o&&!c.once||r&&c.context!==r||s(this,i);else{for(var f=0,u=[],a=c.length;f<a;f++)(c[f].fn!==n||o&&!c[f].once||r&&c[f].context!==r)&&u.push(c[f]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},i.prototype.removeAllListeners=function(e){var r;return e?(r=t?t+e:e,this._events[r]&&s(this,r)):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=t,i.EventEmitter=i,"undefined"!=typeof module&&(module.exports=i);
},{}],"2qpy":[function(require,module,exports) {
"use strict";function e(e,t,x){x=x||2;var i,u,v,y,o,p,a,l=t&&t.length,h=l?t[0]*x:e.length,s=n(e,0,h,x,!0),c=[];if(!s||s.next===s.prev)return c;if(l&&(s=f(e,t,s,x)),e.length>80*x){i=v=e[0],u=y=e[1];for(var Z=x;Z<h;Z+=x)(o=e[Z])<i&&(i=o),(p=e[Z+1])<u&&(u=p),o>v&&(v=o),p>y&&(y=p);a=0!==(a=Math.max(v-i,y-u))?1/a:0}return r(s,c,x,i,u,a),c}function n(e,n,t,r,x){var i,u;if(x===D(e,n,t,r)>0)for(i=n;i<t;i+=r)u=A(i,e[i],e[i+1],u);else for(i=t-r;i>=n;i-=r)u=A(i,e[i],e[i+1],u);return u&&w(u,u.next)&&(B(u),u=u.next),u}function t(e,n){if(!e)return e;n||(n=e);var t,r=e;do{if(t=!1,r.steiner||!w(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(B(r),(r=n=r.prev)===r.next)break;t=!0}}while(t||r!==n);return n}function r(e,n,f,y,o,p,a){if(e){!a&&p&&l(e,y,o,p);for(var h,s,c=e;e.prev!==e.next;)if(h=e.prev,s=e.next,p?i(e,y,o,p):x(e))n.push(h.i/f),n.push(e.i/f),n.push(s.i/f),B(e),e=s.next,c=s.next;else if((e=s)===c){a?1===a?r(e=u(t(e),n,f),n,f,y,o,p,2):2===a&&v(e,n,f,y,o,p):r(t(e),n,f,y,o,p,1);break}}}function x(e){var n=e.prev,t=e,r=e.next;if(g(n,t,r)>=0)return!1;for(var x=e.next.next;x!==e.prev;){if(Z(n.x,n.y,t.x,t.y,r.x,r.y,x.x,x.y)&&g(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function i(e,n,t,r){var x=e.prev,i=e,u=e.next;if(g(x,i,u)>=0)return!1;for(var v=x.x<i.x?x.x<u.x?x.x:u.x:i.x<u.x?i.x:u.x,f=x.y<i.y?x.y<u.y?x.y:u.y:i.y<u.y?i.y:u.y,y=x.x>i.x?x.x>u.x?x.x:u.x:i.x>u.x?i.x:u.x,o=x.y>i.y?x.y>u.y?x.y:u.y:i.y>u.y?i.y:u.y,p=s(v,f,n,t,r),a=s(y,o,n,t,r),l=e.prevZ,h=e.nextZ;l&&l.z>=p&&h&&h.z<=a;){if(l!==e.prev&&l!==e.next&&Z(x.x,x.y,i.x,i.y,u.x,u.y,l.x,l.y)&&g(l.prev,l,l.next)>=0)return!1;if(l=l.prevZ,h!==e.prev&&h!==e.next&&Z(x.x,x.y,i.x,i.y,u.x,u.y,h.x,h.y)&&g(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;l&&l.z>=p;){if(l!==e.prev&&l!==e.next&&Z(x.x,x.y,i.x,i.y,u.x,u.y,l.x,l.y)&&g(l.prev,l,l.next)>=0)return!1;l=l.prevZ}for(;h&&h.z<=a;){if(h!==e.prev&&h!==e.next&&Z(x.x,x.y,i.x,i.y,u.x,u.y,h.x,h.y)&&g(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function u(e,n,r){var x=e;do{var i=x.prev,u=x.next.next;!w(i,u)&&M(i,x,x.next,u)&&k(i,u)&&k(u,i)&&(n.push(i.i/r),n.push(x.i/r),n.push(u.i/r),B(x),B(x.next),x=e=u),x=x.next}while(x!==e);return t(x)}function v(e,n,x,i,u,v){var f=e;do{for(var y=f.next.next;y!==f.prev;){if(f.i!==y.i&&d(f,y)){var o=q(f,y);return f=t(f,f.next),o=t(o,o.next),r(f,n,x,i,u,v),void r(o,n,x,i,u,v)}y=y.next}f=f.next}while(f!==e)}function f(e,r,x,i){var u,v,f,p=[];for(u=0,v=r.length;u<v;u++)(f=n(e,r[u]*i,u<v-1?r[u+1]*i:e.length,i,!1))===f.next&&(f.steiner=!0),p.push(c(f));for(p.sort(y),u=0;u<p.length;u++)o(p[u],x),x=t(x,x.next);return x}function y(e,n){return e.x-n.x}function o(e,n){if(n=p(e,n)){var r=q(n,e);t(n,n.next),t(r,r.next)}}function p(e,n){var t,r=n,x=e.x,i=e.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var v=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(v<=x&&v>u){if(u=v,v===x){if(i===r.y)return r;if(i===r.next.y)return r.next}t=r.x<r.next.x?r:r.next}}r=r.next}while(r!==n);if(!t)return null;if(x===u)return t;var f,y=t,o=t.x,p=t.y,l=1/0;r=t;do{x>=r.x&&r.x>=o&&x!==r.x&&Z(i<p?x:u,i,o,p,i<p?u:x,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(x-r.x),k(r,e)&&(f<l||f===l&&(r.x>t.x||r.x===t.x&&a(t,r)))&&(t=r,l=f)),r=r.next}while(r!==y);return t}function a(e,n){return g(e.prev,e,n.prev)<0&&g(n.next,e,e.next)<0}function l(e,n,t,r){var x=e;do{null===x.z&&(x.z=s(x.x,x.y,n,t,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,h(x)}function h(e){var n,t,r,x,i,u,v,f,y=1;do{for(t=e,e=null,i=null,u=0;t;){for(u++,r=t,v=0,n=0;n<y&&(v++,r=r.nextZ);n++);for(f=y;v>0||f>0&&r;)0!==v&&(0===f||!r||t.z<=r.z)?(x=t,t=t.nextZ,v--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;t=r}i.nextZ=null,y*=2}while(u>1);return e}function s(e,n,t,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*x)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)*x)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function c(e){var n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function Z(e,n,t,r,x,i,u,v){return(x-u)*(n-v)-(e-u)*(i-v)>=0&&(e-u)*(r-v)-(t-u)*(n-v)>=0&&(t-u)*(i-v)-(x-u)*(r-v)>=0}function d(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!b(e,n)&&(k(e,n)&&k(n,e)&&j(e,n)&&(g(e.prev,e,n.prev)||g(e,n.prev,n))||w(e,n)&&g(e.prev,e,e.next)>0&&g(n.prev,n,n.next)>0)}function g(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function w(e,n){return e.x===n.x&&e.y===n.y}function M(e,n,t,r){var x=m(g(e,n,t)),i=m(g(e,n,r)),u=m(g(t,r,e)),v=m(g(t,r,n));return x!==i&&u!==v||(!(0!==x||!z(e,t,n))||(!(0!==i||!z(e,r,n))||(!(0!==u||!z(t,e,r))||!(0!==v||!z(t,n,r)))))}function z(e,n,t){return n.x<=Math.max(e.x,t.x)&&n.x>=Math.min(e.x,t.x)&&n.y<=Math.max(e.y,t.y)&&n.y>=Math.min(e.y,t.y)}function m(e){return e>0?1:e<0?-1:0}function b(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&M(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}function k(e,n){return g(e.prev,e,e.next)<0?g(e,n,e.next)>=0&&g(e,e.prev,n)>=0:g(e,n,e.prev)<0||g(e,e.next,n)<0}function j(e,n){var t=e,r=!1,x=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&x<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==e);return r}function q(e,n){var t=new C(e.i,e.x,e.y),r=new C(n.i,n.x,n.y),x=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=x,x.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function A(e,n,t,r){var x=new C(e,n,t);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function B(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function C(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function D(e,n,t,r){for(var x=0,i=n,u=t-r;i<t;i+=r)x+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return x}module.exports=e,module.exports.default=e,e.deviation=function(e,n,t,r){var x=n&&n.length,i=x?n[0]*t:e.length,u=Math.abs(D(e,0,i,t));if(x)for(var v=0,f=n.length;v<f;v++){var y=n[v]*t,o=v<f-1?n[v+1]*t:e.length;u-=Math.abs(D(e,y,o,t))}var p=0;for(v=0;v<r.length;v+=3){var a=r[v]*t,l=r[v+1]*t,h=r[v+2]*t;p+=Math.abs((e[a]-e[h])*(e[l+1]-e[a+1])-(e[a]-e[l])*(e[h+1]-e[a+1]))}return 0===u&&0===p?0:Math.abs((p-u)/u)},e.flatten=function(e){for(var n=e[0][0].length,t={vertices:[],holes:[],dimensions:n},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var u=0;u<n;u++)t.vertices.push(e[x][i][u]);x>0&&(r+=e[x-1].length,t.holes.push(r))}return t};
},{}],"rqeL":[function(require,module,exports) {
var global = arguments[3];
var define;
var o,e=arguments[3];!function(n){var r="object"==typeof exports&&exports&&!exports.nodeType&&exports,t="object"==typeof module&&module&&!module.nodeType&&module,u="object"==typeof e&&e;u.global!==u&&u.window!==u&&u.self!==u||(n=u);var i,f,c=2147483647,l=36,s=1,p=26,a=38,d=700,h=72,v=128,g="-",w=/^xn--/,x=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=l-s,b=Math.floor,j=String.fromCharCode;function A(o){throw new RangeError(m[o])}function I(o,e){for(var n=o.length,r=[];n--;)r[n]=e(o[n]);return r}function E(o,e){var n=o.split("@"),r="";return n.length>1&&(r=n[0]+"@",o=n[1]),r+I((o=o.replace(y,".")).split("."),e).join(".")}function F(o){for(var e,n,r=[],t=0,u=o.length;t<u;)(e=o.charCodeAt(t++))>=55296&&e<=56319&&t<u?56320==(64512&(n=o.charCodeAt(t++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),t--):r.push(e);return r}function O(o){return I(o,function(o){var e="";return o>65535&&(e+=j((o-=65536)>>>10&1023|55296),o=56320|1023&o),e+=j(o)}).join("")}function S(o,e){return o+22+75*(o<26)-((0!=e)<<5)}function T(o,e,n){var r=0;for(o=n?b(o/d):o>>1,o+=b(o/e);o>C*p>>1;r+=l)o=b(o/C);return b(r+(C+1)*o/(o+a))}function L(o){var e,n,r,t,u,i,f,a,d,w,x,y=[],m=o.length,C=0,j=v,I=h;for((n=o.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)o.charCodeAt(r)>=128&&A("not-basic"),y.push(o.charCodeAt(r));for(t=n>0?n+1:0;t<m;){for(u=C,i=1,f=l;t>=m&&A("invalid-input"),((a=(x=o.charCodeAt(t++))-48<10?x-22:x-65<26?x-65:x-97<26?x-97:l)>=l||a>b((c-C)/i))&&A("overflow"),C+=a*i,!(a<(d=f<=I?s:f>=I+p?p:f-I));f+=l)i>b(c/(w=l-d))&&A("overflow"),i*=w;I=T(C-u,e=y.length+1,0==u),b(C/e)>c-j&&A("overflow"),j+=b(C/e),C%=e,y.splice(C++,0,j)}return O(y)}function M(o){var e,n,r,t,u,i,f,a,d,w,x,y,m,C,I,E=[];for(y=(o=F(o)).length,e=v,n=0,u=h,i=0;i<y;++i)(x=o[i])<128&&E.push(j(x));for(r=t=E.length,t&&E.push(g);r<y;){for(f=c,i=0;i<y;++i)(x=o[i])>=e&&x<f&&(f=x);for(f-e>b((c-n)/(m=r+1))&&A("overflow"),n+=(f-e)*m,e=f,i=0;i<y;++i)if((x=o[i])<e&&++n>c&&A("overflow"),x==e){for(a=n,d=l;!(a<(w=d<=u?s:d>=u+p?p:d-u));d+=l)I=a-w,C=l-w,E.push(j(S(w+I%C,0))),a=b(I/C);E.push(j(S(a,0))),u=T(n,m,r==t),n=0,++r}++n,++e}return E.join("")}if(i={version:"1.4.1",ucs2:{decode:F,encode:O},decode:L,encode:M,toASCII:function(o){return E(o,function(o){return x.test(o)?"xn--"+M(o):o})},toUnicode:function(o){return E(o,function(o){return w.test(o)?L(o.slice(4).toLowerCase()):o})}},"function"==typeof o&&"object"==typeof o.amd&&o.amd)o("punycode",function(){return i});else if(r&&t)if(module.exports==r)t.exports=i;else for(f in i)i.hasOwnProperty(f)&&(r[f]=i[f]);else n.punycode=i}(this);
},{}],"XvGG":[function(require,module,exports) {
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};
},{}],"nKBU":[function(require,module,exports) {
"use strict";function r(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(t,n,o,a){n=n||"&",o=o||"=";var s={};if("string"!=typeof t||0===t.length)return s;var p=/\+/g;t=t.split(n);var u=1e3;a&&"number"==typeof a.maxKeys&&(u=a.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var i=0;i<c;++i){var y,l,f,v,b=t[i].replace(p,"%20"),d=b.indexOf(o);d>=0?(y=b.substr(0,d),l=b.substr(d+1)):(y=b,l=""),f=decodeURIComponent(y),v=decodeURIComponent(l),r(s,f)?e(s[f])?s[f].push(v):s[f]=[s[f],v]:s[f]=v}return s};var e=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],"sZzK":[function(require,module,exports) {
"use strict";var n=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};module.exports=function(o,u,c,a){return u=u||"&",c=c||"=",null===o&&(o=void 0),"object"==typeof o?r(t(o),function(t){var a=encodeURIComponent(n(t))+c;return e(o[t])?r(o[t],function(e){return a+encodeURIComponent(n(e))}).join(u):a+encodeURIComponent(n(o[t]))}).join(u):a?encodeURIComponent(n(a))+c+encodeURIComponent(n(o)):""};var e=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)};function r(n,e){if(n.map)return n.map(e);for(var r=[],t=0;t<n.length;t++)r.push(e(n[t],t));return r}var t=Object.keys||function(n){var e=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.push(r);return e};
},{}],"pjDS":[function(require,module,exports) {
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":"nKBU","./encode":"sZzK"}],"Jb61":[function(require,module,exports) {
"use strict";var t=require("punycode"),s=require("./util");function h(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=b,exports.resolve=O,exports.resolveObject=d,exports.format=q,exports.Url=h;var e=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,r=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r","\n","\t"],n=["{","}","|","\\","^","`"].concat(o),i=["'"].concat(n),l=["%","/","?",";","#"].concat(i),p=["/","?","#"],c=255,u=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=require("querystring");function b(t,e,a){if(t&&s.isObject(t)&&t instanceof h)return t;var r=new h;return r.parse(t,e,a),r}function q(t){return s.isString(t)&&(t=b(t)),t instanceof h?t.format():h.prototype.format.call(t)}function O(t,s){return b(t,!1,!0).resolve(s)}function d(t,s){return t?b(t,!1,!0).resolveObject(s):s}h.prototype.parse=function(h,a,o){if(!s.isString(h))throw new TypeError("Parameter 'url' must be a string, not "+typeof h);var n=h.indexOf("?"),b=-1!==n&&n<h.indexOf("#")?"?":"#",q=h.split(b);q[0]=q[0].replace(/\\/g,"/");var O=h=q.join(b);if(O=O.trim(),!o&&1===h.split("#").length){var d=r.exec(O);if(d)return this.path=O,this.href=O,this.pathname=d[1],d[2]?(this.search=d[2],this.query=a?y.parse(this.search.substr(1)):this.search.substr(1)):a&&(this.search="",this.query={}),this}var j=e.exec(O);if(j){var x=(j=j[0]).toLowerCase();this.protocol=x,O=O.substr(j.length)}if(o||j||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===O.substr(0,2);!A||j&&v[j]||(O=O.substr(2),this.slashes=!0)}if(!v[j]&&(A||j&&!g[j])){for(var C,I,w=-1,U=0;U<p.length;U++){-1!==(k=O.indexOf(p[U]))&&(-1===w||k<w)&&(w=k)}-1!==(I=-1===w?O.lastIndexOf("@"):O.lastIndexOf("@",w))&&(C=O.slice(0,I),O=O.slice(I+1),this.auth=decodeURIComponent(C)),w=-1;for(U=0;U<l.length;U++){var k;-1!==(k=O.indexOf(l[U]))&&(-1===w||k<w)&&(w=k)}-1===w&&(w=O.length),this.host=O.slice(0,w),O=O.slice(w),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var R=this.hostname.split(/\./),S=(U=0,R.length);U<S;U++){var $=R[U];if($&&!$.match(u)){for(var z="",H=0,L=$.length;H<L;H++)$.charCodeAt(H)>127?z+="x":z+=$[H];if(!z.match(u)){var Z=R.slice(0,U),_=R.slice(U+1),E=$.match(f);E&&(Z.push(E[1]),_.unshift(E[2])),_.length&&(O="/"+_.join(".")+O),this.hostname=Z.join(".");break}}}this.hostname.length>c?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=t.toASCII(this.hostname));var P=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+P,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==O[0]&&(O="/"+O))}if(!m[x])for(U=0,S=i.length;U<S;U++){var B=i[U];if(-1!==O.indexOf(B)){var D=encodeURIComponent(B);D===B&&(D=escape(B)),O=O.split(B).join(D)}}var F=O.indexOf("#");-1!==F&&(this.hash=O.substr(F),O=O.slice(0,F));var G=O.indexOf("?");if(-1!==G?(this.search=O.substr(G),this.query=O.substr(G+1),a&&(this.query=y.parse(this.query)),O=O.slice(0,G)):a&&(this.search="",this.query={}),O&&(this.pathname=O),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var J=this.search||"";this.path=P+J}return this.href=this.format(),this},h.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var h=this.protocol||"",e=this.pathname||"",a=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var n=this.search||o&&"?"+o||"";return h&&":"!==h.substr(-1)&&(h+=":"),this.slashes||(!h||g[h])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),a&&"#"!==a.charAt(0)&&(a="#"+a),n&&"?"!==n.charAt(0)&&(n="?"+n),h+r+(e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(n=n.replace("#","%23"))+a},h.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},h.prototype.resolveObject=function(t){if(s.isString(t)){var e=new h;e.parse(t,!1,!0),t=e}for(var a=new h,r=Object.keys(this),o=0;o<r.length;o++){var n=r[o];a[n]=this[n]}if(a.hash=t.hash,""===t.href)return a.href=a.format(),a;if(t.slashes&&!t.protocol){for(var i=Object.keys(t),l=0;l<i.length;l++){var p=i[l];"protocol"!==p&&(a[p]=t[p])}return g[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(t.protocol&&t.protocol!==a.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),u=0;u<c.length;u++){var f=c[u];a[f]=t[f]}return a.href=a.format(),a}if(a.protocol=t.protocol,t.host||v[t.protocol])a.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),a.pathname=m.join("/")}if(a.search=t.search,a.query=t.query,a.host=t.host||"",a.auth=t.auth,a.hostname=t.hostname||t.host,a.port=t.port,a.pathname||a.search){var y=a.pathname||"",b=a.search||"";a.path=y+b}return a.slashes=a.slashes||t.slashes,a.href=a.format(),a}var q=a.pathname&&"/"===a.pathname.charAt(0),O=t.host||t.pathname&&"/"===t.pathname.charAt(0),d=O||q||a.host&&t.pathname,j=d,x=a.pathname&&a.pathname.split("/")||[],A=(m=t.pathname&&t.pathname.split("/")||[],a.protocol&&!g[a.protocol]);if(A&&(a.hostname="",a.port=null,a.host&&(""===x[0]?x[0]=a.host:x.unshift(a.host)),a.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),d=d&&(""===m[0]||""===x[0])),O)a.host=t.host||""===t.host?t.host:a.host,a.hostname=t.hostname||""===t.hostname?t.hostname:a.hostname,a.search=t.search,a.query=t.query,x=m;else if(m.length)x||(x=[]),x.pop(),x=x.concat(m),a.search=t.search,a.query=t.query;else if(!s.isNullOrUndefined(t.search)){if(A)a.hostname=a.host=x.shift(),(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift());return a.search=t.search,a.query=t.query,s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!x.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var C=x.slice(-1)[0],I=(a.host||t.host||x.length>1)&&("."===C||".."===C)||""===C,w=0,U=x.length;U>=0;U--)"."===(C=x[U])?x.splice(U,1):".."===C?(x.splice(U,1),w++):w&&(x.splice(U,1),w--);if(!d&&!j)for(;w--;w)x.unshift("..");!d||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),I&&"/"!==x.join("/").substr(-1)&&x.push("");var k,N=""===x[0]||x[0]&&"/"===x[0].charAt(0);A&&(a.hostname=a.host=N?"":x.length?x.shift():"",(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift()));return(d=d||a.host&&x.length)&&!N&&x.unshift(""),x.length?a.pathname=x.join("/"):(a.pathname=null,a.path=null),s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=t.auth||a.auth,a.slashes=a.slashes||t.slashes,a.href=a.format(),a},h.prototype.parseHost=function(){var t=this.host,s=a.exec(t);s&&(":"!==(s=s[0])&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};
},{"punycode":"rqeL","./util":"XvGG","querystring":"pjDS"}],"u0xz":[function(require,module,exports) {
"use strict";var E,_,T,A,R,N,O,S,L,I,P,M,U,D,C,o,t;Object.defineProperty(exports,"__esModule",{value:!0}),exports.WRAP_MODES=exports.TYPES=exports.TARGETS=exports.SCALE_MODES=exports.RENDERER_TYPE=exports.PRECISION=exports.MSAA_QUALITY=exports.MIPMAP_MODES=exports.MASK_TYPES=exports.GC_MODES=exports.FORMATS=exports.ENV=exports.DRAW_MODES=exports.CLEAR_MODES=exports.BUFFER_BITS=exports.BLEND_MODES=exports.ALPHA_MODES=void 0,exports.ENV=E,function(E){E[E.WEBGL_LEGACY=0]="WEBGL_LEGACY",E[E.WEBGL=1]="WEBGL",E[E.WEBGL2=2]="WEBGL2"}(E||(exports.ENV=E={})),exports.RENDERER_TYPE=_,function(E){E[E.UNKNOWN=0]="UNKNOWN",E[E.WEBGL=1]="WEBGL",E[E.CANVAS=2]="CANVAS"}(_||(exports.RENDERER_TYPE=_={})),exports.BUFFER_BITS=T,function(E){E[E.COLOR=16384]="COLOR",E[E.DEPTH=256]="DEPTH",E[E.STENCIL=1024]="STENCIL"}(T||(exports.BUFFER_BITS=T={})),exports.BLEND_MODES=A,function(E){E[E.NORMAL=0]="NORMAL",E[E.ADD=1]="ADD",E[E.MULTIPLY=2]="MULTIPLY",E[E.SCREEN=3]="SCREEN",E[E.OVERLAY=4]="OVERLAY",E[E.DARKEN=5]="DARKEN",E[E.LIGHTEN=6]="LIGHTEN",E[E.COLOR_DODGE=7]="COLOR_DODGE",E[E.COLOR_BURN=8]="COLOR_BURN",E[E.HARD_LIGHT=9]="HARD_LIGHT",E[E.SOFT_LIGHT=10]="SOFT_LIGHT",E[E.DIFFERENCE=11]="DIFFERENCE",E[E.EXCLUSION=12]="EXCLUSION",E[E.HUE=13]="HUE",E[E.SATURATION=14]="SATURATION",E[E.COLOR=15]="COLOR",E[E.LUMINOSITY=16]="LUMINOSITY",E[E.NORMAL_NPM=17]="NORMAL_NPM",E[E.ADD_NPM=18]="ADD_NPM",E[E.SCREEN_NPM=19]="SCREEN_NPM",E[E.NONE=20]="NONE",E[E.SRC_OVER=0]="SRC_OVER",E[E.SRC_IN=21]="SRC_IN",E[E.SRC_OUT=22]="SRC_OUT",E[E.SRC_ATOP=23]="SRC_ATOP",E[E.DST_OVER=24]="DST_OVER",E[E.DST_IN=25]="DST_IN",E[E.DST_OUT=26]="DST_OUT",E[E.DST_ATOP=27]="DST_ATOP",E[E.ERASE=26]="ERASE",E[E.SUBTRACT=28]="SUBTRACT",E[E.XOR=29]="XOR"}(A||(exports.BLEND_MODES=A={})),exports.DRAW_MODES=R,function(E){E[E.POINTS=0]="POINTS",E[E.LINES=1]="LINES",E[E.LINE_LOOP=2]="LINE_LOOP",E[E.LINE_STRIP=3]="LINE_STRIP",E[E.TRIANGLES=4]="TRIANGLES",E[E.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",E[E.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(R||(exports.DRAW_MODES=R={})),exports.FORMATS=N,function(E){E[E.RGBA=6408]="RGBA",E[E.RGB=6407]="RGB",E[E.ALPHA=6406]="ALPHA",E[E.LUMINANCE=6409]="LUMINANCE",E[E.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",E[E.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",E[E.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(N||(exports.FORMATS=N={})),exports.TARGETS=O,function(E){E[E.TEXTURE_2D=3553]="TEXTURE_2D",E[E.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",E[E.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",E[E.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",E[E.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",E[E.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",E[E.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",E[E.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",E[E.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(O||(exports.TARGETS=O={})),exports.TYPES=S,function(E){E[E.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",E[E.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",E[E.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",E[E.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",E[E.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",E[E.FLOAT=5126]="FLOAT",E[E.HALF_FLOAT=36193]="HALF_FLOAT"}(S||(exports.TYPES=S={})),exports.SCALE_MODES=L,function(E){E[E.NEAREST=0]="NEAREST",E[E.LINEAR=1]="LINEAR"}(L||(exports.SCALE_MODES=L={})),exports.WRAP_MODES=I,function(E){E[E.CLAMP=33071]="CLAMP",E[E.REPEAT=10497]="REPEAT",E[E.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(I||(exports.WRAP_MODES=I={})),exports.MIPMAP_MODES=P,function(E){E[E.OFF=0]="OFF",E[E.POW2=1]="POW2",E[E.ON=2]="ON"}(P||(exports.MIPMAP_MODES=P={})),exports.ALPHA_MODES=M,function(E){E[E.NPM=0]="NPM",E[E.UNPACK=1]="UNPACK",E[E.PMA=2]="PMA",E[E.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",E[E.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",E[E.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(M||(exports.ALPHA_MODES=M={})),exports.CLEAR_MODES=U,function(E){E[E.NO=0]="NO",E[E.YES=1]="YES",E[E.AUTO=2]="AUTO",E[E.BLEND=0]="BLEND",E[E.CLEAR=1]="CLEAR",E[E.BLIT=2]="BLIT"}(U||(exports.CLEAR_MODES=U={})),exports.GC_MODES=D,function(E){E[E.AUTO=0]="AUTO",E[E.MANUAL=1]="MANUAL"}(D||(exports.GC_MODES=D={})),exports.PRECISION=C,function(E){E.LOW="lowp",E.MEDIUM="mediump",E.HIGH="highp"}(C||(exports.PRECISION=C={})),exports.MASK_TYPES=o,function(E){E[E.NONE=0]="NONE",E[E.SCISSOR=1]="SCISSOR",E[E.STENCIL=2]="STENCIL",E[E.SPRITE=3]="SPRITE"}(o||(exports.MASK_TYPES=o={})),exports.MSAA_QUALITY=t,function(E){E[E.NONE=0]="NONE",E[E.LOW=2]="LOW",E[E.MEDIUM=4]="MEDIUM",E[E.HIGH=8]="HIGH"}(t||(exports.MSAA_QUALITY=t={}));
},{}],"xS69":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clearTextureCache=W,exports.correctBlendMode=b,exports.createIndicesForQuads=D,exports.decomposeDataUri=z,exports.deprecation=I,exports.destroyTextureCache=k,exports.determineCrossOrigin=H,exports.getBufferType=O,exports.getResolutionOfUrl=V,exports.hex2rgb=g,exports.hex2string=x,exports.interleaveTypedArrays=M,exports.isPow2=P,exports.isWebGLSupported=d,exports.log2=N,exports.nextPow2=C,exports.premultiplyRgba=w,exports.premultiplyTint=A,exports.premultiplyTintToRgba=m,exports.removeItems=R,exports.rgb2hex=v,exports.sayHello=p,exports.sign=L,exports.skipHello=f,exports.string2hex=h,exports.trimCanvas=q,exports.uid=S,Object.defineProperty(exports,"isMobile",{enumerable:!0,get:function(){return e.isMobile}}),Object.defineProperty(exports,"EventEmitter",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"earcut",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"url",{enumerable:!0,get:function(){return n.default}}),exports.premultiplyBlendMode=exports.TextureCache=exports.ProgramCache=exports.DATA_URI=exports.CanvasRenderTarget=exports.BaseTextureCache=void 0;var e=require("@pixi/settings"),t=s(require("eventemitter3")),r=s(require("earcut")),n=a(require("url")),o=require("@pixi/constants");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function s(e){return e&&e.__esModule?e:{default:e}}e.settings.RETINA_PREFIX=/@([0-9\.]+)x/,e.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var c,u=!1,l="5.3.9";function f(){u=!0}function p(e){var t;if(!u){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS "+l+" - ✰ "+e+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=window.console).log.apply(t,r)}else window.console&&window.console.log("PixiJS "+l+" - "+e+" - http://www.pixijs.com/");u=!0}}function d(){return void 0===c&&(c=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:e.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t),o=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension("WEBGL_lose_context");i&&i.loseContext()}return n=null,o}catch(a){return!1}}()),c}function g(e,t){return void 0===t&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function x(e){var t=e.toString(16);return"#"+(t="000000".substr(0,6-t.length)+t)}function h(e){return"string"==typeof e&&"#"===e[0]&&(e=e.substr(1)),parseInt(e,16)}function v(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)}function E(){for(var e=[],t=[],r=0;r<32;r++)e[r]=r,t[r]=r;e[o.BLEND_MODES.NORMAL_NPM]=o.BLEND_MODES.NORMAL,e[o.BLEND_MODES.ADD_NPM]=o.BLEND_MODES.ADD,e[o.BLEND_MODES.SCREEN_NPM]=o.BLEND_MODES.SCREEN,t[o.BLEND_MODES.NORMAL]=o.BLEND_MODES.NORMAL_NPM,t[o.BLEND_MODES.ADD]=o.BLEND_MODES.ADD_NPM,t[o.BLEND_MODES.SCREEN]=o.BLEND_MODES.SCREEN_NPM;var n=[];return n.push(t),n.push(e),n}var y=E();function b(e,t){return y[t?1:0][e]}function w(e,t,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r}function A(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var r=e>>16&255,n=e>>8&255,o=255&e;return(255*t<<24)+((r=r*t+.5|0)<<16)+((n=n*t+.5|0)<<8)+(o=o*t+.5|0)}function m(e,t,r,n){return(r=r||new Float32Array(4))[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(255&e)/255,(n||void 0===n)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function D(e,t){void 0===t&&(t=null);var r=6*e;if((t=t||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+r);for(var n=0,o=0;n<r;n+=6,o+=4)t[n+0]=o+0,t[n+1]=o+1,t[n+2]=o+2,t[n+3]=o+0,t[n+4]=o+2,t[n+5]=o+3;return t}function O(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}exports.premultiplyBlendMode=y;var _={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function M(e,t){for(var r=0,n=0,o={},i=0;i<e.length;i++)n+=t[i],r+=e[i].length;var a=new ArrayBuffer(4*r),s=null,c=0;for(i=0;i<e.length;i++){var u=t[i],l=e[i],f=O(l);o[f]||(o[f]=new _[f](a)),s=o[f];for(var p=0;p<l.length;p++){s[(p/u|0)*n+c+p%u]=l[p]}c+=u}return new Float32Array(a)}function C(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function P(e){return!(e&e-1||!e)}function N(e){var t=(e>65535?1:0)<<4,r=((e>>>=t)>255?1:0)<<3;return t|=r,t|=r=((e>>>=r)>15?1:0)<<2,(t|=r=((e>>>=r)>3?1:0)<<1)|(e>>>=r)>>1}function R(e,t,r){var n,o=e.length;if(!(t>=o||0===r)){var i=o-(r=t+r>o?o-t:r);for(n=t;n<i;++n)e[n]=e[n+r];e.length=i}}function L(e){return 0===e?0:e<0?-1:1}var T=0;function S(){return++T}var B={};function I(e,t,r){if(void 0===r&&(r=3),!B[t]){var n=(new Error).stack;void 0===n?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+e),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e),console.warn(n))),B[t]=!0}}var j={};exports.ProgramCache=j;var F=Object.create(null);exports.TextureCache=F;var U=Object.create(null);function k(){var e;for(e in F)F[e].destroy();for(e in U)U[e].destroy()}function W(){var e;for(e in F)delete F[e];for(e in U)delete U[e]}exports.BaseTextureCache=U;var J=function(){function t(t,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||e.settings.RESOLUTION,this.resize(t,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e},enumerable:!1,configurable:!0}),t}();function q(e){var t,r,n,o=e.width,i=e.height,a=e.getContext("2d"),s=a.getImageData(0,0,o,i).data,c=s.length,u={top:null,left:null,right:null,bottom:null},l=null;for(t=0;t<c;t+=4)0!==s[t+3]&&(r=t/4%o,n=~~(t/4/o),null===u.top&&(u.top=n),null===u.left?u.left=r:r<u.left&&(u.left=r),null===u.right?u.right=r+1:u.right<r&&(u.right=r+1),null===u.bottom?u.bottom=n:u.bottom<n&&(u.bottom=n));return null!==u.top&&(o=u.right-u.left,i=u.bottom-u.top+1,l=a.getImageData(u.left,u.top,o,i)),{height:i,width:o,data:l}}exports.CanvasRenderTarget=J;var G,Y=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function z(e){var t=Y.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function H(e,t){if(void 0===t&&(t=window.location),0===e.indexOf("data:"))return"";t=t||window.location,G||(G=document.createElement("a")),G.href=e;var r=(0,n.parse)(G.href),o=!r.port&&""===t.port||r.port===t.port;return r.hostname===t.hostname&&o&&r.protocol===t.protocol?"":"anonymous"}function V(t,r){var n=e.settings.RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):void 0!==r?r:1}exports.DATA_URI=Y;
},{"@pixi/settings":"HWBD","eventemitter3":"UASB","earcut":"2qpy","url":"Jb61","@pixi/constants":"u0xz"}],"bSXT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.groupD8=exports.Transform=exports.SHAPES=exports.RoundedRectangle=exports.Rectangle=exports.RAD_TO_DEG=exports.Polygon=exports.Point=exports.PI_2=exports.ObservablePoint=exports.Matrix=exports.Ellipse=exports.DEG_TO_RAD=exports.Circle=void 0;var t=2*Math.PI;exports.PI_2=t;var i=180/Math.PI;exports.RAD_TO_DEG=i;var s,h=Math.PI/180;exports.DEG_TO_RAD=h,exports.SHAPES=s,function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(s||(exports.SHAPES=s={}));var o=function(){function t(t,i,h,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===h&&(h=0),void 0===o&&(o=0),this.x=Number(t),this.y=Number(i),this.width=Number(h),this.height=Number(o),this.type=s.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,i){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&i>=this.y&&i<this.y+this.height)},t.prototype.pad=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=t),this.x-=t,this.y-=i,this.width+=2*t,this.height+=2*i,this},t.prototype.fit=function(t){var i=Math.max(this.x,t.x),s=Math.min(this.x+this.width,t.x+t.width),h=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=i,this.width=Math.max(s-i,0),this.y=h,this.height=Math.max(o-h,0),this},t.prototype.ceil=function(t,i){void 0===t&&(t=1),void 0===i&&(i=.001);var s=Math.ceil((this.x+this.width-i)*t)/t,h=Math.ceil((this.y+this.height-i)*t)/t;return this.x=Math.floor((this.x+i)*t)/t,this.y=Math.floor((this.y+i)*t)/t,this.width=s-this.x,this.height=h-this.y,this},t.prototype.enlarge=function(t){var i=Math.min(this.x,t.x),s=Math.max(this.x+this.width,t.x+t.width),h=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=i,this.width=s-i,this.y=h,this.height=o-h,this},t}();exports.Rectangle=o;var r=function(){function t(t,i,h){void 0===t&&(t=0),void 0===i&&(i=0),void 0===h&&(h=0),this.x=t,this.y=i,this.radius=h,this.type=s.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,i){if(this.radius<=0)return!1;var s=this.radius*this.radius,h=this.x-t,o=this.y-i;return(h*=h)+(o*=o)<=s},t.prototype.getBounds=function(){return new o(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();exports.Circle=r;var e=function(){function t(t,i,h,o){void 0===t&&(t=0),void 0===i&&(i=0),void 0===h&&(h=0),void 0===o&&(o=0),this.x=t,this.y=i,this.width=h,this.height=o,this.type=s.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,i){if(this.width<=0||this.height<=0)return!1;var s=(t-this.x)/this.width,h=(i-this.y)/this.height;return(s*=s)+(h*=h)<=1},t.prototype.getBounds=function(){return new o(this.x-this.width,this.y-this.height,this.width,this.height)},t}();exports.Ellipse=e;var n=function(){function t(){for(var t=arguments,i=[],h=0;h<arguments.length;h++)i[h]=t[h];var o=Array.isArray(i[0])?i[0]:i;if("number"!=typeof o[0]){for(var r=[],e=0,n=o.length;e<n;e++)r.push(o[e].x,o[e].y);o=r}this.points=o,this.type=s.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var i=new t(this.points.slice());return i.closeStroke=this.closeStroke,i},t.prototype.contains=function(t,i){for(var s=!1,h=this.points.length/2,o=0,r=h-1;o<h;r=o++){var e=this.points[2*o],n=this.points[2*o+1],a=this.points[2*r],c=this.points[2*r+1];n>i!=c>i&&t<(i-n)/(c-n)*(a-e)+e&&(s=!s)}return s},t}();exports.Polygon=n;var a=function(){function t(t,i,h,o,r){void 0===t&&(t=0),void 0===i&&(i=0),void 0===h&&(h=0),void 0===o&&(o=0),void 0===r&&(r=20),this.x=t,this.y=i,this.width=h,this.height=o,this.radius=r,this.type=s.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,i){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){if(i>=this.y+this.radius&&i<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var s=t-(this.x+this.radius),h=i-(this.y+this.radius),o=this.radius*this.radius;if(s*s+h*h<=o)return!0;if((s=t-(this.x+this.width-this.radius))*s+h*h<=o)return!0;if(s*s+(h=i-(this.y+this.height-this.radius))*h<=o)return!0;if((s=t-(this.x+this.radius))*s+h*h<=o)return!0}return!1},t}();exports.RoundedRectangle=a;var c=function(){function t(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.x=t,this.y=i}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=t),this.x=t,this.y=i,this},t}();exports.Point=c;var u=function(){function t(t,i,s,h){void 0===s&&(s=0),void 0===h&&(h=0),this._x=s,this._y=h,this.cb=t,this.scope=i}return t.prototype.clone=function(i,s){return void 0===i&&(i=this.cb),void 0===s&&(s=this.scope),new t(i,s,this._x,this._y)},t.prototype.set=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=t),this._x===t&&this._y===i||(this._x=t,this._y=i,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}();exports.ObservablePoint=u;var p=function(){function i(t,i,s,h,o,r){void 0===t&&(t=1),void 0===i&&(i=0),void 0===s&&(s=0),void 0===h&&(h=1),void 0===o&&(o=0),void 0===r&&(r=0),this.array=null,this.a=t,this.b=i,this.c=s,this.d=h,this.tx=o,this.ty=r}return i.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},i.prototype.set=function(t,i,s,h,o,r){return this.a=t,this.b=i,this.c=s,this.d=h,this.tx=o,this.ty=r,this},i.prototype.toArray=function(t,i){this.array||(this.array=new Float32Array(9));var s=i||this.array;return t?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s},i.prototype.apply=function(t,i){i=i||new c;var s=t.x,h=t.y;return i.x=this.a*s+this.c*h+this.tx,i.y=this.b*s+this.d*h+this.ty,i},i.prototype.applyInverse=function(t,i){i=i||new c;var s=1/(this.a*this.d+this.c*-this.b),h=t.x,o=t.y;return i.x=this.d*s*h+-this.c*s*o+(this.ty*this.c-this.tx*this.d)*s,i.y=this.a*s*o+-this.b*s*h+(-this.ty*this.a+this.tx*this.b)*s,i},i.prototype.translate=function(t,i){return this.tx+=t,this.ty+=i,this},i.prototype.scale=function(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this},i.prototype.rotate=function(t){var i=Math.cos(t),s=Math.sin(t),h=this.a,o=this.c,r=this.tx;return this.a=h*i-this.b*s,this.b=h*s+this.b*i,this.c=o*i-this.d*s,this.d=o*s+this.d*i,this.tx=r*i-this.ty*s,this.ty=r*s+this.ty*i,this},i.prototype.append=function(t){var i=this.a,s=this.b,h=this.c,o=this.d;return this.a=t.a*i+t.b*h,this.b=t.a*s+t.b*o,this.c=t.c*i+t.d*h,this.d=t.c*s+t.d*o,this.tx=t.tx*i+t.ty*h+this.tx,this.ty=t.tx*s+t.ty*o+this.ty,this},i.prototype.setTransform=function(t,i,s,h,o,r,e,n,a){return this.a=Math.cos(e+a)*o,this.b=Math.sin(e+a)*o,this.c=-Math.sin(e-n)*r,this.d=Math.cos(e-n)*r,this.tx=t-(s*this.a+h*this.c),this.ty=i-(s*this.b+h*this.d),this},i.prototype.prepend=function(t){var i=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var s=this.a,h=this.c;this.a=s*t.a+this.b*t.c,this.b=s*t.b+this.b*t.d,this.c=h*t.a+this.d*t.c,this.d=h*t.b+this.d*t.d}return this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this},i.prototype.decompose=function(i){var s=this.a,h=this.b,o=this.c,r=this.d,e=-Math.atan2(-o,r),n=Math.atan2(h,s),a=Math.abs(e+n);return a<1e-5||Math.abs(t-a)<1e-5?(i.rotation=n,i.skew.x=i.skew.y=0):(i.rotation=0,i.skew.x=e,i.skew.y=n),i.scale.x=Math.sqrt(s*s+h*h),i.scale.y=Math.sqrt(o*o+r*r),i.position.x=this.tx,i.position.y=this.ty,i},i.prototype.invert=function(){var t=this.a,i=this.b,s=this.c,h=this.d,o=this.tx,r=t*h-i*s;return this.a=h/r,this.b=-i/r,this.c=-s/r,this.d=t/r,this.tx=(s*this.ty-h*o)/r,this.ty=-(t*this.ty-i*o)/r,this},i.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.prototype.clone=function(){var t=new i;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(i,"IDENTITY",{get:function(){return new i},enumerable:!1,configurable:!0}),Object.defineProperty(i,"TEMP_MATRIX",{get:function(){return new i},enumerable:!1,configurable:!0}),i}();exports.Matrix=p;var y=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],d=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],x=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],f=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],v=[],b=Math.sign;function _(){for(var t=0;t<16;t++){var i=[];l.push(i);for(var s=0;s<16;s++)for(var h=b(y[t]*y[s]+x[t]*d[s]),o=b(d[t]*y[s]+f[t]*d[s]),r=b(y[t]*x[s]+x[t]*f[s]),e=b(d[t]*x[s]+f[t]*f[s]),n=0;n<16;n++)if(y[n]===h&&d[n]===o&&x[n]===r&&f[n]===e){i.push(n);break}}for(t=0;t<16;t++){var a=new p;a.set(y[t],d[t],x[t],f[t],0,0),v.push(a)}}_();var w={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return y[t]},uY:function(t){return d[t]},vX:function(t){return x[t]},vY:function(t){return f[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,i){return l[t][i]},sub:function(t,i){return l[t][w.inv(i)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,i){return 2*Math.abs(t)<=Math.abs(i)?i>=0?w.S:w.N:2*Math.abs(i)<=Math.abs(t)?t>0?w.E:w.W:i>0?t>0?w.SE:w.SW:t>0?w.NE:w.NW},matrixAppendRotationInv:function(t,i,s,h){void 0===s&&(s=0),void 0===h&&(h=0);var o=v[w.inv(i)];o.tx=s,o.ty=h,t.append(o)}};exports.groupD8=w;var g=function(){function t(){this.worldTransform=new p,this.localTransform=new p,this.position=new u(this.onChange,this,0,0),this.scale=new u(this.onChange,this,1,1),this.pivot=new u(this.onChange,this,0,0),this.skew=new u(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var i=this.localTransform;if(this._localID!==this._currentLocalID&&(i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var s=t.worldTransform,h=this.worldTransform;h.a=i.a*s.a+i.b*s.c,h.b=i.a*s.b+i.b*s.d,h.c=i.c*s.a+i.d*s.c,h.d=i.c*s.b+i.d*s.d,h.tx=i.tx*s.a+i.ty*s.c+s.tx,h.ty=i.tx*s.b+i.ty*s.d+s.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();exports.Transform=g;
},{}],"sIot":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TemporaryDisplayObject=exports.DisplayObject=exports.Container=exports.Bounds=void 0;var t=require("@pixi/settings"),e=require("@pixi/math"),i=require("@pixi/utils");t.settings.SORTABLE_CHILDREN=!1;var n=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?e.Rectangle.EMPTY:((t=t||new e.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY,s=t[0],o=t[1];e=s<e?s:e,i=o<i?o:i,n=s>n?s:n,r=o>r?o:r,e=(s=t[2])<e?s:e,i=(o=t[3])<i?o:i,n=s>n?s:n,r=o>r?o:r,e=(s=t[4])<e?s:e,i=(o=t[5])<i?o:i,n=s>n?s:n,r=o>r?o:r,e=(s=t[6])<e?s:e,i=(o=t[7])<i?o:i,n=s>n?s:n,r=o>r?o:r,this.minX=e,this.minY=i,this.maxX=n,this.maxY=r},t.prototype.addFrame=function(t,e,i,n,r){this.addFrameMatrix(t.worldTransform,e,i,n,r)},t.prototype.addFrameMatrix=function(t,e,i,n,r){var s=t.a,o=t.b,a=t.c,h=t.d,l=t.tx,d=t.ty,p=this.minX,m=this.minY,u=this.maxX,c=this.maxY,f=s*e+a*i+l,y=o*e+h*i+d;p=f<p?f:p,m=y<m?y:m,u=f>u?f:u,c=y>c?y:c,p=(f=s*n+a*i+l)<p?f:p,m=(y=o*n+h*i+d)<m?y:m,u=f>u?f:u,c=y>c?y:c,p=(f=s*e+a*r+l)<p?f:p,m=(y=o*e+h*r+d)<m?y:m,u=f>u?f:u,c=y>c?y:c,p=(f=s*n+a*r+l)<p?f:p,m=(y=o*n+h*r+d)<m?y:m,u=f>u?f:u,c=y>c?y:c,this.minX=p,this.minY=m,this.maxX=u,this.maxY=c},t.prototype.addVertexData=function(t,e,i){for(var n=this.minX,r=this.minY,s=this.maxX,o=this.maxY,a=e;a<i;a+=2){var h=t[a],l=t[a+1];n=h<n?h:n,r=l<r?l:r,s=h>s?h:s,o=l>o?l:o}this.minX=n,this.minY=r,this.maxX=s,this.maxY=o},t.prototype.addVertices=function(t,e,i,n){this.addVerticesMatrix(t.worldTransform,e,i,n)},t.prototype.addVerticesMatrix=function(t,e,i,n,r,s){void 0===r&&(r=0),void 0===s&&(s=r);for(var o=t.a,a=t.b,h=t.c,l=t.d,d=t.tx,p=t.ty,m=this.minX,u=this.minY,c=this.maxX,f=this.maxY,y=i;y<n;y+=2){var b=e[y],x=e[y+1],v=o*b+h*x+d,_=l*x+a*b+p;m=Math.min(m,v-r),c=Math.max(c,v+r),u=Math.min(u,_-s),f=Math.max(f,_+s)}this.minX=m,this.minY=u,this.maxX=c,this.maxY=f},t.prototype.addBounds=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>r?t.maxY:r},t.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,r=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=r&&n<=s){var o=this.minX,a=this.minY,h=this.maxX,l=this.maxY;this.minX=i<o?i:o,this.minY=n<a?n:a,this.maxX=r>h?r:h,this.maxY=s>l?s:l}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,r=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=r&&n<=s){var o=this.minX,a=this.minY,h=this.maxX,l=this.maxY;this.minX=i<o?i:o,this.minY=n<a?n:a,this.maxX=r>h?r:h,this.maxY=s>l?s:l}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,i,n,r,s){t-=r,e-=s,i+=r,n+=s,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n},t}();exports.Bounds=n;var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function s(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var o=function(t){function i(){var i=t.call(this)||this;return i.tempDisplayObjectParent=null,i.transform=new e.Transform,i.alpha=1,i.visible=!0,i.renderable=!0,i.parent=null,i.worldAlpha=1,i._lastSortedIndex=0,i._zIndex=0,i.filterArea=null,i.filters=null,i._enabledFilters=null,i._bounds=new n,i._localBounds=null,i._boundsID=0,i._boundsRect=null,i._localBoundsRect=null,i._mask=null,i._destroyed=!1,i.isSprite=!1,i.isMask=!1,i}return s(i,t),i.mixin=function(t){for(var e=Object.keys(t),n=0;n<e.length;++n){var r=e[n];Object.defineProperty(i.prototype,r,Object.getOwnPropertyDescriptor(t,r))}},i.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},i.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},i.prototype.getBounds=function(t,i){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new e.Rectangle),i=this._boundsRect),this._bounds.getRectangle(i)},i.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new e.Rectangle),t=this._localBoundsRect),this._localBounds||(this._localBounds=new n);var i=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,t);return this.parent=r,this.transform=i,this._bounds=s,this._bounds.updateID+=this._boundsID-o,a},i.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},i.prototype.toLocal=function(t,e,i,n){return e&&(t=e.toGlobal(t,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},i.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},i.prototype.setTransform=function(t,e,i,n,r,s,o,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===n&&(n=1),void 0===r&&(r=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=n||1,this.rotation=r,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=h,this},i.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(i.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new a),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),i.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},i.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(i.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.transform.rotation*e.RAD_TO_DEG},set:function(t){this.transform.rotation=t*e.DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1);(this._mask=t,this._mask)&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),i}(i.EventEmitter);exports.DisplayObject=o;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return s(e,t),e}(o);function h(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}exports.TemporaryDisplayObject=a,o.prototype.displayObjectUpdateTransform=o.prototype.updateTransform;var l=function(e){function n(){var i=e.call(this)||this;return i.children=[],i.sortableChildren=t.settings.SORTABLE_CHILDREN,i.sortDirty=!1,i}return s(n,e),n.prototype.onChildrenChange=function(t){},n.prototype.addChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(e.length>1)for(var n=0;n<e.length;n++)this.addChild(e[n]);else{var r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]},n.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},n.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),n=this.getChildIndex(e);this.children[i]=e,this.children[n]=t,this.onChildrenChange(i<n?i:n)}},n.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},n.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(t);(0,i.removeItems)(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},n.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},n.prototype.removeChild=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(e.length>1)for(var r=0;r<e.length;r++)this.removeChild(e[r]);else{var s=e[0],o=this.children.indexOf(s);if(-1===o)return null;s.parent=null,s.transform._parentID=-1,(0,i.removeItems)(this.children,o,1),this._boundsID++,this.onChildrenChange(o),s.emit("removed",this),this.emit("childRemoved",s,this,o)}return e[0]},n.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,i.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},n.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var i,n=t,r=e-n;if(r>0&&r<=e){i=this.children.splice(n,r);for(var s=0;s<i.length;++s)i[s].parent=null,i[s].transform&&(i[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(s=0;s<i.length;++s)i[s].emit("removed",this),this.emit("childRemoved",i[s],this,s);return i}if(0===r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},n.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var n=this.children[e];n._lastSortedIndex=e,t||0===n.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(h),this.sortDirty=!1},n.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},n.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var i=e._mask.maskObject||e._mask;i.calculateBounds(),this._bounds.addBoundsMask(e._bounds,i._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},n.prototype.getLocalBounds=function(t,i){void 0===i&&(i=!1);var n=e.prototype.getLocalBounds.call(this,t);if(!i)for(var r=0,s=this.children.length;r<s;++r){var o=this.children[r];o.visible&&o.updateTransform()}return n},n.prototype._calculateBounds=function(){},n.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},n.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}i&&t.mask.push(this,this._mask),this._render(t);n=0;for(var r=this.children.length;n<r;n++)this.children[n].render(t);t.batch.flush(),i&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},n.prototype._render=function(t){},n.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof t?t:t&&t.children,n=this.removeChildren(0,this.children.length);if(i)for(var r=0;r<n.length;++r)n[r].destroy(t)},Object.defineProperty(n.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),n}(o);exports.Container=l,l.prototype.containerUpdateTransform=l.prototype.updateTransform;
},{"@pixi/settings":"HWBD","@pixi/math":"bSXT","@pixi/utils":"xS69"}],"vb/C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.accessibleTarget=exports.AccessibilityManager=void 0;var e=require("@pixi/display"),t=require("@pixi/utils"),i={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};exports.accessibleTarget=i,e.DisplayObject.mixin(i);var s=9,n=100,o=0,r=0,l=2,a=1,c=-1e3,d=-1e3,h=2,p=function(){function e(e){this._hookDiv=null,(t.isMobile.tablet||t.isMobile.phone)&&this.createTouchHook();var i=document.createElement("div");i.style.width=n+"px",i.style.height=n+"px",i.style.position="absolute",i.style.top=o+"px",i.style.left=r+"px",i.style.zIndex=l.toString(),this.div=i,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width=a+"px",t.style.height=a+"px",t.style.position="absolute",t.style.top=c+"px",t.style.left=d+"px",t.style.zIndex=h.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessability for this content",t.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var t=e.children,i=0;i<t.length;i++)this.updateAccessibleObjects(t[i])}},e.prototype.update=function(){var e=performance.now();if(!(t.isMobile.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var i=this.renderer.view.getBoundingClientRect(),s=this.renderer.resolution,n=i.width/this.renderer.width*s,o=i.height/this.renderer.height*s,r=this.div;r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var l=0;l<this.children.length;l++){var a=this.children[l];if(a.renderId!==this.renderId)a._accessibleActive=!1,(0,t.removeItems)(this.children,l,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,l--;else{r=a._accessibleDiv;var c=a.hitArea,d=a.worldTransform;a.hitArea?(r.style.left=(d.tx+c.x*d.a)*n+"px",r.style.top=(d.ty+c.y*d.d)*o+"px",r.style.width=c.width*d.a*n+"px",r.style.height=c.height*d.d*o+"px"):(c=a.getBounds(),this.capHitArea(c),r.style.left=c.x*n+"px",r.style.top=c.y*o+"px",r.style.width=c.width*n+"px",r.style.height=c.height*o+"px",r.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(r.title=a.accessibleTitle),r.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&r.setAttribute("aria-label",a.accessibleHint)),a.accessibleTitle===r.title&&a.tabIndex===r.tabIndex||(r.title=a.accessibleTitle,r.tabIndex=a.tabIndex,this.debug&&this.updateDebugHTML(r))}}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width=n+"px",t.style.height=n+"px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=l.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"click",t.eventData),t.dispatchEvent(e.target.displayObject,"pointertap",t.eventData),t.dispatchEvent(e.target.displayObject,"tap",t.eventData)},e.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseover",t.eventData)},e.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseout",t.eventData)},e.prototype._onKeyDown=function(e){e.keyCode===s&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();exports.AccessibilityManager=p;
},{"@pixi/display":"sIot","@pixi/utils":"xS69"}],"4QEk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UPDATE_PRIORITY=exports.TickerPlugin=exports.Ticker=void 0;var t,e=require("@pixi/settings");e.settings.TARGET_FPMS=.06,exports.UPDATE_PRIORITY=t,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(t||(exports.UPDATE_PRIORITY=t={}));var i=function(){function t(t,e,i,s){void 0===e&&(e=null),void 0===i&&(i=0),void 0===s&&(s=!1),this.fn=t,this.context=e,this.priority=i,this.once=s,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),s=function(){function s(){var t=this;this._head=new i(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/e.settings.TARGET_FPMS,this.elapsedMS=1/e.settings.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return s.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},s.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},s.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},s.prototype.add=function(e,s,r){return void 0===r&&(r=t.NORMAL),this._addListener(new i(e,s,r))},s.prototype.addOnce=function(e,s,r){return void 0===r&&(r=t.NORMAL),this._addListener(new i(e,s,r,!0))},s.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},s.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(s.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),s.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},s.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},s.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},s.prototype.update=function(t){var i;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((i=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){var s=t-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=t-s%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*e.settings.TARGET_FPMS;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(s.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var i=Math.min(this.maxFPS,t),s=Math.min(Math.max(0,i)/1e3,e.settings.TARGET_FPMS);this._maxElapsedMS=1/s},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(s,"shared",{get:function(){if(!s._shared){var t=s._shared=new s;t.autoStart=!0,t._protected=!0}return s._shared},enumerable:!1,configurable:!0}),Object.defineProperty(s,"system",{get:function(){if(!s._system){var t=s._system=new s;t.autoStart=!0,t._protected=!0}return s._system},enumerable:!1,configurable:!0}),s}();exports.Ticker=s;var r=function(){function e(){}return e.init=function(e){var i=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,t.LOW)},get:function(){return this._ticker}}),this.stop=function(){i._ticker.stop()},this.start=function(){i._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?s.shared:new s,e.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},e}();exports.TickerPlugin=r;
},{"@pixi/settings":"HWBD"}],"D2DI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interactiveTarget=exports.InteractionTrackingData=exports.InteractionManager=exports.InteractionEvent=exports.InteractionData=void 0;var t=require("@pixi/math"),e=require("@pixi/ticker"),i=require("@pixi/display"),n=require("@pixi/utils"),o=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new t.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},e.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}();exports.InteractionData=o;var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function s(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var a=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}();exports.InteractionEvent=a;var h=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}();exports.InteractionTrackingData=h;var c=function(){function e(){this._tempPoint=new t.Point}return e.prototype.recursiveFindHit=function(t,e,i,n,o){if(!e||!e.visible)return!1;var r=t.data.global,s=!1,a=o=e.interactive||o,h=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(r,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(n=!1,h=!1)),a=!1):e._mask&&n&&(e._mask.containsPoint&&e._mask.containsPoint(r)||(n=!1)),h&&e.interactiveChildren&&e.children)for(var c=e.children,p=c.length-1;p>=0;p--){var u=c[p],l=this.recursiveFindHit(t,u,i,n,a);if(l){if(!u.parent)continue;a=!1,l&&(t.target&&(n=!1),s=!0)}}return o&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(r)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),i&&i(t,e,!!s))),s},e.prototype.findHit=function(t,e,i,n){this.recursiveFindHit(t,e,i,n,!1)},e}(),p={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};exports.interactiveTarget=p,i.DisplayObject.mixin(p);var u=1,l={target:null,data:{global:null}},d=function(t){function n(e,n){var r=t.call(this)||this;return n=n||{},r.renderer=e,r.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,r.interactionFrequency=n.interactionFrequency||10,r.mouse=new o,r.mouse.identifier=u,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[u]=r.mouse,r.interactionDataPool=[],r.eventData=new a,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new c,r._tempDisplayObject=new i.TemporaryDisplayObject,r._useSystemTicker=void 0===n.useSystemTicker||n.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return s(n,t),Object.defineProperty(n.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),n.prototype.hitTest=function(t,e){return l.target=null,l.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(l,e,null,!0),l.target},n.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},n.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(e.Ticker.system.add(this.tickerUpdate,this,e.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},n.prototype.removeTickerListener=function(){this.tickerAdded&&(e.Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},n.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},n.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},n.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},n.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},n.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},n.prototype.dispatchEvent=function(t,e,i){i.stopPropagationHint&&t!==i.stopsPropagatingAt||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},n.prototype.delayDispatchEvent=function(t,e,i){this.delayedEvents.push({displayObject:t,eventString:e,eventData:i})},n.prototype.mapPositionToPoint=function(t,e,i){var n;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var o=1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*o,t.y=(i-n.top)*(this.interactionDOMElement.height/n.height)*o},n.prototype.processInteractive=function(t,e,i,n){var o=this.search.findHit(t,e,i,n),r=this.delayedEvents;if(!r.length)return o;t.stopPropagationHint=!1;var s=r.length;this.delayedEvents=[];for(var a=0;a<s;a++){var h=r[a],c=h.displayObject,p=h.eventString,u=h.eventData;u.stopsPropagatingAt===c&&(u.stopPropagationHint=!0),this.dispatchEvent(c,p,u)}return o},n.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var i=e.length,n=0;n<i;n++){var o=e[n],r=this.getInteractionDataForPointerId(o),s=this.configureInteractionEventForDOMEvent(this.eventData,o,r);if(s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===o.pointerType)this.emit("touchstart",s);else if("mouse"===o.pointerType||"pen"===o.pointerType){var a=2===o.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},n.prototype.processPointerDown=function(t,e,i){var n=t.data,o=t.data.identifier;if(i)if(e.trackedPointers[o]||(e.trackedPointers[o]=new h(o)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var r=2===n.button;r?e.trackedPointers[o].rightDown=!0:e.trackedPointers[o].leftDown=!0,this.dispatchEvent(e,r?"rightdown":"mousedown",t)}},n.prototype.onPointerComplete=function(t,e,i){for(var n=this.normalizeToPointerData(t),o=n.length,r=t.target!==this.interactionDOMElement?"outside":"",s=0;s<o;s++){var a=n[s],h=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(c.data.originalEvent=t,this.processInteractive(c,this.lastObjectRendered,i,e||!r),this.emit(e?"pointercancel":"pointerup"+r,c),"mouse"===a.pointerType||"pen"===a.pointerType){var p=2===a.button;this.emit(p?"rightup"+r:"mouseup"+r,c)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+r,c),this.releaseInteractionDataForPointerId(a.pointerId))}},n.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},n.prototype.processPointerCancel=function(t,e){var i=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},n.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},n.prototype.processPointerUp=function(t,e,i){var n=t.data,o=t.data.identifier,r=e.trackedPointers[o],s="touch"===n.pointerType,a="mouse"===n.pointerType||"pen"===n.pointerType,c=!1;if(a){var p=2===n.button,u=h.FLAGS,l=p?u.RIGHT_DOWN:u.LEFT_DOWN,d=void 0!==r&&r.flags&l;i?(this.dispatchEvent(e,p?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,p?"rightclick":"click",t),c=!0)):d&&this.dispatchEvent(e,p?"rightupoutside":"mouseupoutside",t),r&&(p?r.rightDown=!1:r.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),r&&(a&&!c||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),r.over=!1))):r&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),r&&r.none&&delete e.trackedPointers[o]},n.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var i=e.length,n=0;n<i;n++){var o=e[n],r=this.getInteractionDataForPointerId(o),s=this.configureInteractionEventForDOMEvent(this.eventData,o,r);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===o.pointerType&&this.emit("touchmove",s),"mouse"!==o.pointerType&&"pen"!==o.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},n.prototype.processPointerMove=function(t,e,i){var n=t.data,o="touch"===n.pointerType,r="mouse"===n.pointerType||"pen"===n.pointerType;r&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),o&&this.dispatchEvent(e,"touchmove",t),r&&this.dispatchEvent(e,"mousemove",t))},n.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,i);n.data.originalEvent=e,this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(i.identifier)}},n.prototype.processPointerOverOut=function(t,e,i){var n=t.data,o=t.data.identifier,r="mouse"===n.pointerType||"pen"===n.pointerType,s=e.trackedPointers[o];i&&!s&&(s=e.trackedPointers[o]=new h(o)),void 0!==s&&(i&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),r&&this.delayDispatchEvent(e,"mouseover",t)),r&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),r&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[o]))},n.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,i);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},n.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return i===u||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new o).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},n.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},n.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},n.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,n=t.changedTouches.length;i<n;i++){var o=t.changedTouches[i];void 0===o.button&&(o.button=t.touches.length?1:0),void 0===o.buttons&&(o.buttons=t.touches.length?1:0),void 0===o.isPrimary&&(o.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===o.width&&(o.width=o.radiusX||1),void 0===o.height&&(o.height=o.radiusY||1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="touch"),void 0===o.pointerId&&(o.pointerId=o.identifier||0),void 0===o.pressure&&(o.pressure=o.force||.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),void 0===o.layerX&&(o.layerX=o.offsetX=o.clientX),void 0===o.layerY&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,e.push(o)}else if(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent)e.push(t);else{var r=t;void 0===r.isPrimary&&(r.isPrimary=!0),void 0===r.width&&(r.width=1),void 0===r.height&&(r.height=1),void 0===r.tiltX&&(r.tiltX=0),void 0===r.tiltY&&(r.tiltY=0),void 0===r.pointerType&&(r.pointerType="mouse"),void 0===r.pointerId&&(r.pointerId=u),void 0===r.pressure&&(r.pressure=.5),void 0===r.twist&&(r.twist=0),void 0===r.tangentialPressure&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}return e},n.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},n}(n.EventEmitter);exports.InteractionManager=d;
},{"@pixi/math":"bSXT","@pixi/ticker":"4QEk","@pixi/display":"sIot","@pixi/utils":"xS69"}],"hrwS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Runner=void 0;var t=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,i,s,n,r,o,u){if(arguments.length>8)throw new Error("max arguments reached");var h=this.name,a=this.items;this._aliasCount++;for(var m=0,p=a.length;m<p;m++)a[m][h](t,e,i,s,n,r,o,u);return a===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();exports.Runner=t,Object.defineProperties(t.prototype,{dispatch:{value:t.prototype.emit},run:{value:t.prototype.emit}});
},{}],"CJJk":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.autoDetectRenderer=At,exports.checkMaxIfStatementsInShader=Oe,exports.uniformParsers=exports.systems=exports.resources=exports.defaultVertex=exports.defaultFilterVertex=exports.ViewableBuffer=exports.UniformGroup=exports.TextureUvs=exports.TextureMatrix=exports.Texture=exports.System=exports.State=exports.SpriteMaskFilter=exports.Shader=exports.Renderer=exports.RenderTexturePool=exports.RenderTexture=exports.QuadUv=exports.Quad=exports.Program=exports.ObjectRenderer=exports.MaskData=exports.IGLUniformData=exports.Geometry=exports.GLTexture=exports.GLProgram=exports.GLFramebuffer=exports.Framebuffer=exports.FilterState=exports.Filter=exports.Buffer=exports.BatchTextureArray=exports.BatchShaderGenerator=exports.BatchRenderer=exports.BatchPluginFactory=exports.BatchGeometry=exports.BatchDrawCall=exports.BaseTexture=exports.BaseRenderTexture=exports.Attribute=exports.AbstractRenderer=exports.AbstractBatchRenderer=void 0;var e=require("@pixi/settings"),t=require("@pixi/constants"),r=require("@pixi/utils"),i=require("@pixi/runner"),n=require("@pixi/ticker"),o=require("@pixi/math");e.settings.PREFER_ENV=r.isMobile.any?t.ENV.WEBGL:t.ENV.WEBGL2,e.settings.STRICT_TEXTURE_CACHE=!1;var s=[];function a(e,t){if(!e)return null;var r="";if("string"==typeof e){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);i&&(r=i[1].toLowerCase())}for(var n=s.length-1;n>=0;--n){var o=s[n];if(o.test&&o.test(e,r))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function h(e,t){function r(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var l=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new i.Runner("setRealSize"),this.onUpdate=new i.Runner("update"),this.onError=new i.Runner("onError")}return e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(e,t,r){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(e,t){return!1},e}(),d=function(e){function r(t,r){var i=this,n=r||{},o=n.width,s=n.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(i=e.call(this,o,s)||this).data=t,i}return h(r,e),r.prototype.upload=function(e,r,i){var n=e.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===t.ALPHA_MODES.UNPACK),i.width===r.width&&i.height===r.height?n.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(i.width=r.width,i.height=r.height,n.texImage2D(r.target,0,i.internalFormat,r.width,r.height,0,r.format,i.type,this.data)),!0},r.prototype.dispose=function(){this.data=null},r.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},r}(l),c={scaleMode:t.SCALE_MODES.NEAREST,format:t.FORMATS.RGBA,alphaMode:t.ALPHA_MODES.NPM},f=function(i){function n(n,o){void 0===n&&(n=null),void 0===o&&(o=null);var s=i.call(this)||this,u=(o=o||{}).alphaMode,h=o.mipmap,d=o.anisotropicLevel,c=o.scaleMode,f=o.width,p=o.height,m=o.wrapMode,v=o.format,g=o.type,y=o.target,x=o.resolution,_=o.resourceOptions;return!n||n instanceof l||((n=a(n,_)).internal=!0),s.width=f||0,s.height=p||0,s.resolution=x||e.settings.RESOLUTION,s.mipmap=void 0!==h?h:e.settings.MIPMAP_TEXTURES,s.anisotropicLevel=void 0!==d?d:e.settings.ANISOTROPIC_LEVEL,s.wrapMode=m||e.settings.WRAP_MODE,s.scaleMode=void 0!==c?c:e.settings.SCALE_MODE,s.format=v||t.FORMATS.RGBA,s.type=g||t.TYPES.UNSIGNED_BYTE,s.target=y||t.TARGETS.TEXTURE_2D,s.alphaMode=void 0!==u?u:t.ALPHA_MODES.UNPACK,void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),s.uid=(0,r.uid)(),s.touched=0,s.isPowerOfTwo=!1,s._refreshPOT(),s._glTextures={},s.dirtyId=0,s.dirtyStyleId=0,s.cacheId=null,s.valid=f>0&&p>0,s.textureCacheIds=[],s.destroyed=!1,s.resource=null,s._batchEnabled=0,s._batchLocation=0,s.parentTextureArray=null,s.setResource(n),s}return h(n,i),Object.defineProperty(n.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),n.prototype.setStyle=function(e,t){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this},n.prototype.setSize=function(e,t,r){return this.resolution=r||this.resolution,this.width=e,this.height=t,this._refreshPOT(),this.update(),this},n.prototype.setRealSize=function(e,t,r){return this.resolution=r||this.resolution,this.width=e/this.resolution,this.height=t/this.resolution,this._refreshPOT(),this.update(),this},n.prototype._refreshPOT=function(){this.isPowerOfTwo=(0,r.isPow2)(this.realWidth)&&(0,r.isPow2)(this.realHeight)},n.prototype.setResolution=function(e){var t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=this.width*t/e,this.height=this.height*t/e,this.emit("update",this)),this._refreshPOT(),this)},n.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},n.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},n.prototype.onError=function(e){this.emit("error",this,e)},n.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete r.BaseTextureCache[this.cacheId],delete r.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),n.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},n.prototype.dispose=function(){this.emit("dispose",this)},n.prototype.castToBaseTexture=function(){return this},n.from=function(t,i,o){void 0===o&&(o=e.settings.STRICT_TEXTURE_CACHE);var s="string"==typeof t,a=null;s?a=t:(t._pixiId||(t._pixiId="pixiid_"+(0,r.uid)()),a=t._pixiId);var u=r.BaseTextureCache[a];if(s&&o&&!u)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return u||((u=new n(t,i)).cacheId=a,n.addToCache(u,a)),u},n.fromBuffer=function(e,r,i,o){e=e||new Float32Array(r*i*4);var s=new d(e,{width:r,height:i}),a=e instanceof Float32Array?t.TYPES.FLOAT:t.TYPES.UNSIGNED_BYTE;return new n(s,Object.assign(c,o||{width:r,height:i,type:a}))},n.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),r.BaseTextureCache[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),r.BaseTextureCache[t]=e)},n.removeFromCache=function(e){if("string"==typeof e){var t=r.BaseTextureCache[e];if(t){var i=t.textureCacheIds.indexOf(e);return i>-1&&t.textureCacheIds.splice(i,1),delete r.BaseTextureCache[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)delete r.BaseTextureCache[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},n._globalBatch=0,n}(r.EventEmitter);exports.BaseTexture=f;var p=function(e){function t(t,r){var i=this,n=r||{},o=n.width,s=n.height;(i=e.call(this,o,s)||this).items=[],i.itemDirtyIds=[];for(var a=0;a<t;a++){var u=new f;i.items.push(u),i.itemDirtyIds.push(-2)}return i.length=t,i._load=null,i.baseTexture=null,i}return h(t,e),t.prototype.initFromArray=function(e,t){for(var r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof l?this.addResourceAt(e[r],r):this.addResourceAt(a(e[r],t),r))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=t,this.items[r].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map(function(e){return e.resource}).filter(function(e){return e}).map(function(e){return e.load()});return this._load=Promise.all(t).then(function(){var t=e.items[0],r=t.realWidth,i=t.realHeight;return e.resize(r,i),Promise.resolve(e)}),this._load},t}(l),m=function(e){function r(t,r){var i,n,o=this,s=r||{},a=s.width,u=s.height;return Array.isArray(t)?(i=t,n=t.length):n=t,o=e.call(this,n,{width:a,height:u})||this,i&&o.initFromArray(i,r),o}return h(r,e),r.prototype.addBaseTextureAt=function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this},r.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=t.TARGETS.TEXTURE_2D_ARRAY},r.prototype.upload=function(e,t,r){var i=this.length,n=this.itemDirtyIds,o=this.items,s=e.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,t.format,this._width,this._height,i,0,t.format,t.type,null);for(var a=0;a<i;a++){var u=o[a];n[a]<u.dirtyId&&(n[a]=u.dirtyId,u.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,u.resource.width,u.resource.height,1,t.format,t.type,u.resource.source))}return!0},r}(p),v=function(e){function i(t){var r=this,i=t,n=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return(r=e.call(this,n,o)||this).source=t,r.noSubImage=!1,r}return h(i,e),i.crossOrigin=function(e,t,i){void 0===i&&0!==t.indexOf("data:")?e.crossOrigin=(0,r.determineCrossOrigin)(t):!1!==i&&(e.crossOrigin="string"==typeof i?i:"anonymous")},i.prototype.upload=function(e,r,i,n){var o=e.gl,s=r.realWidth,a=r.realHeight;return n=n||this.source,o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===t.ALPHA_MODES.UNPACK),this.noSubImage||r.target!==o.TEXTURE_2D||i.width!==s||i.height!==a?(i.width=s,i.height=a,o.texImage2D(r.target,0,r.format,r.format,r.type,n)):o.texSubImage2D(o.TEXTURE_2D,0,0,0,r.format,r.type,n),!0},i.prototype.update=function(){if(!this.destroyed){var t=this.source,r=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;this.resize(r,i),e.prototype.update.call(this)}},i.prototype.dispose=function(){this.source=null},i}(l),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.test=function(e){var t=window.OffscreenCanvas;return!!(t&&e instanceof t)||e instanceof HTMLCanvasElement},t}(v),y=function(e){function r(i,n){var o=this,s=n||{},a=s.width,u=s.height,h=s.autoLoad,l=s.linkBaseTexture;if(i&&i.length!==r.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");o=e.call(this,6,{width:a,height:u})||this;for(var d=0;d<r.SIDES;d++)o.items[d].target=t.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+d;return o.linkBaseTexture=!1!==l,i&&o.initFromArray(i,n),!1!==h&&o.load(),o}return h(r,e),r.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=t.TARGETS.TEXTURE_CUBE_MAP},r.prototype.addBaseTextureAt=function(e,r,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,r)}else e.target=t.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this},r.prototype.upload=function(e,t,i){for(var n=this.itemDirtyIds,o=0;o<r.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(e,s,i),n[o]=s.dirtyId):n[o]<-1&&(e.gl.texImage2D(s.target,0,i.internalFormat,t.realWidth,t.realHeight,0,t.format,i.type,null),n[o]=-1))}return!0},r.test=function(e){return Array.isArray(e)&&e.length===r.SIDES},r.SIDES=6,r}(p),x=function(r){function i(t,i){var n=this;if(i=i||{},!(t instanceof HTMLImageElement)){var o=new Image;v.crossOrigin(o,t,i.crossorigin),o.src=t,t=o}return n=r.call(this,t)||this,!t.complete&&n._width&&n._height&&(n._width=0,n._height=0),n.url=t.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(void 0!==i.createBitmap?i.createBitmap:e.settings.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,n.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,void 0!==i.premultiplyAlpha&&(n.premultiplyAlpha=i.premultiplyAlpha),n.bitmap=null,n._load=null,!1!==i.autoLoad&&n.load(),n}return h(i,r),i.prototype.load=function(e){var t=this;return this._load?this._load:(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(e,r){var i=t.source;t.url=i.src;var n=function(){t.destroyed||(i.onload=null,i.onerror=null,t.resize(i.width,i.height),t._load=null,t.createBitmap?e(t.process()):e(t))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(e){r(e),t.onError.emit(e)})}),this._load)},i.prototype.process=function(){var e=this,r=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(r,0,0,r.width,r.height,{premultiplyAlpha:this.alphaMode===t.ALPHA_MODES.UNPACK?"premultiply":"none"}).then(function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))}),this._process):Promise.resolve(this)},i.prototype.upload=function(e,t,i){if("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return r.prototype.upload.call(this,e,t,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(r.prototype.upload.call(this,e,t,i,this.bitmap),!this.preserveBitmap){var n=!0,o=t._glTextures;for(var s in o){var a=o[s];if(a!==i&&a.dirtyId!==t.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},i.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,r.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},i.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},i}(v),_=function(e){function t(t,r){var i=this;return r=r||{},(i=e.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=t,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return h(t,e),t.prototype.load=function(){var e=this;return this._load?this._load:(this._load=new Promise(function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var e=this,t=new Image;v.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(r){e._resolve&&(t.onerror=null,e.onError.emit(r))},t.onload=function(){if(e._resolve){var i=t.width,n=t.height;if(!i||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*e.scale,s=n*e.scale;(e._overrideWidth||e._overrideHeight)&&(o=e._overrideWidth||e._overrideHeight/n*i,s=e._overrideHeight||e._overrideWidth/i*n),o=Math.round(o),s=Math.round(s);var a=e.source;a.width=o,a.height=s,a._pixiId="canvas_"+(0,r.uid)(),a.getContext("2d").drawImage(t,0,0,i,n,0,0,o,s),e._resolve(),e._resolve=null}}},t.getSize=function(e){var r=t.SVG_SIZE.exec(e),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,t){return"svg"===t||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&0===e.indexOf("<svg")},t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(v),E=function(e){function t(r,i){var n=this;if(i=i||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var s=r[0].src||r[0];v.crossOrigin(o,s,i.crossorigin);for(var a=0;a<r.length;++a){var u=document.createElement("source"),h=r[a],l=h.src,d=h.mime,c=(l=l||r[a]).split("?").shift().toLowerCase(),f=c.substr(c.lastIndexOf(".")+1);d=d||t.MIME_TYPES[f]||"video/"+f,u.src=l,u.type=d,o.appendChild(u)}r=o}return(n=e.call(this,r)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=i.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==i.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==i.autoLoad&&n.load(),n}return h(t,e),t.prototype.update=function(t){if(void 0===t&&(t=0),!this.destroyed){var r=n.Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,t.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(n.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(n.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&n.Ticker.shared.remove(this.update,this);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(n.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(n.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,r){return e instanceof HTMLVideoElement||t.TYPES.indexOf(r)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(v),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},t}(v);s.push(x,T,g,E,_,d,y,m);var b={Resource:l,BaseImageResource:v,INSTALLED:s,autoDetectResource:a,AbstractMultiResource:p,ArrayResource:m,BufferResource:d,CanvasResource:g,CubeResource:y,ImageResource:x,SVGResource:_,VideoResource:E,ImageBitmapResource:T};exports.resources=b;var S=function(){function e(e){this.renderer=e}return e.prototype.destroy=function(){this.renderer=null},e}();exports.System=S;var w=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return h(r,e),r.prototype.upload=function(e,r,i){var n=e.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===t.ALPHA_MODES.UNPACK),i.width===r.width&&i.height===r.height?n.texSubImage2D(r.target,0,0,0,r.width,r.height,r.format,r.type,this.data):(i.width=r.width,i.height=r.height,n.texImage2D(r.target,0,1===e.context.webGLVersion?n.DEPTH_COMPONENT:n.DEPTH_COMPONENT16,r.width,r.height,0,r.format,r.type,this.data)),!0},r}(d),A=function(){function e(e,r){this.width=Math.ceil(e||100),this.height=Math.ceil(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new i.Runner("disposeFramebuffer"),this.multisample=t.MSAA_QUALITY.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(e,r){return void 0===e&&(e=0),this.colorTextures[e]=r||new f(null,{scaleMode:t.SCALE_MODES.NEAREST,resolution:1,mipmap:t.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(e){return this.depthTexture=e||new f(new w(null,{width:this.width,height:this.height}),{scaleMode:t.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:t.MIPMAP_MODES.OFF,format:t.FORMATS.DEPTH_COMPONENT,type:t.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(e,t){if(e=Math.ceil(e),t=Math.ceil(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(e/n,t/n)}if(this.depthTexture){n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,t/n)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}();exports.Framebuffer=A;var C=function(e){function t(t){var r=this;"number"==typeof t&&(t={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});r=e.call(this,null,t)||this;var i=t||{},n=i.width,o=i.height;return r.mipmap=0,r.width=Math.ceil(n)||100,r.height=Math.ceil(o)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new A(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return h(t,e),t.prototype.resize=function(e,t){e=Math.ceil(e),t=Math.ceil(t),this.framebuffer.resize(e*this.resolution,t*this.resolution)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(f);exports.BaseRenderTexture=C;var R=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(e,t,r){var i=t.width,n=t.height;if(r){var s=e.width/2/i,a=e.height/2/n,u=e.x/i+s,h=e.y/n+a;r=o.groupD8.add(r,o.groupD8.NW),this.x0=u+s*o.groupD8.uX(r),this.y0=h+a*o.groupD8.uY(r),r=o.groupD8.add(r,2),this.x1=u+s*o.groupD8.uX(r),this.y1=h+a*o.groupD8.uY(r),r=o.groupD8.add(r,2),this.x2=u+s*o.groupD8.uX(r),this.y2=h+a*o.groupD8.uY(r),r=o.groupD8.add(r,2),this.x3=u+s*o.groupD8.uX(r),this.y3=h+a*o.groupD8.uY(r)}else this.x0=e.x/i,this.y0=e.y/n,this.x1=(e.x+e.width)/i,this.y1=e.y/n,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/n,this.x3=e.x/i,this.y3=(e.y+e.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e}();exports.TextureUvs=R;var I=new R,O=function(t){function i(e,r,n,s,a,u){var h=t.call(this)||this;if(h.noFrame=!1,r||(h.noFrame=!0,r=new o.Rectangle(0,0,1,1)),e instanceof i&&(e=e.baseTexture),h.baseTexture=e,h._frame=r,h.trim=s,h.valid=!1,h._uvs=I,h.uvMatrix=null,h.orig=n||r,h._rotate=Number(a||0),!0===a)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=u?new o.Point(u.x,u.y):new o.Point(0,0),h._updateID=0,h.textureCacheIds=[],e.valid?h.noFrame?e.valid&&h.onBaseTextureUpdated(e):h.frame=r:e.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&e.on("update",h.onBaseTextureUpdated,h),h}return h(i,t),i.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},i.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},i.prototype.destroy=function(e){if(this.baseTexture){if(e){var t=this.baseTexture;t&&t.url&&r.TextureCache[t.url]&&i.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,i.removeFromCache(this),this.textureCacheIds=null},i.prototype.clone=function(){return new i(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},i.prototype.updateUvs=function(){this._uvs===I&&(this._uvs=new R),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},i.from=function(t,n,o){void 0===n&&(n={}),void 0===o&&(o=e.settings.STRICT_TEXTURE_CACHE);var s="string"==typeof t,a=null;s?a=t:(t._pixiId||(t._pixiId="pixiid_"+(0,r.uid)()),a=t._pixiId);var u=r.TextureCache[a];if(s&&o&&!u)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return u||(n.resolution||(n.resolution=(0,r.getResolutionOfUrl)(t)),(u=new i(new f(t,n))).baseTexture.cacheId=a,f.addToCache(u.baseTexture,a),i.addToCache(u,a)),u},i.fromURL=function(e,t){var r=Object.assign({autoLoad:!1},null==t?void 0:t.resourceOptions),n=i.from(e,Object.assign({resourceOptions:r},t),!1),o=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):o.load().then(function(){return Promise.resolve(n)})},i.fromBuffer=function(e,t,r,n){return new i(f.fromBuffer(e,t,r,n))},i.fromLoader=function(t,n,o){var s=new x(t);s.url=n;var a=new i(new f(s,{scaleMode:e.settings.SCALE_MODE,resolution:(0,r.getResolutionOfUrl)(n)}));return o||(o=n),f.addToCache(a.baseTexture,o),i.addToCache(a,o),o!==n&&(f.addToCache(a.baseTexture,n),i.addToCache(a,n)),a},i.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),r.TextureCache[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),r.TextureCache[t]=e)},i.removeFromCache=function(e){if("string"==typeof e){var t=r.TextureCache[e];if(t){var i=t.textureCacheIds.indexOf(e);return i>-1&&t.textureCacheIds.splice(i,1),delete r.TextureCache[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)r.TextureCache[e.textureCacheIds[n]]===e&&delete r.TextureCache[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(i.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,r=e.y,i=e.width,n=e.height,o=t+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",u="X: "+t+" + "+i+" = "+(t+i)+" > "+this.baseTexture.width,h="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+a+" "+h)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),i.prototype.castToBaseTexture=function(){return this.baseTexture},i}(r.EventEmitter);function P(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new O(new f(new g(e)))}function M(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}exports.Texture=O,O.EMPTY=new O(new f),M(O.EMPTY),M(O.EMPTY.baseTexture),O.WHITE=P(),M(O.WHITE),M(O.WHITE.baseTexture);var D=function(e){function t(t,r){var i=this,n=null;if(!(t instanceof C)){var o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly."),n=arguments[0],r=null,t=new C({width:o,height:s,scaleMode:a,resolution:u})}return(i=e.call(this,t,r)||this).legacyRenderer=n,i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return h(t,e),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t,r){void 0===r&&(r=!0),e=Math.ceil(e),t=Math.ceil(t),this.valid=e>0&&t>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,r&&this.baseTexture.resize(e,t),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){return"number"==typeof e&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new t(new C(e))},t}(O);exports.RenderTexture=D;var F=function(){function e(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(e,t){var r=new C(Object.assign({width:e,height:t,resolution:1},this.textureOptions));return new D(r)},e.prototype.getOptimalTexture=function(t,i,n){void 0===n&&(n=1);var o=e.SCREEN_KEY;t*=n,i*=n,this.enableFullScreen&&t===this._pixelsWidth&&i===this._pixelsHeight||(o=(65535&(t=(0,r.nextPow2)(t)))<<16|65535&(i=(0,r.nextPow2)(i))),this.texturePool[o]||(this.texturePool[o]=[]);var s=this.texturePool[o].pop();return s||(s=this.createTexture(t,i)),s.filterPoolKey=o,s.setResolution(n),s},e.prototype.getFilterTexture=function(e,t){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution);return r.filterFrame=e.filterFrame,r},e.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},e.prototype.returnFilterTexture=function(e){this.returnTexture(e)},e.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var r=this.texturePool[t];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var r=e.SCREEN_KEY,i=this.texturePool[r];if(this.enableFullScreen=t.width>0&&t.height>0,i)for(var n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY="screen",e}();exports.RenderTexturePool=F;var N=function(){function e(e,t,r,i,n,o,s){void 0===t&&(t=0),void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=e,this.size=t,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,r,i,n,o){return new e(t,r,i,n,o)},e}();exports.Attribute=N;var L=0,B=function(){function e(e,t,r){void 0===t&&(t=!0),void 0===r&&(r=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=L++,this.disposeRunner=new i.Runner("disposeBuffer")}return e.prototype.update=function(e){this.data=e||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}();function U(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}exports.Buffer=B;var k={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function G(e,t){for(var r=0,i=0,n={},o=0;o<e.length;o++)i+=t[o],r+=e[o].length;var s=new ArrayBuffer(4*r),a=null,u=0;for(o=0;o<e.length;o++){var h=t[o],l=e[o],d=U(l);n[d]||(n[d]=new k[d](s)),a=n[d];for(var c=0;c<l.length;c++){a[(c/h|0)*i+u+c%h]=l[c]}u+=h}return new Float32Array(s)}var V={5126:4,5123:2,5121:1},X=0,H={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},z=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=X++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new i.Runner("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(e,t,r,i,n,o,s,a){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof B||(t instanceof Array&&(t=new Float32Array(t)),t=new B(t));var u=e.split("|");if(u.length>1){for(var h=0;h<u.length;h++)this.addAttribute(u[h],t,r,i,n);return this}var l=this.buffers.indexOf(t);return-1===l&&(this.buffers.push(t),l=this.buffers.length-1),this.attributes[e]=new N(l,r,i,n,o,s,a),this.instanced=this.instanced||a,this},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},e.prototype.addIndex=function(e){return e instanceof B||(e instanceof Array&&(e=new Uint16Array(e)),e=new B(e)),e.index=!0,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],r=[],i=new B;for(e in this.attributes){var n=this.attributes[e],o=this.buffers[n.buffer];t.push(o.data),r.push(n.size*V[n.type]/4),n.buffer=0}for(i.data=G(t,r),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,r=0;r<this.buffers.length;r++)t.buffers[r]=new B(this.buffers[r].data.slice(0));for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new N(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},e.merge=function(t){for(var r,i=new e,n=[],o=[],s=[],a=0;a<t.length;a++){r=t[a];for(var u=0;u<r.buffers.length;u++)o[u]=o[u]||0,o[u]+=r.buffers[u].data.length,s[u]=0}for(a=0;a<r.buffers.length;a++)n[a]=new(H[U(r.buffers[a].data)])(o[a]),i.buffers[a]=new B(n[a]);for(a=0;a<t.length;a++){r=t[a];for(u=0;u<r.buffers.length;u++)n[u].set(r.buffers[u].data,s[u]),s[u]+=r.buffers[u].data.length}if(i.attributes=r.attributes,r.indexBuffer){i.indexBuffer=i.buffers[r.buffers.indexOf(r.indexBuffer)],i.indexBuffer.index=!0;var h=0,l=0,d=0,c=0;for(a=0;a<r.buffers.length;a++)if(r.buffers[a]!==r.indexBuffer){c=a;break}for(var a in r.attributes){var f=r.attributes[a];(0|f.buffer)===c&&(l+=f.size*V[f.type]/4)}for(a=0;a<t.length;a++){var p=t[a].indexBuffer.data;for(u=0;u<p.length;u++)i.indexBuffer.data[u+d]+=h;h+=r.buffers[c].data.length/l,d+=p.length}}return i},e}();exports.Geometry=z;var j=function(e){function t(){var t=e.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return h(t,e),t}(z);exports.Quad=j;var Y=function(e){function t(){var t=e.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new B(t.vertices),t.uvBuffer=new B(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return h(t,e),t.prototype.map=function(e,t){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+t.width/e.width,this.uvs[3]=i,this.uvs[4]=r+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=r,this.uvs[7]=i+t.height/e.height,r=t.x,i=t.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+t.width,this.vertices[3]=i,this.vertices[4]=r+t.width,this.vertices[5]=i+t.height,this.vertices[6]=r,this.vertices[7]=i+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(z);exports.QuadUv=Y;var W=0,K=function(){function e(e,t){this.uniforms=e,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=W++,this.static=!!t}return e.prototype.update=function(){this.dirtyId++},e.prototype.add=function(t,r,i){this.uniforms[t]=new e(r,i)},e.from=function(t,r){return new e(t,r)},e}();exports.UniformGroup=K;var q=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new o.Rectangle,this.destinationFrame=new o.Rectangle,this.filters=[]}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}();exports.FilterState=q;var Q=function(e){function i(t){var r=e.call(this,t)||this;return r.defaultFilterStack=[{}],r.texturePool=new F,r.texturePool.setScreenSize(t.view),r.statePool=[],r.quad=new j,r.quadUv=new Y,r.tempRect=new o.Rectangle,r.activeState={},r.globalUniforms=new K({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return h(i,e),i.prototype.push=function(e,t){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new q,o=t[0].resolution,s=t[0].padding,a=t[0].autoFit,u=t[0].legacy,h=1;h<t.length;h++){var l=t[h];o=Math.min(o,l.resolution),s=this.useMaxPadding?Math.max(s,l.padding):s+l.padding,a=a&&l.autoFit,u=u||l.legacy}1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=o,n.legacy=u,n.target=e,n.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=t,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var d=this.tempRect;d.width=n.sourceFrame.width,d.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame,d),r.renderTexture.clear()},i.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),i=r.filters;this.activeState=r;var n=this.globalUniforms.uniforms;n.outputFrame=r.sourceFrame,n.resolution=r.resolution;var o=n.inputSize,s=n.inputPixel,a=n.inputClamp;if(o[0]=r.destinationFrame.width,o[1]=r.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=o[0]*r.resolution,s[1]=o[1]*r.resolution,s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=r.sourceFrame.width*o[2]-.5*s[2],a[3]=r.sourceFrame.height*o[3]-.5*s[3],r.legacy){var u=n.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();var h=e[e.length-1];if(r.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,r.renderTexture,h.renderTexture,t.CLEAR_MODES.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var l=r.renderTexture,d=this.getOptimalFilterTexture(l.width,l.height,r.resolution);d.filterFrame=l.filterFrame;var c=0;for(c=0;c<i.length-1;++c){i[c].apply(this,l,d,t.CLEAR_MODES.CLEAR,r);var f=l;l=d,d=f}i[c].apply(this,l,h.renderTexture,t.CLEAR_MODES.BLEND,r),this.returnFilterTexture(l),this.returnFilterTexture(d)}r.clear(),this.statePool.push(r)},i.prototype.bindAndClear=function(e,i){if(void 0===i&&(i=t.CLEAR_MODES.CLEAR),e&&e.filterFrame){var n=this.tempRect;n.width=e.filterFrame.width,n.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,n)}else this.renderer.renderTexture.bind(e);"boolean"==typeof i&&(i=i?t.CLEAR_MODES.CLEAR:t.CLEAR_MODES.BLEND,(0,r.deprecation)("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(i===t.CLEAR_MODES.CLEAR||i===t.CLEAR_MODES.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},i.prototype.applyFilter=function(e,r,i,n){var o=this.renderer;this.bindAndClear(i,n),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,o.state.set(e.state),o.shader.bind(e),e.legacy?(this.quadUv.map(r._frame,r.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(t.DRAW_MODES.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(t.DRAW_MODES.TRIANGLE_STRIP))},i.prototype.calculateSpriteMatrix=function(e,t){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,s=t._texture.orig,a=e.set(n.width,0,0,n.height,i.x,i.y),u=t.worldTransform.copyTo(o.Matrix.TEMP_MATRIX);return u.invert(),a.prepend(u),a.scale(1/s.width,1/s.height),a.translate(t.anchor.x,t.anchor.y),a},i.prototype.destroy=function(){this.texturePool.clear(!1)},i.prototype.getOptimalFilterTexture=function(e,t,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(e,t,r)},i.prototype.getFilterTexture=function(e,t){if("number"==typeof e){var r=e;e=t,t=r}e=e||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution);return i.filterFrame=e.filterFrame,i},i.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},i.prototype.emptyPool=function(){this.texturePool.clear(!0)},i.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},i}(S),Z=function(){function e(e){this.renderer=e}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(e){},e}();exports.ObjectRenderer=Z;var $=function(e){function t(t){var r=e.call(this,t)||this;return r.emptyRenderer=new Z(t),r.currentRenderer=r.emptyRenderer,r}return h(t,e),t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,t){for(var r=this.renderer.texture.boundTextures,i=t-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,t,r,i){for(var n=e.elements,o=e.ids,s=e.count,a=0,u=0;u<s;u++){var h=n[u],l=h._batchLocation;if(l>=0&&l<i&&t[l]===h)o[u]=l;else for(;a<i;){var d=t[a];if(!d||d._batchEnabled!==r||d._batchLocation!==a){o[u]=a,h._batchLocation=a,t[a]=h;break}a++}}},t}(S),J=0,ee=function(r){function i(e){var t=r.call(this,e)||this;return t.webGLVersion=1,t.extensions={},t.supports={uint32Indices:!1},t.handleContextLost=t.handleContextLost.bind(t),t.handleContextRestored=t.handleContextRestored.bind(t),e.view.addEventListener("webglcontextlost",t.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",t.handleContextRestored,!1),t}return h(i,r),Object.defineProperty(i.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),i.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=J++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},i.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=J++,this.renderer.runners.contextChange.emit(e)},i.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},i.prototype.createContext=function(r,i){var n;if(e.settings.PREFER_ENV>=t.ENV.WEBGL2&&(n=r.getContext("webgl2",i)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=r.getContext("webgl",i)||r.getContext("experimental-webgl",i)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},i.prototype.getExtensions=function(){var e=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},i.prototype.handleContextLost=function(e){e.preventDefault()},i.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},i.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},i.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},i.prototype.validateContext=function(e){var t=e.getContextAttributes(),r="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext;r&&(this.webGLVersion=2),t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},i}(S),te=function(){return function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=t.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}}();exports.GLFramebuffer=te;var re=new o.Rectangle,ie=function(r){function i(e){var t=r.call(this,e)||this;return t.managedFramebuffers=[],t.unknownFramebuffer=new A(10,10),t.msaaSamples=null,t}return h(i,r),i.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new o.Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var i=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;e.settings.PREFER_ENV===t.ENV.WEBGL_LEGACY&&(i=null,n=null),i?r.drawBuffers=function(e){return i.drawBuffersWEBGL(e)}:(this.hasMRT=!1,r.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)},i.prototype.bind=function(e,t){var r=this.gl;if(e){var i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var n=0;n<e.colorTextures.length;n++){var o=e.colorTextures[n];this.renderer.texture.unbind(o.parentTextureArray||o)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},i.prototype.setViewport=function(e,t,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===e&&n.y===t||(n.x=e,n.y=t,n.width=r,n.height=i,this.gl.viewport(e,t,r,i))},Object.defineProperty(i.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),i.prototype.clear=function(e,r,i,n,o){void 0===o&&(o=t.BUFFER_BITS.COLOR|t.BUFFER_BITS.DEPTH);var s=this.gl;s.clearColor(e,r,i,n),s.clear(o)},i.prototype.initFramebuffer=function(e){var t=this.gl,r=new te(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r},i.prototype.resizeFramebuffer=function(e){var t=this.gl,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));for(var i=e.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},i.prototype.updateFramebuffer=function(e){var t=this.gl,r=e.glFramebuffers[this.CONTEXT_UID],i=e.colorTextures.length;t.drawBuffers||(i=Math.min(i,1)),r.multisample>1&&(r.msaaBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,t.RGBA8,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,r.msaaBuffer));for(var n=[],o=0;o<i;o++)if(!(0===o&&r.multisample>1)){var s=e.colorTextures[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+o,s.target,a._glTextures[this.CONTEXT_UID].texture,0),n.push(t.COLOR_ATTACHMENT0+o)}if((n.length>1&&t.drawBuffers(n),e.depthTexture)&&this.writeDepthTexture){var u=e.depthTexture;this.renderer.texture.bind(u,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!e.stencil&&!e.depth||(r.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height),e.depthTexture||t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,r.stencil))},i.prototype.detectSamples=function(e){var r=this.msaaSamples,i=t.MSAA_QUALITY.NONE;if(e<=1||null===r)return i;for(var n=0;n<r.length;n++)if(r[n]<=e){i=r[n];break}return 1===i&&(i=t.MSAA_QUALITY.NONE),i},i.prototype.blit=function(e,t,r){var i=this.current,n=this.renderer,o=this.gl,s=this.CONTEXT_UID;if(2===n.context.webGLVersion&&i){var a=i.glFramebuffers[s];if(a){if(!e){if(a.multisample<=1)return;a.blitFramebuffer||(a.blitFramebuffer=new A(i.width,i.height),a.blitFramebuffer.addColorTexture(0,i.colorTextures[0])),(e=a.blitFramebuffer).width=i.width,e.height=i.height}t||((t=re).width=i.width,t.height=i.height),r||(r=t);var u=t.width===r.width&&t.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,a.framebuffer),o.blitFramebuffer(t.x,t.y,t.width,t.height,r.x,r.y,r.width,r.height,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR)}}},i.prototype.disposeFramebuffer=function(e,t){var r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete e.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(e);n>=0&&this.managedFramebuffers.splice(n,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},i.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)},i.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.enableStencil();var r=e.width,i=e.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),t.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,o)}}},i.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new o.Rectangle},i}(S),ne=function(){return function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}(),oe={5126:4,5123:2,5121:1},se=function(r){function i(e){var t=r.call(this,e)||this;return t._activeGeometry=null,t._activeVao=null,t.hasVao=!0,t.hasInstance=!0,t.canUseUInt32ElementIndex=!1,t.managedGeometries={},t.managedBuffers={},t}return h(i,r),i.prototype.contextChange=function(){this.disposeAll(!0);var r=this.gl=this.renderer.gl,i=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==i.webGLVersion){var n=this.renderer.context.extensions.vertexArrayObject;e.settings.PREFER_ENV===t.ENV.WEBGL_LEGACY&&(n=null),n?(r.createVertexArray=function(){return n.createVertexArrayOES()},r.bindVertexArray=function(e){return n.bindVertexArrayOES(e)},r.deleteVertexArray=function(e){return n.deleteVertexArrayOES(e)}):(this.hasVao=!1,r.createVertexArray=function(){return null},r.bindVertexArray=function(){return null},r.deleteVertexArray=function(){return null})}if(2!==i.webGLVersion){var o=r.getExtension("ANGLE_instanced_arrays");o?(r.vertexAttribDivisor=function(e,t){return o.vertexAttribDivisorANGLE(e,t)},r.drawElementsInstanced=function(e,t,r,i,n){return o.drawElementsInstancedANGLE(e,t,r,i,n)},r.drawArraysInstanced=function(e,t,r,i){return o.drawArraysInstancedANGLE(e,t,r,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===i.webGLVersion||!!i.extensions.uint32ElementIndex},i.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var r=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],n=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},n=!0);var o=i[t.program.id]||this.initGeometryVao(e,t.program,n);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,t.program)),this.updateBuffers()},i.prototype.reset=function(){this.unbind()},i.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.gl,r=0;r<e.buffers.length;r++){var i=e.buffers[r],n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;if(t.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=i.data.byteLength)t.bufferSubData(o,0,i.data);else{var s=i.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;n.byteLength=i.data.byteLength,t.bufferData(o,i.data,s)}}}},i.prototype.checkCompatibility=function(e,t){var r=e.attributes,i=t.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},i.prototype.getSignature=function(e,t){var r=e.attributes,i=t.attributeData,n=["g",e.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},i.prototype.initGeometryVao=function(e,t,r){void 0===r&&(r=!0),this.checkCompatibility(e,t);var i=this.gl,n=this.CONTEXT_UID,o=this.getSignature(e,t),s=e.glVertexArrayObjects[this.CONTEXT_UID],a=s[o];if(a)return s[t.id]=a,a;var u=e.buffers,h=e.attributes,l={},d={};for(var c in u)l[c]=0,d[c]=0;for(var c in h)!h[c].size&&t.attributeData[c]?h[c].size=t.attributeData[c].size:h[c].size||console.warn("PIXI Geometry attribute '"+c+"' size cannot be determined (likely the bound shader does not have the attribute)"),l[h[c].buffer]+=h[c].size*oe[h[c].type];for(var c in h){var f=h[c],p=f.size;void 0===f.stride&&(l[f.buffer]===p*oe[f.type]?f.stride=0:f.stride=l[f.buffer]),void 0===f.start&&(f.start=d[f.buffer],d[f.buffer]+=p*oe[f.type])}a=i.createVertexArray(),i.bindVertexArray(a);for(var m=0;m<u.length;m++){var v=u[m];v._glBuffers[n]||(v._glBuffers[n]=new ne(i.createBuffer()),this.managedBuffers[v.id]=v,v.disposeRunner.add(this)),r&&v._glBuffers[n].refCount++}return this.activateVao(e,t),this._activeVao=a,s[t.id]=a,s[o]=a,a},i.prototype.disposeBuffer=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(t||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}},i.prototype.disposeGeometry=function(e,t){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=e.buffers;if(e.disposeRunner.remove(this),r){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||t||this.disposeBuffer(n[o],t)}if(!t)for(var a in r)if("g"===a[0]){var u=r[a];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},i.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e);t=Object.keys(this.managedBuffers);for(r=0;r<t.length;r++)this.disposeBuffer(this.managedBuffers[t[r]],e)},i.prototype.activateVao=function(e,t){var r=this.gl,i=this.CONTEXT_UID,n=e.buffers,o=e.attributes;e.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var u=o[a],h=n[u.buffer]._glBuffers[i];if(t.attributeData[a]){s!==h&&(r.bindBuffer(r.ARRAY_BUFFER,h.buffer),s=h);var l=t.attributeData[a].location;if(r.enableVertexAttribArray(l),r.vertexAttribPointer(l,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(l,1)}}}},i.prototype.draw=function(e,t,r,i){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(e,t||o.indexBuffer.data.length,a,(r||0)*s,i||1):n.drawElements(e,t||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(e,r,t||o.getSize(),i||1):n.drawArrays(e,r,t||o.getSize());return this},i.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},i}(S),ae=function(){function e(e){void 0===e&&(e=null),this.type=t.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=t.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null},e.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function ue(e,t,r){var i=e.createShader(t);return e.shaderSource(i,r),e.compileShader(i),i}function he(e,t,r,i){var n=ue(e,e.VERTEX_SHADER,t),o=ue(e,e.FRAGMENT_SHADER,r),s=e.createProgram();if(e.attachShader(s,n),e.attachShader(s,o),i)for(var a in i)e.bindAttribLocation(s,i[a],a);return e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||(console.warn(t),console.error(e.getShaderInfoLog(n))),e.getShaderParameter(o,e.COMPILE_STATUS)||(console.warn(r),console.error(e.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(s,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(s)),e.deleteProgram(s),s=null),e.deleteShader(n),e.deleteShader(o),s}function le(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]=!1;return t}function de(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return le(2*t);case"bvec3":return le(3*t);case"bvec4":return le(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}exports.MaskData=ae;var ce,fe={},pe=fe;function me(){if(pe===fe||pe&&pe.isContextLost()){var r=document.createElement("canvas"),i=void 0;e.settings.PREFER_ENV>=t.ENV.WEBGL2&&(i=r.getContext("webgl2",{})),i||((i=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}))?i.getExtension("WEBGL_draw_buffers"):i=null),pe=i}return pe}function ve(){if(!ce){ce=t.PRECISION.MEDIUM;var e=me();if(e&&e.getShaderPrecisionFormat){var r=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);ce=r.precision?t.PRECISION.HIGH:t.PRECISION.MEDIUM}}return ce}function ge(e,r,i){if("precision"!==e.substring(0,9)){var n=r;return r===t.PRECISION.HIGH&&i!==t.PRECISION.HIGH&&(n=t.PRECISION.MEDIUM),"precision "+n+" float;\n"+e}return i!==t.PRECISION.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var ye={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function xe(e){return ye[e]}var _e=null,Ee={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Te(e,t){if(!_e){var r=Object.keys(Ee);_e={};for(var i=0;i<r.length;++i){var n=r[i];_e[e[n]]=Ee[n]}}return _e[t]}var be=[{test:function(e){return"float"===e.type&&1===e.size},code:function(e){return'\n            if(uv["'+e+'"] !== ud["'+e+'"].value)\n            {\n                ud["'+e+'"].value = uv["'+e+'"]\n                gl.uniform1f(ud["'+e+'"].location, uv["'+e+'"])\n            }\n            '}},{test:function(e){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+e+'"], t);\n\n            if(ud["'+e+'"].value !== t)\n            {\n                ud["'+e+'"].value = t;\n                gl.uniform1i(ud["'+e+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'+e+'"].location, false, uv["'+e+'"].toArray(true));\n            '}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&void 0!==t.x},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+e+'"].location, v.x, v.y);\n                }'}},{test:function(e){return"vec2"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+e+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&void 0!==t.width},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+e+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(e){return"vec4"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+e+'"].location, v[0], v[1], v[2], v[3])\n                }'}}];exports.uniformParsers=be;var Se={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},we={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Ae(e,t){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var i in e.uniforms){var n=t[i];if(n){for(var o=e.uniforms[i],s=!1,a=0;a<be.length;a++)if(be[a].test(n,o)){r.push(be[a].code(i,o)),s=!0;break}if(!s){var u=(1===n.size?Se:we)[n.type].replace("location",'ud["'+i+'"].location');r.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+u+";")}}else e.uniforms[i].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}var Ce,Re=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Ie(e){for(var t="",r=0;r<e;++r)r>0&&(t+="\nelse "),r<e-1&&(t+="if(test == "+r+".0){}");return t}function Oe(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER);;){var i=Re.replace(/%forloop%/gi,Ie(e));if(t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}return e}function Pe(){if("boolean"==typeof Ce)return Ce;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Ce=!0===e({a:"b"},"a","b")}catch(t){Ce=!1}return Ce}var Me="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}",De="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n",Fe=0,Ne={},Le=function(){function i(r,n,o){void 0===o&&(o="pixi-shader"),this.id=Fe++,this.vertexSrc=r||i.defaultVertexSrc,this.fragmentSrc=n||i.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(o=o.replace(/\s+/g,"-"),Ne[o]?(Ne[o]++,o+="-"+Ne[o]):Ne[o]=1,this.vertexSrc="#define SHADER_NAME "+o+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+o+"\n"+this.fragmentSrc,this.vertexSrc=ge(this.vertexSrc,e.settings.PRECISION_VERTEX,t.PRECISION.HIGH),this.fragmentSrc=ge(this.fragmentSrc,e.settings.PRECISION_FRAGMENT,ve())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return i.prototype.extractData=function(e,t){var r=me();if(r){var i=he(r,e,t);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},i.prototype.getAttributeData=function(e,t){for(var r={},i=[],n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=t.getActiveAttrib(e,o),a=Te(t,s.type),u={type:a,name:s.name,size:xe(a),location:0};r[s.name]=u,i.push(u)}i.sort(function(e,t){return e.name>t.name?1:-1});for(o=0;o<i.length;o++)i[o].location=o;return r},i.prototype.getUniformData=function(e,t){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=t.getActiveUniform(e,n),s=o.name.replace(/\[.*?\]$/,""),a=o.name.match(/\[.*?\]$/),u=Te(t,o.type);r[s]={type:u,size:o.size,isArray:a,value:de(u,o.size)}}return r},Object.defineProperty(i,"defaultVertexSrc",{get:function(){return De},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultFragmentSrc",{get:function(){return Me},enumerable:!1,configurable:!0}),i.from=function(e,t,n){var o=e+t,s=r.ProgramCache[o];return s||(r.ProgramCache[o]=s=new i(e,t,n)),s},i}();exports.Program=Le;var Be=function(){function e(e,t){for(var r in this.program=e,this.uniformGroup=t?t instanceof K?t:new K(t):new K({}),e.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return e.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var r in t.uniforms){var i=t.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,r,i){return new e(Le.from(t,r),i)},e}();exports.Shader=Be;var Ue=0,ke=1,Ge=2,Ve=3,Xe=4,He=function(){function e(){this.data=0,this.blendMode=t.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<Ue)},set:function(e){!!(this.data&1<<Ue)!==e&&(this.data^=1<<Ue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<ke)},set:function(e){!!(this.data&1<<ke)!==e&&(this.data^=1<<ke)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<Ge)},set:function(e){!!(this.data&1<<Ge)!==e&&(this.data^=1<<Ge)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<Ve)},set:function(e){!!(this.data&1<<Ve)!==e&&(this.data^=1<<Ve)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Xe)},set:function(e){!!(this.data&1<<Xe)!==e&&(this.data^=1<<Xe)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==t.BLEND_MODES.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}();exports.State=He;var ze="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",je="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n",Ye=function(t){function r(i,n,o){var s=this,a=Le.from(i||r.defaultVertexSrc,n||r.defaultFragmentSrc);return(s=t.call(this,a,o)||this).padding=0,s.resolution=e.settings.FILTER_RESOLUTION,s.enabled=!0,s.autoFit=!0,s.legacy=!!s.program.attributeData.aTextureCoord,s.state=new He,s}return h(r,t),r.prototype.apply=function(e,t,r,i,n){e.applyFilter(this,t,r,i)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultVertexSrc",{get:function(){return ze},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return je},enumerable:!1,configurable:!0}),r}(Be);exports.Filter=Ye;var We="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",Ke="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",qe=new o.Matrix,Qe=function(){function e(e,t){this._texture=e,this.mapCoord=new o.Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===t?.5:t,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var r=this.mapCoord,i=0;i<e.length;i+=2){var n=e[i],o=e[i+1];t[i]=n*r.a+o*r.c+r.tx,t[i+1]=n*r.b+o*r.d+r.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=t.orig,n=t.trim;n&&(qe.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(qe));var o=t.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,u=this.clampOffset;return s[0]=(t._frame.x+a+u)/o.width,s[1]=(t._frame.y+a+u)/o.height,s[2]=(t._frame.x+t._frame.width-a+u)/o.width,s[3]=(t._frame.y+t._frame.height-a+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0},e}();exports.TextureMatrix=Qe;var Ze=function(e){function t(t){var r=this,i=new o.Matrix;return r=e.call(this,We,Ke)||this,t.renderable=!1,r.maskSprite=t,r.maskMatrix=i,r}return h(t,e),t.prototype.apply=function(e,t,r,i){var n=this.maskSprite,o=n._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Qe(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,r,i))},t}(Ye);exports.SpriteMaskFilter=Ze;var $e=function(e){function r(t){var r=e.call(this,t)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return h(r,e),r.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},r.prototype.push=function(e,r){var i=r;if(!i.isMaskData){var n=this.maskDataPool.pop()||new ae;n.pooled=!0,n.maskObject=r,i=n}switch(i.autoDetect&&this.detect(i),i.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),i._target=e,i.type){case t.MASK_TYPES.SCISSOR:this.maskStack.push(i),this.renderer.scissor.push(i);break;case t.MASK_TYPES.STENCIL:this.maskStack.push(i),this.renderer.stencil.push(i);break;case t.MASK_TYPES.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i),this.maskStack.push(i)}},r.prototype.pop=function(e){var r=this.maskStack.pop();if(r&&r._target===e){switch(r.type){case t.MASK_TYPES.SCISSOR:this.renderer.scissor.pop();break;case t.MASK_TYPES.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case t.MASK_TYPES.SPRITE:this.popSpriteMask()}r.reset(),r.pooled&&this.maskDataPool.push(r)}},r.prototype.detect=function(e){var r=e.maskObject;if(r.isSprite)e.type=t.MASK_TYPES.SPRITE;else if(e.type=t.MASK_TYPES.STENCIL,this.enableScissor&&r.isFastRect&&r.isFastRect()){var i=r.worldTransform,n=Math.atan2(i.b,i.a),o=Math.atan2(i.d,i.c);n=Math.round(n*(180/Math.PI)*100),o=((o=Math.round(o*(180/Math.PI)*100)-n)%18e3+18e3)%18e3,0===(n=(n%9e3+9e3)%9e3)&&9e3===o&&(e.type=t.MASK_TYPES.SCISSOR)}},r.prototype.pushSpriteMask=function(e){var t=e.maskObject,r=e._target,i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Ze(t)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=t;var n=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,this.alphaMaskIndex++},r.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},r}(S),Je=function(e){function t(t){var r=e.call(this,t)||this;return r.maskStack=[],r.glConst=0,r}return h(t,e),t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var t=this.renderer.gl,r=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==r&&(0===i?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.maskStack=null},t}(S),et=function(e){function t(t){var r=e.call(this,t)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return h(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.push=function(e){var t=e.maskObject;t.renderable=!0;var r=e._scissorRect,i=t.getBounds(!0),n=this.renderer.gl;t.renderable=!1,r?i.fit(r):n.enable(n.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=i,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,t=this.renderer.renderTexture.current,r=this.renderer.projection,i=r.transform,n=r.sourceFrame,o=r.destinationFrame,s=t?t.resolution:this.renderer.resolution,a=(e.x-n.x)*s+o.x,u=(e.y-n.y)*s+o.y,h=e.width*s,l=e.height*s;i&&(a+=i.tx*s,u+=i.ty*s),t||(u=this.renderer.height-l-u),this.renderer.gl.scissor(a,u,h,l)},t}(Je),tt=function(e){function t(t){var r=e.call(this,t)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return h(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,r=this.renderer.gl,i=e._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;0===this.getStackLength()?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},t}(Je),rt=function(e){function t(t){var r=e.call(this,t)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new o.Matrix,r.transform=null,r}return h(t,e),t.prototype.update=function(e,t,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,t,r,i){var n=this.projectionMatrix,o=i?-1:1;n.identity(),n.a=1/t.width*2,n.d=o*(1/t.height*2),n.tx=-1-t.x*n.a,n.ty=-o-t.y*n.d},t.prototype.setTransform=function(e){},t}(S),it=new o.Rectangle,nt=new o.Rectangle,ot=new o.Rectangle,st=function(e){function t(t){var r=e.call(this,t)||this;return r.clearColor=t._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new o.Rectangle,r.destinationFrame=new o.Rectangle,r}return h(t,e),t.prototype.bind=function(e,t,r){void 0===e&&(e=null);var i,n,o,s=this.renderer;this.current=e,e?(o=(i=e.baseTexture).resolution,t||(it.width=e.frame.width,it.height=e.frame.height,t=it),r||(nt.x=e.frame.x,nt.y=e.frame.y,nt.width=t.width,nt.height=t.height,r=nt),n=i.framebuffer):(o=s.resolution,t||(it.width=s.screen.width,it.height=s.screen.height,t=it),r||((r=it).width=t.width,r.height=t.height)),ot.x=r.x*o,ot.y=r.y*o,ot.width=r.width*o,ot.height=r.height*o,this.renderer.framebuffer.bind(n,ot),this.renderer.projection.update(r,t,o,!n),e?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)},t.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor,this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t)},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t}(S),at=function(){return function(){}}();exports.IGLUniformData=at;var ut=function(){function e(e,t){this.program=e,this.uniformData=t,this.uniformGroups={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},e}();exports.GLProgram=ut;var ht=0,lt={textureCount:0},dt=function(e){function t(t){var r=e.call(this,t)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=ht++,r}return h(t,e),t.prototype.systemCheck=function(){if(!Pe())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),t||(lt.textureCount=0,this.syncUniformGroup(e.uniformGroup,lt)),i},t.prototype.setUniforms=function(e){var t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,t){var r=this.getglProgram();e.static&&e.dirtyId===r.uniformGroups[e.id]||(r.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))},t.prototype.syncUniforms=function(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)},t.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData);return this.cache[t]||(this.cache[t]=Ae(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},t.prototype.getSignature=function(e,t){var r=e.uniforms,i=[];for(var n in r)i.push(n),t[n]&&i.push(t[n].type);return i.join("-")},t.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateShader=function(e){var t=this.gl,r=e.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=he(t,r.vertexSrc,r.fragmentSrc,i),s={};for(var n in r.uniformData){var a=r.uniformData[n];s[n]={location:t.getUniformLocation(o,n),value:de(a.type,a.size)}}var u=new ut(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=u,u},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.destroyed=!0},t}(S);function ct(e,r){return void 0===r&&(r=[]),r[t.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.ADD]=[e.ONE,e.ONE],r[t.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.NONE]=[0,0],r[t.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],r[t.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SRC_IN]=[e.DST_ALPHA,e.ZERO],r[t.BLEND_MODES.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],r[t.BLEND_MODES.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],r[t.BLEND_MODES.DST_IN]=[e.ZERO,e.SRC_ALPHA],r[t.BLEND_MODES.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],r[t.BLEND_MODES.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],r[t.BLEND_MODES.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],r}var ft=0,pt=1,mt=2,vt=3,gt=4,yt=function(e){function r(r){var i=e.call(this,r)||this;return i.gl=null,i.stateId=0,i.polygonOffset=0,i.blendMode=t.BLEND_MODES.NONE,i._blendEq=!1,i.map=[],i.map[ft]=i.setBlend,i.map[pt]=i.setOffset,i.map[mt]=i.setCullFace,i.map[vt]=i.setDepthTest,i.map[gt]=i.setFrontFace,i.checks=[],i.defaultState=new He,i.defaultState.blend=!0,i}return h(r,e),r.prototype.contextChange=function(e){this.gl=e,this.blendModes=ct(e),this.set(this.defaultState),this.reset()},r.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,r=0;t;)1&t&&this.map[r].call(this,!!(e.data&1<<r)),t>>=1,r++;this.stateId=e.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,e)},r.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},r.prototype.setBlend=function(e){this.updateCheck(r.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},r.prototype.setOffset=function(e){this.updateCheck(r.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},r.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},r.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},r.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},r.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],r=this.gl;2===t.length?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},r.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},r.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},r.prototype.updateCheck=function(e,t){var r=this.checks.indexOf(e);t&&-1===r?this.checks.push(e):t||-1===r||this.checks.splice(r,1)},r.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},r.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},r}(S),xt=function(r){function i(t){var i=r.call(this,t)||this;return i.count=0,i.checkCount=0,i.maxIdle=e.settings.GC_MAX_IDLE,i.checkCountMax=e.settings.GC_MAX_CHECK_COUNT,i.mode=e.settings.GC_MODE,i}return h(i,r),i.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==t.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},i.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,r=!1,i=0;i<t.length;i++){var n=t[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(e.destroyTexture(n,!0),t[i]=null,r=!0)}if(r){var o=0;for(i=0;i<t.length;i++)null!==t[i]&&(t[o++]=t[i]);t.length=o}},i.prototype.unload=function(e){var t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},i}(S),_t=function(){return function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}}();exports.GLTexture=_t;var Et=function(e){function i(t){var r=e.call(this,t)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new f,r}return h(i,e),i.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var r=0;r<t;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new _t(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new _t(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(r=0;r<6;r++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(r=0;r<this.boundTextures.length;r++)this.bind(null,r)},i.prototype.bind=function(e,t){void 0===t&&(t=0);var r=this.gl;if(e){if((e=e.castToBaseTexture()).parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null},i.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},i.prototype.unbind=function(e){var t=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)},i.prototype.initTexture=function(e){var t=new _t(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},i.prototype.initTextureType=function(e,r){if(r.internalFormat=e.format,r.type=e.type,2===this.webGLVersion){var i=this.renderer.gl;e.type===i.FLOAT&&e.format===i.RGBA&&(r.internalFormat=i.RGBA32F),e.type===t.TYPES.HALF_FLOAT&&(r.type=i.HALF_FLOAT),r.type===i.HALF_FLOAT&&e.format===i.RGBA&&(r.internalFormat=i.RGBA16F)}},i.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var r=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(r,e,t));else{var i=e.realWidth,n=e.realHeight,o=r.gl;(t.width!==i||t.height!==n||t.dirtyId<0)&&(t.width=i,t.height=n,o.texImage2D(e.target,0,t.internalFormat,i,n,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},i.prototype.destroyTexture=function(e,t){var i=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var n=this.managedTextures.indexOf(e);-1!==n&&(0,r.removeItems)(this.managedTextures,n,1)}},i.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];r&&(e.mipmap!==t.MIPMAP_MODES.POW2&&2===this.webGLVersion||e.isPowerOfTwo?r.mipmap=e.mipmap>=1:r.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?r.wrapMode=e.wrapMode:r.wrapMode=t.WRAP_MODES.CLAMP,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},i.prototype.setStyle=function(e,r){var i=this.gl;if(r.mipmap&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,r.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===t.SCALE_MODES.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var n=this.renderer.context.extensions.anisotropicFiltering;if(n&&e.anisotropicLevel>0&&e.scaleMode===t.SCALE_MODES.LINEAR){var o=Math.min(e.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===t.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===t.SCALE_MODES.LINEAR?i.LINEAR:i.NEAREST)},i}(S),Tt={FilterSystem:Q,BatchSystem:$,ContextSystem:ee,FramebufferSystem:ie,GeometrySystem:se,MaskSystem:$e,ScissorSystem:et,StencilSystem:tt,ProjectionSystem:rt,RenderTextureSystem:st,ShaderSystem:dt,StateSystem:yt,TextureGCSystem:xt,TextureSystem:Et};exports.systems=Tt;var bt=new o.Matrix,St=function(i){function n(n,s){void 0===n&&(n=t.RENDERER_TYPE.UNKNOWN);var a=i.call(this)||this;return(s=Object.assign({},e.settings.RENDER_OPTIONS,s)).roundPixels&&(e.settings.ROUND_PIXELS=s.roundPixels,(0,r.deprecation)("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),a.options=s,a.type=n,a.screen=new o.Rectangle(0,0,s.width,s.height),a.view=s.view||document.createElement("canvas"),a.resolution=s.resolution||e.settings.RESOLUTION,a.transparent=s.transparent,a.autoDensity=s.autoDensity||s.autoResize||!1,a.preserveDrawingBuffer=s.preserveDrawingBuffer,a.clearBeforeRender=s.clearBeforeRender,a._backgroundColor=0,a._backgroundColorRgba=[0,0,0,0],a._backgroundColorString="#000000",a.backgroundColor=s.backgroundColor||a._backgroundColor,a._lastObjectRendered=null,a.plugins={},a}return h(n,i),n.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(n.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),n.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=t+"px"),this.emit("resize",e,t)},n.prototype.generateTexture=function(e,t,r,i){0===(i=i||e.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);var n=D.create({width:0|i.width,height:0|i.height,scaleMode:t,resolution:r});return bt.tx=-i.x,bt.ty=-i.y,this.render(e,n,!1,bt,!!e.parent),n},n.prototype.destroy=function(e){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null,this.type=t.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this._tempDisplayObjectParent=null,this.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=(0,r.hex2string)(e),(0,r.hex2rgb)(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),n}(r.EventEmitter);exports.AbstractRenderer=St;var wt=function(e){function n(s){var a=e.call(this,t.RENDERER_TYPE.WEBGL,s)||this;return s=a.options,a.gl=null,a.CONTEXT_UID=0,a.runners={destroy:new i.Runner("destroy"),contextChange:new i.Runner("contextChange"),reset:new i.Runner("reset"),update:new i.Runner("update"),postrender:new i.Runner("postrender"),prerender:new i.Runner("prerender"),resize:new i.Runner("resize")},a.globalUniforms=new K({projectionMatrix:new o.Matrix},!0),a.addSystem($e,"mask").addSystem(ee,"context").addSystem(yt,"state").addSystem(dt,"shader").addSystem(Et,"texture").addSystem(se,"geometry").addSystem(ie,"framebuffer").addSystem(et,"scissor").addSystem(tt,"stencil").addSystem(rt,"projection").addSystem(xt,"textureGC").addSystem(Q,"filter").addSystem(st,"renderTexture").addSystem($,"batch"),a.initPlugins(n.__plugins),s.context?a.context.initFromContext(s.context):a.context.initFromOptions({alpha:!!a.transparent,antialias:s.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:s.preserveDrawingBuffer,powerPreference:a.options.powerPreference}),a.renderingToScreen=!0,(0,r.sayHello)(2===a.context.webGLVersion?"WebGL 2":"WebGL 1"),a.resize(a.options.width,a.options.height),a}return h(n,e),n.create=function(e){if((0,r.isWebGLSupported)())return new n(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},n.prototype.addSystem=function(e,t){t||(t=e.name);var r=new e(this);if(this[t])throw new Error('Whoops! The name "'+t+'" is already in use');for(var i in this[t]=r,this.runners)this.runners[i].add(r);return this},n.prototype.render=function(e,t,r,i,n){if(this.renderingToScreen=!t,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(t||(this._lastObjectRendered=e),!n){var o=e.enableTempParent();e.updateTransform(),e.disableTempParent(o)}this.renderTexture.bind(t),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),t&&t.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},n.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this.runners.resize.emit(t,r)},n.prototype.reset=function(){return this.runners.reset.emit(),this},n.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},n.prototype.destroy=function(t){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();e.prototype.destroy.call(this,t),this.gl=null},n.registerPlugin=function(e,t){n.__plugins=n.__plugins||{},n.__plugins[e]=t},n}(St);function At(e){return wt.create(e)}exports.Renderer=wt;var Ct="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}";exports.defaultVertex=Ct;var Rt="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";exports.defaultFilterVertex=Rt;var It=function(){return function(){this.texArray=null,this.blend=0,this.type=t.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}();exports.BatchDrawCall=It;var Ot=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},e}();exports.BatchTextureArray=Ot;var Pt=function(){function e(e){this.rawBinaryData=new ArrayBuffer(e),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(e){return this[e+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},e}();exports.ViewableBuffer=Pt;var Mt=function(i){function n(t){var r=i.call(this,t)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=He.for2d(),r.size=4*e.settings.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),t.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return h(n,i),n.prototype.contextChange=function(){var r=this.renderer.gl;e.settings.PREFER_ENV===t.ENV.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),e.settings.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Oe(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},n.prototype.initFlushBuffers=function(){for(var e=n._drawCallPool,t=n._textureArrayPool,r=this.size/4,i=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new It);for(;t.length<i;)t.push(new Ot);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},n.prototype.onPrerender=function(){this._flushId=0},n.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},n.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,t=this.MAX_TEXTURES,r=n._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++f._globalBatch,u=0,h=r[0],l=0;i.copyBoundTextures(o,t);for(var d=0;d<this._bufferSize;++d){var c=e[d];e[d]=null,c._batchEnabled!==a&&(h.count>=t&&(i.boundArray(h,o,a,t),this.buildDrawCalls(h,l,d),l=d,h=r[++u],++a),c._batchEnabled=a,c.touched=s,h.elements[h.count++]=c)}h.count>0&&(i.boundArray(h,o,a,t),this.buildDrawCalls(h,l,this._bufferSize),++u,++a);for(d=0;d<o.length;d++)o[d]=null;f._globalBatch=a},n.prototype.buildDrawCalls=function(e,t,i){var o=this._bufferedElements,s=this._attributeBuffer,a=this._indexBuffer,u=this.vertexSize,h=n._drawCallPool,l=this._dcIndex,d=this._aIndex,c=this._iIndex,f=h[l];f.start=this._iIndex,f.texArray=e;for(var p=t;p<i;++p){var m=o[p],v=m._texture.baseTexture,g=r.premultiplyBlendMode[v.alphaMode?1:0][m.blendMode];o[p]=null,t<p&&f.blend!==g&&(f.size=c-f.start,t=p,(f=h[++l]).texArray=e,f.start=c),this.packInterleavedGeometry(m,s,a,d,c),d+=m.vertexData.length/2*u,c+=m.indices.length,f.blend=g}t<i&&(f.size=c-f.start,++l),this._dcIndex=l,this._aIndex=d,this._iIndex=c},n.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},n.prototype.updateGeometry=function(){var t=this._packedGeometries,r=this._attributeBuffer,i=this._indexBuffer;e.settings.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},n.prototype.drawBatches=function(){for(var e=this._dcIndex,t=this.renderer,r=t.gl,i=t.state,o=n._drawCallPool,s=null,a=0;a<e;a++){var u=o[a],h=u.texArray,l=u.type,d=u.size,c=u.start,f=u.blend;s!==h&&(s=h,this.bindAndClearTexArray(h)),this.state.blendMode=f,i.set(this.state),r.drawElements(l,d,r.UNSIGNED_SHORT,2*c)}},n.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},n.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),e.settings.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},n.prototype.stop=function(){this.flush()},n.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),i.prototype.destroy.call(this)},n.prototype.getAttributeBuffer=function(e){var t=(0,r.nextPow2)(Math.ceil(e/8)),i=(0,r.log2)(t),n=8*t;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[n];return o||(this._aBuffers[n]=o=new Pt(n*this.vertexSize*4)),o},n.prototype.getIndexBuffer=function(e){var t=(0,r.nextPow2)(Math.ceil(e/12)),i=(0,r.log2)(t),n=12*t;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(n)),o},n.prototype.packInterleavedGeometry=function(e,t,i,n,o){for(var s=t.uint32View,a=t.float32View,u=n/this.vertexSize,h=e.uvs,l=e.indices,d=e.vertexData,c=e._texture.baseTexture._batchLocation,f=Math.min(e.worldAlpha,1),p=f<1&&e._texture.baseTexture.alphaMode?(0,r.premultiplyTint)(e._tintRGB,f):e._tintRGB+(255*f<<24),m=0;m<d.length;m+=2)a[n++]=d[m],a[n++]=d[m+1],a[n++]=h[m],a[n++]=h[m+1],s[n++]=p,a[n++]=c;for(m=0;m<l.length;m++)i[o++]=u+l[m]},n._drawCallPool=[],n._textureArrayPool=[],n}(Z);exports.AbstractBatchRenderer=Mt;var Dt=function(){function e(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),r=0;r<e;r++)t[r]=r;this.defaultGroupCache[e]=K.from({uSamplers:t},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Le(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new o.Matrix,default:this.defaultGroupCache[e]};return new Be(this.programCache[e],n)},e.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var r=0;r<e;r++)r>0&&(t+="\nelse "),r<e-1&&(t+="if(vTextureId < "+r+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"},e}();exports.BatchShaderGenerator=Dt;var Ft=function(e){function r(r){void 0===r&&(r=!1);var i=e.call(this)||this;return i._buffer=new B(null,r,!1),i._indexBuffer=new B(null,r,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,t.TYPES.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,t.TYPES.FLOAT).addAttribute("aColor",i._buffer,4,!0,t.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,t.TYPES.FLOAT).addIndex(i._indexBuffer),i}return h(r,e),r}(z);exports.BatchGeometry=Ft;var Nt="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Lt="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Bt=function(){function e(){}return e.create=function(e){var t=Object.assign({vertex:Nt,fragment:Lt,geometryClass:Ft,vertexSize:6},e),r=t.vertex,i=t.fragment,n=t.vertexSize,o=t.geometryClass;return function(e){function t(t){var s=e.call(this,t)||this;return s.shaderGenerator=new Dt(r,i),s.geometryClass=o,s.vertexSize=n,s}return h(t,e),t}(Mt)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Nt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return Lt},enumerable:!1,configurable:!0}),e}();exports.BatchPluginFactory=Bt;var Ut=Bt.create();exports.BatchRenderer=Ut;
},{"@pixi/settings":"HWBD","@pixi/constants":"u0xz","@pixi/utils":"xS69","@pixi/runner":"hrwS","@pixi/ticker":"4QEk","@pixi/math":"bSXT"}],"2vCR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Application=void 0;var e=require("@pixi/display"),i=require("@pixi/core"),r=function(){function r(n){var t=this;n=Object.assign({forceCanvas:!1},n),this.renderer=(0,i.autoDetectRenderer)(n),this.stage=new e.Container,r._plugins.forEach(function(e){e.init.call(t,n)})}return r.registerPlugin=function(e){r._plugins.push(e)},r.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(r.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),r.prototype.destroy=function(e,i){var n=this,t=r._plugins.slice(0);t.reverse(),t.forEach(function(e){e.destroy.call(n)}),this.stage.destroy(i),this.stage=null,this.renderer.destroy(e),this.renderer=null},r}();exports.Application=r,r._plugins=[];var n=function(){function e(){}return e.init=function(e){var i=this;Object.defineProperty(this,"resizeTo",{set:function(e){window.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){i._resizeTo&&(i.cancelResize(),i._resizeId=requestAnimationFrame(function(){return i.resize()}))},this.cancelResize=function(){i._resizeId&&(cancelAnimationFrame(i._resizeId),i._resizeId=null)},this.resize=function(){if(i._resizeTo){var e,r;if(i.cancelResize(),i._resizeTo===window)e=window.innerWidth,r=window.innerHeight;else{var n=i._resizeTo;e=n.clientWidth,r=n.clientHeight}i.renderer.resize(e,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();r.registerPlugin(n);
},{"@pixi/display":"sIot","@pixi/core":"CJJk"}],"mQFe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Extract=void 0;var e=require("@pixi/utils"),r=require("@pixi/math"),t=require("@pixi/core"),n=new r.Rectangle,a=4,i=function(){function r(e){this.renderer=e,e.extract=this}return r.prototype.image=function(e,r,t){var n=new Image;return n.src=this.base64(e,r,t),n},r.prototype.base64=function(e,r,t){return this.canvas(e).toDataURL(r,t)},r.prototype.canvas=function(i){var o,s,d,h=this.renderer,u=!1,x=!1;i&&(i instanceof t.RenderTexture?d=i:(d=this.renderer.generateTexture(i),x=!0)),d?(o=d.baseTexture.resolution,s=d.frame,u=!1,h.renderTexture.bind(d)):(o=this.renderer.resolution,u=!0,(s=n).width=this.renderer.width,s.height=this.renderer.height,h.renderTexture.bind(null));var c=Math.floor(s.width*o+1e-4),l=Math.floor(s.height*o+1e-4),g=new e.CanvasRenderTarget(c,l,1),v=new Uint8Array(a*c*l),p=h.gl;p.readPixels(s.x*o,s.y*o,c,l,p.RGBA,p.UNSIGNED_BYTE,v);var f=g.context.getImageData(0,0,c,l);if(r.arrayPostDivide(v,f.data),g.context.putImageData(f,0,0),u){var y=new e.CanvasRenderTarget(g.width,g.height,1);y.context.scale(1,-1),y.context.drawImage(g.canvas,0,-l),g.destroy(),g=y}return x&&d.destroy(!0),g.canvas},r.prototype.pixels=function(e){var i,o,s,d=this.renderer,h=!1;e&&(e instanceof t.RenderTexture?s=e:(s=this.renderer.generateTexture(e),h=!0)),s?(i=s.baseTexture.resolution,o=s.frame,d.renderTexture.bind(s)):(i=d.resolution,(o=n).width=d.width,o.height=d.height,d.renderTexture.bind(null));var u=o.width*i,x=o.height*i,c=new Uint8Array(a*u*x),l=d.gl;return l.readPixels(o.x*i,o.y*i,u,x,l.RGBA,l.UNSIGNED_BYTE,c),h&&s.destroy(!0),r.arrayPostDivide(c,c),c},r.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},r.arrayPostDivide=function(e,r){for(var t=0;t<e.length;t+=4){var n=r[t+3]=e[t+3];0!==n?(r[t]=Math.round(Math.min(255*e[t]/n,255)),r[t+1]=Math.round(Math.min(255*e[t+1]/n,255)),r[t+2]=Math.round(Math.min(255*e[t+2]/n,255))):(r[t]=e[t],r[t+1]=e[t+1],r[t+2]=e[t+2])}},r}();exports.Extract=i;
},{"@pixi/utils":"xS69","@pixi/math":"bSXT","@pixi/core":"CJJk"}],"rC3H":[function(require,module,exports) {
"use strict";function e(e,r){if(e){r=r||{};for(var o={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t=o.parser[r.strictMode?"strict":"loose"].exec(e),s={},a=14;a--;)s[o.key[a]]=t[a]||"";return s[o.q.name]={},s[o.key[12]].replace(o.q.parser,function(e,r,t){r&&(s[o.q.name][r]=t)}),s}}module.exports=e;
},{}],"XUKS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function t(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var e=function(){function e(n,i,r){void 0===i&&(i=!1),t(this,e),this._fn=n,this._once=i,this._thisArg=r,this._next=this._prev=this._owner=null}return n(e,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}();function i(n,t){return n._head?(n._tail._next=t,t._prev=n._tail,n._tail=t):(n._head=t,n._tail=t),t._owner=n,t}var r=function(){function r(){t(this,r),this._head=this._tail=void 0}return n(r,[{key:"handlers",value:function(){var n=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=this._head;if(n)return!!t;for(var e=[];t;)e.push(t),t=t._next;return e}},{key:"has",value:function(n){if(!(n instanceof e))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return n._owner===this}},{key:"dispatch",value:function(){var n=this._head;if(!n)return!1;for(;n;)n._once&&this.detach(n),n._fn.apply(n._thisArg,arguments),n=n._next;return!0}},{key:"add",value:function(n){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof n)throw new Error("MiniSignal#add(): First arg must be a Function.");return i(this,new e(n,!1,t))}},{key:"once",value:function(n){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof n)throw new Error("MiniSignal#once(): First arg must be a Function.");return i(this,new e(n,!0,t))}},{key:"detach",value:function(n){if(!(n instanceof e))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return n._owner!==this?this:(n._prev&&(n._prev._next=n._next),n._next&&(n._next._prev=n._prev),n===this._head?(this._head=n._next,null===n._next&&(this._tail=null)):n===this._tail&&(this._tail=n._prev,this._tail._next=null),n._owner=null,this)}},{key:"detachAll",value:function(){var n=this._head;if(!n)return this;for(this._head=this._tail=null;n;)n._owner=null,n=n._next;return this}}]),r}();r.MiniSignalBinding=e,exports.default=r,module.exports=exports.default;
},{}],"f3RL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.encodeBinary=b,exports.middleware=exports.async=exports.Resource=exports.Loader=void 0;var t=r(require("parse-uri")),e=r(require("mini-signals"));function r(t){return t&&t.__esModule?t:{default:t}}function i(){}function s(t,e,r,i){var s=0,n=t.length;!function o(a){a||s===n?r&&r(a):i?setTimeout(function(){e(t[s++],o)},1):e(t[s++],o)}()}function n(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function o(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,s={_tasks:[],concurrency:e,saturated:i,unsaturated:i,buffer:e/4,empty:i,drain:i,error:i,started:!1,paused:!1,push:function(t,e){o(t,!1,e)},kill:function(){r=0,s.drain=i,s.started=!1,s._tasks=[]},unshift:function(t,e){o(t,!0,e)},process:function(){for(;!s.paused&&r<s.concurrency&&s._tasks.length;){var e=s._tasks.shift();0===s._tasks.length&&s.empty(),(r+=1)===s.concurrency&&s.saturated(),t(e.data,n(a(e)))}},length:function(){return s._tasks.length},running:function(){return r},idle:function(){return s._tasks.length+r===0},pause:function(){!0!==s.paused&&(s.paused=!0)},resume:function(){if(!1!==s.paused){s.paused=!1;for(var t=1;t<=s.concurrency;t++)s.process()}}};function o(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(s.started=!0,null==t&&s.idle())setTimeout(function(){return s.drain()},1);else{var n={data:t,callback:"function"==typeof r?r:i};e?s._tasks.unshift(n):s._tasks.push(n),setTimeout(function(){return s.process()},1)}}function a(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&s.error(arguments[0],t.data),r<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}return s}var a={eachSeries:s,queue:o};exports.async=a;var h={};function u(t,e){var r=this;h[t.url]?(t.data=h[t.url],t.complete()):t.onComplete.once(function(){return h[r.url]=r.data}),e()}function d(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,r){return e&&d(t.prototype,e),r&&d(t,r),t}var c=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),_=null,E=0,f=200,p=204,T=1223,O=2;function g(){}var m=function(){function r(t,i,s){if("string"!=typeof t||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");s=s||{},this._flags=0,this._setFlag(r.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=t,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===s.crossOrigin?"anonymous":s.crossOrigin,this.timeout=s.timeout||0,this.loadType=s.loadType||this._determineLoadType(),this.xhrType=s.xhrType,this.metadata=s.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=r.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=g,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new e.default,this.onProgress=new e.default,this.onComplete=new e.default,this.onAfterMiddleware=new e.default}r.setExtensionLoadType=function(t,e){P(r._loadTypeMap,t,e)},r.setExtensionXhrType=function(t,e){P(r._xhrTypeMap,t,e)};var i=r.prototype;return i.complete=function(){this._clearEvents(),this._finish()},i.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=r.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},i.load=function(t){var e=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout(function(){return t(e)},1);else switch(t&&this.onComplete.once(t),this._setFlag(r.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case r.LOAD_TYPE.IMAGE:this.type=r.TYPE.IMAGE,this._loadElement("image");break;case r.LOAD_TYPE.AUDIO:this.type=r.TYPE.AUDIO,this._loadSourceElement("audio");break;case r.LOAD_TYPE.VIDEO:this.type=r.TYPE.VIDEO,this._loadSourceElement("video");break;case r.LOAD_TYPE.XHR:default:c&&this.crossOrigin?this._loadXdr():this._loadXhr()}},i._hasFlag=function(t){return 0!=(this._flags&t)},i._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},i._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},i._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(r.STATUS_FLAGS.COMPLETE,!0),this._setFlag(r.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},i._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},i._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},i._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===r.XHR_RESPONSE_TYPE.JSON||this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=r.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},i._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},i._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},i._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},i._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},i._onTimeout=function(){this.abort("Load timed out.")},i._xhrOnError=function(){var t=this.xhr;this.abort(S(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},i._xhrOnTimeout=function(){var t=this.xhr;this.abort(S(t)+" Request timed out.")},i._xhrOnAbort=function(){var t=this.xhr;this.abort(S(t)+" Request was aborted by the user.")},i._xhrOnLoad=function(){var t=this.xhr,e="",i=void 0===t.status?f:t.status;if(""!==t.responseType&&"text"!==t.responseType&&void 0!==t.responseType||(e=t.responseText),i===E&&(e.length>0||t.responseType===r.XHR_RESPONSE_TYPE.BUFFER)?i=f:i===T&&(i=p),(i/100|0)===O){if(this.xhrType===r.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=r.TYPE.TEXT;else if(this.xhrType===r.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=r.TYPE.JSON}catch(o){return void this.abort("Error trying to parse loaded json: "+o)}else if(this.xhrType===r.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var s=new DOMParser;this.data=s.parseFromString(e,"text/xml")}else{var n=document.createElement("div");n.innerHTML=e,this.data=n}this.type=r.TYPE.XML}catch(o){return void this.abort("Error trying to parse loaded xml: "+o)}else this.data=t.response||e;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},i._determineCrossOrigin=function(e,r){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";r=r||window.location,_||(_=document.createElement("a")),_.href=e;var i=!(e=(0,t.default)(_.href,{strictMode:!0})).port&&""===r.port||e.port===r.port,s=e.protocol?e.protocol+":":"";return e.host===r.hostname&&i&&s===r.protocol?"":"anonymous"},i._determineXhrType=function(){return r._xhrTypeMap[this.extension]||r.XHR_RESPONSE_TYPE.TEXT},i._determineLoadType=function(){return r._loadTypeMap[this.extension]||r.LOAD_TYPE.XHR},i._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),s=t.indexOf("#"),n=Math.min(i>-1?i:t.length,s>-1?s:t.length);e=(t=t.substring(0,n)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},i._getMimeFromXhrType=function(t){switch(t){case r.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case r.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case r.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case r.XHR_RESPONSE_TYPE.JSON:return"application/json";case r.XHR_RESPONSE_TYPE.DEFAULT:case r.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},l(r,[{key:"isDataUrl",get:function(){return this._hasFlag(r.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(r.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(r.STATUS_FLAGS.LOADING)}}]),r}();function P(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function S(t){return t.toString().replace("object ","")}exports.Resource=m,m.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},m.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},m.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},m.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},m._loadTypeMap={gif:m.LOAD_TYPE.IMAGE,png:m.LOAD_TYPE.IMAGE,bmp:m.LOAD_TYPE.IMAGE,jpg:m.LOAD_TYPE.IMAGE,jpeg:m.LOAD_TYPE.IMAGE,tif:m.LOAD_TYPE.IMAGE,tiff:m.LOAD_TYPE.IMAGE,webp:m.LOAD_TYPE.IMAGE,tga:m.LOAD_TYPE.IMAGE,svg:m.LOAD_TYPE.IMAGE,"svg+xml":m.LOAD_TYPE.IMAGE,mp3:m.LOAD_TYPE.AUDIO,ogg:m.LOAD_TYPE.AUDIO,wav:m.LOAD_TYPE.AUDIO,mp4:m.LOAD_TYPE.VIDEO,webm:m.LOAD_TYPE.VIDEO},m._xhrTypeMap={xhtml:m.XHR_RESPONSE_TYPE.DOCUMENT,html:m.XHR_RESPONSE_TYPE.DOCUMENT,htm:m.XHR_RESPONSE_TYPE.DOCUMENT,xml:m.XHR_RESPONSE_TYPE.DOCUMENT,tmx:m.XHR_RESPONSE_TYPE.DOCUMENT,svg:m.XHR_RESPONSE_TYPE.DOCUMENT,tsx:m.XHR_RESPONSE_TYPE.DOCUMENT,gif:m.XHR_RESPONSE_TYPE.BLOB,png:m.XHR_RESPONSE_TYPE.BLOB,bmp:m.XHR_RESPONSE_TYPE.BLOB,jpg:m.XHR_RESPONSE_TYPE.BLOB,jpeg:m.XHR_RESPONSE_TYPE.BLOB,tif:m.XHR_RESPONSE_TYPE.BLOB,tiff:m.XHR_RESPONSE_TYPE.BLOB,webp:m.XHR_RESPONSE_TYPE.BLOB,tga:m.XHR_RESPONSE_TYPE.BLOB,json:m.XHR_RESPONSE_TYPE.JSON,text:m.XHR_RESPONSE_TYPE.TEXT,txt:m.XHR_RESPONSE_TYPE.TEXT,ttf:m.XHR_RESPONSE_TYPE.BUFFER,otf:m.XHR_RESPONSE_TYPE.BUFFER},m.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],s=[0,0,0,0],n=0;n<i.length;++n)r<t.length?i[n]=255&t.charCodeAt(r++):i[n]=0;switch(s[0]=i[0]>>2,s[1]=(3&i[0])<<4|i[1]>>4,s[2]=(15&i[1])<<2|i[2]>>6,s[3]=63&i[2],r-(t.length-1)){case 2:s[3]=64,s[2]=64;break;case 1:s[3]=64}for(var o=0;o<s.length;++o)e+=A.charAt(s[o])}return e}var y=window.URL||window.webkitURL;function L(t,e){if(t.data){if(t.xhr&&t.xhrType===m.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=y.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=m.TYPE.IMAGE,void(t.data.onload=function(){y.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+b(t.xhr.responseText),t.type=m.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}var v={caching:u,parsing:L};exports.middleware=v;var R=100,x=/(#[\w-]+)?$/,w=function(){function r(t,i){var s=this;void 0===t&&(t=""),void 0===i&&(i=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return s._loadResource(t,e)},this._queue=o(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new e.default,this.onError=new e.default,this.onLoad=new e.default,this.onStart=new e.default,this.onComplete=new e.default;for(var n=0;n<r._defaultBeforeMiddleware.length;++n)this.pre(r._defaultBeforeMiddleware[n]);for(var a=0;a<r._defaultAfterMiddleware.length;++a)this.use(r._defaultAfterMiddleware[a])}var i=r.prototype;return i.add=function(t,e,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;++s)this.add(t[s]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new m(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var n=r.parentResource,o=[],a=0;a<n.children.length;++a)n.children[a].isComplete||o.push(n.children[a]);var h=n.progressChunk*(o.length+1)/(o.length+2);n.children.push(this.resources[t]),n.progressChunk=h;for(var u=0;u<o.length;++u)o[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},i.pre=function(t){return this._beforeMiddleware.push(t),this},i.use=function(t){return this._afterMiddleware.push(t),this},i.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},i.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=this._queue._tasks.length,r=R/e,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=r;this._onStart(),this._queue.resume()}return this},i._prepareUrl=function(e){var r,i=(0,t.default)(e,{strictMode:!0});if(r=i.protocol||!i.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var s=x.exec(r)[0];-1!==(r=r.substr(0,r.length-s.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=s}return r},i._loadResource=function(t,e){var r=this;t._dequeue=e,s(this._beforeMiddleware,function(e,i){e.call(r,t,function(){i(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},i._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},i._onComplete=function(){this.progress=R,this.loading=!1,this.onComplete.dispatch(this,this.resources)},i._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),s(this._afterMiddleware,function(r,i){r.call(e,t,i)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(R,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},l(r,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),r}();exports.Loader=w,w._defaultBeforeMiddleware=[],w._defaultAfterMiddleware=[],w.pre=function(t){return w._defaultBeforeMiddleware.push(t),w},w.use=function(t){return w._defaultAfterMiddleware.push(t),w};
},{"parse-uri":"rC3H","mini-signals":"XUKS"}],"hkFg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextureLoader=exports.LoaderResource=exports.Loader=exports.AppLoaderPlugin=void 0;var e=require("resource-loader"),r=require("@pixi/core"),t=e.Resource;exports.LoaderResource=t;var o=function(e,r){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)};function n(e,r){function t(){this.constructor=e}o(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var u=function(){function t(){}return t.use=function(t,o){t.data&&t.type===e.Resource.TYPE.IMAGE&&(t.texture=r.Texture.fromLoader(t.data,t.url,t.name)),o()},t}();exports.TextureLoader=u;var s=function(e){function r(t,o){for(var n=e.call(this,t,o)||this,u=0;u<r._plugins.length;++u){var s=r._plugins[u],i=s.pre,a=s.use;i&&n.pre(i),a&&n.use(a)}return n._protected=!1,n}return n(r,e),r.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(r,"shared",{get:function(){var e=r._shared;return e||((e=new r)._protected=!0,r._shared=e),e},enumerable:!1,configurable:!0}),r.registerPlugin=function(e){return r._plugins.push(e),e.add&&e.add(),r},r._plugins=[],r}(e.Loader);exports.Loader=s,s.registerPlugin({use:e.middleware.parsing}),s.registerPlugin(u);var i=function(){function e(){}return e.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?s.shared:new s},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}();exports.AppLoaderPlugin=i;
},{"resource-loader":"f3RL","@pixi/core":"CJJk"}],"AZ9s":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParticleRenderer=exports.ParticleContainer=void 0;var t=require("@pixi/constants"),e=require("@pixi/display"),i=require("@pixi/utils"),r=require("@pixi/core"),o=require("@pixi/math"),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function n(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var s=function(e){function r(i,r,o,a){void 0===i&&(i=1500),void 0===o&&(o=16384),void 0===a&&(a=!1);var n=e.call(this)||this;return o>16384&&(o=16384),n._properties=[!1,!0,!1,!1,!1],n._maxSize=i,n._batchSize=o,n._buffers=null,n._bufferUpdateIDs=[],n._updateID=0,n.interactiveChildren=!1,n.blendMode=t.BLEND_MODES.NORMAL,n.autoResize=a,n.roundPixels=!0,n.baseTexture=null,n.setProperties(r),n._tint=0,n.tintRgb=new Float32Array(4),n.tint=16777215,n}return n(r,e),r.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,(0,i.hex2rgb)(t,this.tintRgb)},enumerable:!1,configurable:!0}),r.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},r.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},r.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},r.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r}(e.Container);exports.ParticleContainer=s;var u=function(){function e(e,i,o){this.geometry=new r.Geometry,this.indexBuffer=null,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var a=0;a<e.length;++a){var n=e[a];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||t.TYPES.FLOAT,offset:n.offset},i[a]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.geometry,o=0;this.indexBuffer=new r.Buffer((0,i.createIndicesForQuads)(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var a=0;a<this.dynamicProperties.length;++a){(p=this.dynamicProperties[a]).offset=o,o+=p.size,this.dynamicStride+=p.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new r.Buffer(this.dynamicData,!1,!1);var s=0;this.staticStride=0;for(a=0;a<this.staticProperties.length;++a){(p=this.staticProperties[a]).offset=s,s+=p.size,this.staticStride+=p.size}var u=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=new r.Buffer(this.staticData,!0,!1);for(a=0;a<this.dynamicProperties.length;++a){var p=this.dynamicProperties[a];e.addAttribute(p.attributeName,this.dynamicBuffer,0,p.type===t.TYPES.UNSIGNED_BYTE,p.type,4*this.dynamicStride,4*p.offset)}for(a=0;a<this.staticProperties.length;++a){p=this.staticProperties[a];e.addAttribute(p.attributeName,this.staticBuffer,0,p.type===t.TYPES.UNSIGNED_BYTE,p.type,4*this.staticStride,4*p.offset)}},e.prototype.uploadDynamic=function(e,i,r){for(var o=0;o<this.dynamicProperties.length;o++){var a=this.dynamicProperties[o];a.uploadFunction(e,i,r,a.type===t.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(e,i,r){for(var o=0;o<this.staticProperties.length;o++){var a=this.staticProperties[o];a.uploadFunction(e,i,r,a.type===t.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),p="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",h="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",d=function(e){function a(i){var a=e.call(this,i)||this;return a.shader=null,a.properties=null,a.tempMatrix=new o.Matrix,a.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:a.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:a.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:a.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:a.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:t.TYPES.UNSIGNED_BYTE,uploadFunction:a.uploadTint,offset:0}],a.shader=r.Shader.from(h,p,{}),a.state=r.State.for2d(),a}return n(a,e),a.prototype.render=function(t){var e=t.children,r=t._maxSize,o=t._batchSize,a=this.renderer,n=e.length;if(0!==n){n>r&&!t.autoResize&&(n=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.state.blendMode=(0,i.correctBlendMode)(t.blendMode,u.alphaMode),a.state.set(this.state);var p=a.gl,h=t.worldTransform.copyTo(this.tempMatrix);h.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=(0,i.premultiplyRgba)(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.alphaMode),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);for(var d=!1,f=0,l=0;f<n;f+=o,l+=1){var c=n-f;c>o&&(c=o),l>=s.length&&s.push(this._generateOneMoreBuffer(t));var y=s[l];y.uploadDynamic(e,f,c);var v=t._bufferUpdateIDs[l]||0;(d=d||y._updateID<v)&&(y._updateID=t._updateID,y.uploadStatic(e,f,c)),a.geometry.bind(y.geometry),p.drawElements(p.TRIANGLES,6*c,p.UNSIGNED_SHORT,0)}}},a.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,r=t._batchSize,o=t._properties,a=0;a<i;a+=r)e.push(new u(this.properties,o,r));return e},a.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,i=t._properties;return new u(this.properties,i,e)},a.prototype.uploadVertices=function(t,e,i,r,o,a){for(var n=0,s=0,u=0,p=0,h=0;h<i;++h){var d=t[e+h],f=d._texture,l=d.scale.x,c=d.scale.y,y=f.trim,v=f.orig;y?(n=(s=y.x-d.anchor.x*v.width)+y.width,u=(p=y.y-d.anchor.y*v.height)+y.height):(n=v.width*(1-d.anchor.x),s=v.width*-d.anchor.x,u=v.height*(1-d.anchor.y),p=v.height*-d.anchor.y),r[a]=s*l,r[a+1]=p*c,r[a+o]=n*l,r[a+o+1]=p*c,r[a+2*o]=n*l,r[a+2*o+1]=u*c,r[a+3*o]=s*l,r[a+3*o+1]=u*c,a+=4*o}},a.prototype.uploadPosition=function(t,e,i,r,o,a){for(var n=0;n<i;n++){var s=t[e+n].position;r[a]=s.x,r[a+1]=s.y,r[a+o]=s.x,r[a+o+1]=s.y,r[a+2*o]=s.x,r[a+2*o+1]=s.y,r[a+3*o]=s.x,r[a+3*o+1]=s.y,a+=4*o}},a.prototype.uploadRotation=function(t,e,i,r,o,a){for(var n=0;n<i;n++){var s=t[e+n].rotation;r[a]=s,r[a+o]=s,r[a+2*o]=s,r[a+3*o]=s,a+=4*o}},a.prototype.uploadUvs=function(t,e,i,r,o,a){for(var n=0;n<i;++n){var s=t[e+n]._texture._uvs;s?(r[a]=s.x0,r[a+1]=s.y0,r[a+o]=s.x1,r[a+o+1]=s.y1,r[a+2*o]=s.x2,r[a+2*o+1]=s.y2,r[a+3*o]=s.x3,r[a+3*o+1]=s.y3,a+=4*o):(r[a]=0,r[a+1]=0,r[a+o]=0,r[a+o+1]=0,r[a+2*o]=0,r[a+2*o+1]=0,r[a+3*o]=0,r[a+3*o+1]=0,a+=4*o)}},a.prototype.uploadTint=function(t,e,r,o,a,n){for(var s=0;s<r;++s){var u=t[e+s],p=u._texture.baseTexture.alphaMode>0,h=u.alpha,d=h<1&&p?(0,i.premultiplyTint)(u._tintRGB,h):u._tintRGB+(255*h<<24);o[n]=d,o[n+a]=d,o[n+2*a]=d,o[n+3*a]=d,n+=4*a}},a.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},a}(r.ObjectRenderer);exports.ParticleRenderer=d;
},{"@pixi/constants":"u0xz","@pixi/display":"sIot","@pixi/utils":"xS69","@pixi/core":"CJJk","@pixi/math":"bSXT"}],"mLUG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.graphicsUtils=exports.LineStyle=exports.LINE_JOIN=exports.LINE_CAP=exports.GraphicsGeometry=exports.GraphicsData=exports.Graphics=exports.GRAPHICS_CURVES=exports.FillStyle=void 0;var t,e,i=require("@pixi/core"),r=require("@pixi/math"),s=require("@pixi/utils"),n=require("@pixi/constants"),a=require("@pixi/display");exports.LINE_JOIN=t,function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(t||(exports.LINE_JOIN=t={})),exports.LINE_CAP=e,function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(e||(exports.LINE_CAP=e={}));var h={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}};exports.GRAPHICS_CURVES=h;var o=function(){function t(){this.color=16777215,this.alpha=1,this.texture=i.Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=i.Texture.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();exports.FillStyle=o;var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function u(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var p={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,n=e.points,a=e.indices;if(i.length>=6){for(var h=[],o=0;o<r.length;o++){var l=r[o];h.push(i.length/2),i=i.concat(l.points)}var u=(0,s.earcut)(i,h,2);if(!u)return;var p=n.length/2;for(o=0;o<u.length;o+=3)a.push(u[o]+p),a.push(u[o+1]+p),a.push(u[o+2]+p);for(o=0;o<i.length;o++)n.push(i[o])}}},c={build:function(t){var e,i,s=t.shape,n=t.points,a=s.x,h=s.y;if(n.length=0,t.type===r.SHAPES.CIRC)e=s.radius,i=s.radius;else{var o=t.shape;e=o.width,i=o.height}if(0!==e&&0!==i){var l=Math.floor(30*Math.sqrt(s.radius))||Math.floor(15*Math.sqrt(e+i));l/=2.3;for(var u=2*Math.PI/l,p=0;p<l-.5;p++)n.push(a+Math.sin(-u*p)*e,h+Math.cos(-u*p)*i);n.push(n[0],n[1])}},triangulate:function(t,e){var i=t.points,r=e.points,s=e.indices,n=r.length/2,a=n,h=t.shape,o=t.matrix,l=h.x,u=h.y;r.push(t.matrix?o.a*l+o.c*u+o.tx:l,t.matrix?o.b*l+o.d*u+o.ty:u);for(var p=0;p<i.length;p+=2)r.push(i[p],i[p+1]),s.push(n++,a,n)}},d={build:function(t){var e=t.shape,i=e.x,r=e.y,s=e.width,n=e.height,a=t.points;a.length=0,a.push(i,r,i+s,r,i+s,r+n,i,r+n)},triangulate:function(t,e){var i=t.points,r=e.points,s=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}};function f(t,e,i){return t+(e-t)*i}function y(t,e,i,r,s,n,a){void 0===a&&(a=[]);for(var h=a,o=0,l=0,u=0,p=0,c=0,d=0,y=0,v=0;y<=20;++y)o=f(t,i,v=y/20),l=f(e,r,v),u=f(i,s,v),p=f(r,n,v),c=f(o,u,v),d=f(l,p,v),h.push(c,d);return h}var v={build:function(t){var e=t.shape,i=t.points,r=e.x,s=e.y,n=e.width,a=e.height,h=Math.max(0,Math.min(e.radius,Math.min(n,a)/2));i.length=0,h?(y(r,s+h,r,s,r+h,s,i),y(r+n-h,s,r+n,s,r+n,s+h,i),y(r+n,s+a-h,r+n,s+a,r+n-h,s+a,i),y(r+h,s+a,r,s+a,r,s+a-h,i)):i.push(r,s,r+n,s,r+n,s+a,r,s+a)},triangulate:function(t,e){for(var i=t.points,r=e.points,n=e.indices,a=r.length/2,h=(0,s.earcut)(i,null,2),o=0,l=h.length;o<l;o+=3)n.push(h[o]+a),n.push(h[o+1]+a),n.push(h[o+2]+a);for(o=0,l=i.length;o<l;o++)r.push(i[o],i[++o])}};function g(t,e,i,r,s,n,a,h){var o,l;a?(o=r,l=-i):(o=-r,l=i);var u=t-i*s+o,p=e-r*s+l,c=t+i*n+o,d=e+r*n+l;return h.push(u,p),h.push(c,d),2}function b(t,e,i,r,s,n,a,h){var o=i-t,l=r-e,u=Math.atan2(o,l),p=Math.atan2(s-t,n-e);h&&u<p?u+=2*Math.PI:!h&&u>p&&(p+=2*Math.PI);var c=u,d=p-u,f=Math.abs(d),y=Math.sqrt(o*o+l*l),v=1+(15*f*Math.sqrt(y)/Math.PI>>0),g=d/v;if(c+=g,h){a.push(t,e),a.push(i,r);for(var b=1,x=c;b<v;b++,x+=g)a.push(t,e),a.push(t+Math.sin(x)*y,e+Math.cos(x)*y);a.push(t,e),a.push(s,n)}else{a.push(i,r),a.push(t,e);for(b=1,x=c;b<v;b++,x+=g)a.push(t+Math.sin(x)*y,e+Math.cos(x)*y),a.push(t,e);a.push(s,n),a.push(t,e)}return 2*v}function x(i,s){var n=i.shape,a=i.points||n.points.slice(),o=s.closePointEps;if(0!==a.length){var l=i.lineStyle,u=new r.Point(a[0],a[1]),p=new r.Point(a[a.length-2],a[a.length-1]),c=n.type!==r.SHAPES.POLY||n.closeStroke,d=Math.abs(u.x-p.x)<o&&Math.abs(u.y-p.y)<o;if(c){a=a.slice(),d&&(a.pop(),a.pop(),p.set(a[a.length-2],a[a.length-1]));var f=.5*(u.x+p.x),y=.5*(p.y+u.y);a.unshift(f,y),a.push(f,y)}var v=s.points,x=a.length/2,m=a.length,_=v.length/2,S=l.width/2,P=S*S,w=l.miterLimit*l.miterLimit,M=a[0],T=a[1],D=a[2],E=a[3],A=0,I=0,C=-(T-E),R=M-D,B=0,L=0,O=Math.sqrt(C*C+R*R);C/=O,R/=O,C*=S,R*=S;var U=l.alignment,N=2*(1-U),H=2*U;c||(l.cap===e.ROUND?m+=b(M-C*(N-H)*.5,T-R*(N-H)*.5,M-C*N,T-R*N,M+C*H,T+R*H,v,!0)+2:l.cap===e.SQUARE&&(m+=g(M,T,C,R,N,H,!0,v))),v.push(M-C*N,T-R*N),v.push(M+C*H,T+R*H);for(var j=1;j<x-1;++j){M=a[2*(j-1)],T=a[2*(j-1)+1],D=a[2*j],E=a[2*j+1],A=a[2*(j+1)],I=a[2*(j+1)+1],C=-(T-E),R=M-D,C/=O=Math.sqrt(C*C+R*R),R/=O,C*=S,R*=S,B=-(E-I),L=D-A,B/=O=Math.sqrt(B*B+L*L),L/=O,B*=S,L*=S;var F=D-M,q=T-E,G=D-A,z=I-E,k=q*G-z*F,W=k<0;if(Math.abs(k)<.1)v.push(D-C*N,E-R*N),v.push(D+C*H,E+R*H);else{var V=(-C+M)*(-R+E)-(-C+D)*(-R+T),Y=(-B+A)*(-L+E)-(-B+D)*(-L+I),Q=(F*Y-G*V)/k,X=(z*V-q*Y)/k,J=(Q-D)*(Q-D)+(X-E)*(X-E),Z=D+(Q-D)*N,K=E+(X-E)*N,$=D-(Q-D)*H,tt=E-(X-E)*H,et=W?N:H;J<=Math.min(F*F+q*q,G*G+z*z)+et*et*P?l.join===t.BEVEL||J/P>w?(W?(v.push(Z,K),v.push(D+C*H,E+R*H),v.push(Z,K),v.push(D+B*H,E+L*H)):(v.push(D-C*N,E-R*N),v.push($,tt),v.push(D-B*N,E-L*N),v.push($,tt)),m+=2):l.join===t.ROUND?W?(v.push(Z,K),v.push(D+C*H,E+R*H),m+=b(D,E,D+C*H,E+R*H,D+B*H,E+L*H,v,!0)+4,v.push(Z,K),v.push(D+B*H,E+L*H)):(v.push(D-C*N,E-R*N),v.push($,tt),m+=b(D,E,D-C*N,E-R*N,D-B*N,E-L*N,v,!1)+4,v.push(D-B*N,E-L*N),v.push($,tt)):(v.push(Z,K),v.push($,tt)):(v.push(D-C*N,E-R*N),v.push(D+C*H,E+R*H),l.join===t.BEVEL||J/P>w||(l.join===t.ROUND?m+=W?b(D,E,D+C*H,E+R*H,D+B*H,E+L*H,v,!0)+2:b(D,E,D-C*N,E-R*N,D-B*N,E-L*N,v,!1)+2:(W?(v.push($,tt),v.push($,tt)):(v.push(Z,K),v.push(Z,K)),m+=2)),v.push(D-B*N,E-L*N),v.push(D+B*H,E+L*H),m+=2)}}M=a[2*(x-2)],T=a[2*(x-2)+1],D=a[2*(x-1)],C=-(T-(E=a[2*(x-1)+1])),R=M-D,C/=O=Math.sqrt(C*C+R*R),R/=O,C*=S,R*=S,v.push(D-C*N,E-R*N),v.push(D+C*H,E+R*H),c||(l.cap===e.ROUND?m+=b(D-C*(N-H)*.5,E-R*(N-H)*.5,D-C*N,E-R*N,D+C*H,E+R*H,v,!1)+2:l.cap===e.SQUARE&&(m+=g(D,E,C,R,N,H,!1,v)));var it=s.indices,rt=h.epsilon*h.epsilon;for(j=_;j<m+_-2;++j)M=v[2*j],T=v[2*j+1],D=v[2*(j+1)],E=v[2*(j+1)+1],A=v[2*(j+2)],I=v[2*(j+2)+1],Math.abs(M*(E-I)+D*(I-T)+A*(T-E))<rt||it.push(j,j+1,j+2)}}function m(t,e){var i=0,s=t.shape,n=t.points||s.points,a=s.type!==r.SHAPES.POLY||s.closeStroke;if(0!==n.length){var h=e.points,o=e.indices,l=n.length/2,u=h.length/2,p=u;for(h.push(n[0],n[1]),i=1;i<l;i++)h.push(n[2*i],n[2*i+1]),o.push(p,p+1),p++;a&&o.push(p,u)}}function _(t,e){t.lineStyle.native?m(t,e):x(t,e)}var S,P=function(t){function e(e,i,s,n,a,h){void 0===h&&(h=0);a=a||n/2;for(var o=-1*Math.PI/2+h,l=2*s,u=r.PI_2/l,p=[],c=0;c<l;c++){var d=c%2?a:n,f=c*u+o;p.push(e+d*Math.cos(f),i+d*Math.sin(f))}return t.call(this,p)||this}return u(e,t),e}(r.Polygon),w=function(){function t(){}return t.curveTo=function(t,e,i,r,s,n){var a=n[n.length-2],h=n[n.length-1]-e,o=a-t,l=r-e,u=i-t,p=Math.abs(h*u-o*l);if(p<1e-8||0===s)return n[n.length-2]===t&&n[n.length-1]===e||n.push(t,e),null;var c=h*h+o*o,d=l*l+u*u,f=h*l+o*u,y=s*Math.sqrt(c)/p,v=s*Math.sqrt(d)/p,g=y*f/c,b=v*f/d,x=y*u+v*o,m=y*l+v*h,_=o*(v+g),S=h*(v+g),P=u*(y+b),w=l*(y+b);return{cx:x+t,cy:m+e,radius:s,startAngle:Math.atan2(S-m,_-x),endAngle:Math.atan2(w-m,P-x),anticlockwise:o*l>u*h}},t.arc=function(t,e,i,s,n,a,o,l,u){for(var p=o-a,c=h._segmentsCount(Math.abs(p)*n,40*Math.ceil(Math.abs(p)/r.PI_2)),d=p/(2*c),f=2*d,y=Math.cos(d),v=Math.sin(d),g=c-1,b=g%1/g,x=0;x<=g;++x){var m=d+a+f*(x+b*x),_=Math.cos(m),S=-Math.sin(m);u.push((y*_+v*S)*n+i,(y*-S+v*_)*n+s)}},t}(),M=function(){function t(){}return t.curveLength=function(t,e,i,r,s,n,a,h){for(var o=0,l=0,u=0,p=0,c=0,d=0,f=0,y=0,v=0,g=0,b=0,x=t,m=e,_=1;_<=10;++_)g=x-(y=(f=(d=(c=1-(l=_/10))*c)*c)*t+3*d*l*i+3*c*(u=l*l)*s+(p=u*l)*a),b=m-(v=f*e+3*d*l*r+3*c*u*n+p*h),x=y,m=v,o+=Math.sqrt(g*g+b*b);return o},t.curveTo=function(e,i,r,s,n,a,o){var l=o[o.length-2],u=o[o.length-1];o.length-=2;var p=h._segmentsCount(t.curveLength(l,u,e,i,r,s,n,a)),c=0,d=0,f=0,y=0,v=0;o.push(l,u);for(var g=1,b=0;g<=p;++g)f=(d=(c=1-(b=g/p))*c)*c,v=(y=b*b)*b,o.push(f*l+3*d*b*e+3*c*y*r+v*n,f*u+3*d*b*i+3*c*y*s+v*a)},t}(),T=function(){function t(){}return t.curveLength=function(t,e,i,r,s,n){var a=t-2*i+s,h=e-2*r+n,o=2*i-2*t,l=2*r-2*e,u=4*(a*a+h*h),p=4*(a*o+h*l),c=o*o+l*l,d=2*Math.sqrt(u+p+c),f=Math.sqrt(u),y=2*u*f,v=2*Math.sqrt(c),g=p/f;return(y*d+f*p*(d-v)+(4*c*u-p*p)*Math.log((2*f+g+d)/(g+v)))/(4*y)},t.curveTo=function(e,i,r,s,n){for(var a=n[n.length-2],o=n[n.length-1],l=h._segmentsCount(t.curveLength(a,o,e,i,r,s)),u=0,p=0,c=1;c<=l;++c){var d=c/l;u=a+(e-a)*d,p=o+(i-o)*d,n.push(u+(e+(r-e)*d-u)*d,p+(i+(s-i)*d-p)*d)}},t}(),D=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),E=((S={})[r.SHAPES.POLY]=p,S[r.SHAPES.CIRC]=c,S[r.SHAPES.ELIP]=c,S[r.SHAPES.RECT]=d,S[r.SHAPES.RREC]=v,S),A=[],I=[],C={buildPoly:p,buildCircle:c,buildRectangle:d,buildRoundedRectangle:v,FILL_COMMANDS:E,BATCH_POOL:A,DRAW_CALL_POOL:I,buildLine:_,Star:P,ArcUtils:w,BezierUtils:M,QuadraticUtils:T,BatchPart:D};exports.graphicsUtils=C;var R=function(){function t(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}();exports.GraphicsData=R;var B=new r.Point,L=new a.Bounds,O=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new a.Bounds,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return u(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),I.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),A.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null);var s=new R(t,e,i,r);return this.graphicsData.push(s),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var i=new R(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(t,B):B.copyFrom(t),r.shape.contains(B.x,B.y)))){var s=!1;if(r.holes)for(var n=0;n<r.holes.length;n++){if(r.holes[n].shape.contains(B.x,B.y)){s=!0;break}}if(!s)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,i=this.graphicsData,r=null,s=null;this.batches.length>0&&(s=(r=this.batches[this.batches.length-1]).style);for(var a=this.shapeIndex;a<i.length;a++){this.shapeIndex++;var h=i[a],o=h.fillStyle,l=h.lineStyle;E[h.type].build(h),h.matrix&&this.transformPoints(h.points,h.matrix);for(var u=0;u<2;u++){var p=0===u?o:l;if(p.visible){var c=p.texture.baseTexture,d=this.indices.length,f=this.points.length/2;c.wrapMode=n.WRAP_MODES.REPEAT,0===u?this.processFill(h):this.processLine(h);var y=this.points.length/2-f;0!==y&&(r&&!this._compareStyles(s,p)&&(r.end(d,f),r=null),r||((r=A.pop()||new D).begin(p,d,f),this.batches.push(r),s=p),this.addUvs(this.points,e,p.texture,f,y,p.matrix))}}}var v=this.indices.length,g=this.points.length/2;if(r&&r.end(v,g),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var b=g>65535&&t;this.indicesUint16=b?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var i=this.graphicsData[t],r=i.fillStyle,s=i.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(s&&!s.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,i=t.length;e<i;e++)for(var r=t[e],s=0;s<r.size;s++){var n=r.start+s;this.indicesUint16[n]=this.indicesUint16[n]-r.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++i.BaseTexture._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),I.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,s=this.textureIds,a=I.pop();a||((a=new i.BatchDrawCall).texArray=new i.BatchTextureArray),a.texArray.count=0,a.start=0,a.size=0,a.type=n.DRAW_MODES.TRIANGLES;var h=0,o=null,l=0,u=!1,p=n.DRAW_MODES.TRIANGLES,c=0;this.drawCalls.push(a);for(e=0;e<this.batches.length;e++){var d=this.batches[e],f=d.style,y=f.texture.baseTexture;u!==!!f.native&&(p=(u=!!f.native)?n.DRAW_MODES.LINES:n.DRAW_MODES.TRIANGLES,o=null,h=8,t++),o!==y&&(o=y,y._batchEnabled!==t&&(8===h&&(t++,h=0,a.size>0&&((a=I.pop())||((a=new i.BatchDrawCall).texArray=new i.BatchTextureArray),this.drawCalls.push(a)),a.start=c,a.size=0,a.texArray.count=0,a.type=p),y.touched=1,y._batchEnabled=t,y._batchLocation=h,y.wrapMode=10497,a.texArray.elements[a.texArray.count++]=y,h++)),a.size+=d.size,c+=d.size,l=y._batchLocation,this.addColors(r,f.color,f.alpha,d.attribSize),this.addTextureIds(s,l,d.attribSize)}i.BaseTexture._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,i=this.colors,r=this.textureIds,s=new ArrayBuffer(3*t.length*4),n=new Float32Array(s),a=new Uint32Array(s),h=0,o=0;o<t.length/2;o++)n[h++]=t[2*o],n[h++]=t[2*o+1],n[h++]=e[2*o],n[h++]=e[2*o+1],a[h++]=i[o],n[h++]=r[o];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),p.triangulate(t,this)):E[t.type].triangulate(t,this)},e.prototype.processLine=function(t){_(t,this);for(var e=0;e<t.holes.length;e++)_(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];E[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=L,i=r.Matrix.IDENTITY;this._bounds.clear(),e.clear();for(var s=0;s<this.graphicsData.length;s++){var n=this.graphicsData[s],a=n.shape,h=n.type,o=n.lineStyle,l=n.matrix||r.Matrix.IDENTITY,u=0;if(o&&o.visible){var p=o.alignment;u=o.width,h===r.SHAPES.POLY?u*=.5+Math.abs(.5-p):u*=Math.max(0,p)}if(i!==l&&(e.isEmpty()||(t.addBoundsMatrix(e,i),e.clear()),i=l),h===r.SHAPES.RECT||h===r.SHAPES.RREC){var c=a;e.addFramePad(c.x,c.y,c.x+c.width,c.y+c.height,u,u)}else if(h===r.SHAPES.CIRC){var d=a;e.addFramePad(d.x,d.y,d.x,d.y,d.radius+u,d.radius+u)}else if(h===r.SHAPES.ELIP){var f=a;e.addFramePad(f.x,f.y,f.x,f.y,f.width+u,f.height+u)}else{var y=a;t.addVerticesMatrix(i,y.points,0,y.points.length,u,u)}}e.isEmpty()||t.addBoundsMatrix(e,i),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],s=t[2*i+1];t[2*i]=e.a*r+e.c*s+e.tx,t[2*i+1]=e.b*r+e.d*s+e.ty}},e.prototype.addColors=function(t,e,i,r){for(var n=(e>>16)+(65280&e)+((255&e)<<16),a=(0,s.premultiplyTint)(n,i);r-- >0;)t.push(a)},e.prototype.addTextureIds=function(t,e,i){for(;i-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,i,r,s,n){void 0===n&&(n=null);for(var a=0,h=e.length,o=i.frame;a<s;){var l=t[2*(r+a)],u=t[2*(r+a)+1];if(n){var p=n.a*l+n.c*u+n.tx;u=n.b*l+n.d*u+n.ty,l=p}a++,e.push(l/o.width,u/o.height)}var c=i.baseTexture;(o.width<c.width||o.height<c.height)&&this.adjustUvs(e,i,h,s)},e.prototype.adjustUvs=function(t,e,i,r){for(var s=e.baseTexture,n=i+2*r,a=e.frame,h=a.width/s.width,o=a.height/s.height,l=a.x/a.width,u=a.y/a.height,p=Math.floor(t[i]+1e-6),c=Math.floor(t[i+1]+1e-6),d=i+2;d<n;d+=2)p=Math.min(p,Math.floor(t[d]+1e-6)),c=Math.min(c,Math.floor(t[d+1]+1e-6));l-=p,u-=c;for(d=i;d<n;d+=2)t[d]=(t[d]+l)*h,t[d+1]=(t[d+1]+u)*o},e.BATCHABLE_SIZE=100,e}(i.BatchGeometry);exports.GraphicsGeometry=O;var U=function(i){function r(){var r=null!==i&&i.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=e.BUTT,r.join=t.MITER,r.miterLimit=10,r}return u(r,i),r.prototype.clone=function(){var t=new r;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},r.prototype.reset=function(){i.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},r}(o);exports.LineStyle=U;var N=new Float32Array(3),H={},j=function(a){function h(t){void 0===t&&(t=null);var e=a.call(this)||this;return e._geometry=t||new O,e._geometry.refCount++,e.shader=null,e.state=i.State.for2d(),e._fillStyle=new o,e._lineStyle=new U,e._matrix=null,e._holeMode=!1,e.currentPath=null,e.batches=[],e.batchTint=-1,e.batchDirty=-1,e.vertexData=null,e.pluginName="batch",e._transformID=-1,e.tint=16777215,e.blendMode=n.BLEND_MODES.NORMAL,e}return u(h,a),Object.defineProperty(h.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),h.prototype.clone=function(){return this.finishPoly(),new h(this._geometry)},Object.defineProperty(h.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),h.prototype.lineStyle=function(t){if(void 0===t&&(t=null),"number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},h.prototype.lineTextureStyle=function(r){if("number"==typeof r){(0,s.deprecation)("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var n=arguments,a=n[0],h=n[1],o=n[2],l=n[3],u=n[4],p=n[5],c=n[6];r={width:a,texture:h,color:o,alpha:l,matrix:u,alignment:p,native:c},Object.keys(r).forEach(function(t){return void 0===r[t]&&delete r[t]})}r=Object.assign({width:0,texture:i.Texture.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:e.BUTT,join:t.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var d=r.width>0&&r.alpha>0;return d?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:d},r)):this._lineStyle.reset(),this},h.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new r.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new r.Polygon,this.currentPath.closeStroke=!1},h.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},h.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},h.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],s=i[i.length-1];return r===t&&s===e||i.push(t,e),this},h.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},h.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var s=this.currentPath.points;return 0===s.length&&this.moveTo(0,0),T.curveTo(t,e,i,r,s),this},h.prototype.bezierCurveTo=function(t,e,i,r,s,n){return this._initCurve(),M.curveTo(t,e,i,r,s,n,this.currentPath.points),this},h.prototype.arcTo=function(t,e,i,r,s){this._initCurve(t,e);var n=this.currentPath.points,a=w.curveTo(t,e,i,r,s,n);if(a){var h=a.cx,o=a.cy,l=a.radius,u=a.startAngle,p=a.endAngle,c=a.anticlockwise;this.arc(h,o,l,u,p,c)}return this},h.prototype.arc=function(t,e,i,s,n,a){if(void 0===a&&(a=!1),s===n)return this;if(!a&&n<=s?n+=r.PI_2:a&&s<=n&&(s+=r.PI_2),0===n-s)return this;var h=t+Math.cos(s)*i,o=e+Math.sin(s)*i,l=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var p=Math.abs(u[u.length-2]-h),c=Math.abs(u[u.length-1]-o);p<l&&c<l||u.push(h,o)}else this.moveTo(h,o),u=this.currentPath.points;return w.arc(h,o,t,e,i,s,n,a,u),this},h.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:i.Texture.WHITE,color:t,alpha:e})},h.prototype.beginTextureFill=function(t){if(t instanceof i.Texture){(0,s.deprecation)("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,r=e[0],n=e[1],a=e[2],h=e[3];t={texture:r,color:n,alpha:a,matrix:h},Object.keys(t).forEach(function(e){return void 0===t[e]&&delete t[e]})}t=Object.assign({texture:i.Texture.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var o=t.alpha>0;return o?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:o},t)):this._fillStyle.reset(),this},h.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},h.prototype.drawRect=function(t,e,i,s){return this.drawShape(new r.Rectangle(t,e,i,s))},h.prototype.drawRoundedRect=function(t,e,i,s,n){return this.drawShape(new r.RoundedRectangle(t,e,i,s,n))},h.prototype.drawCircle=function(t,e,i){return this.drawShape(new r.Circle(t,e,i))},h.prototype.drawEllipse=function(t,e,i,s){return this.drawShape(new r.Ellipse(t,e,i,s))},h.prototype.drawPolygon=function(){for(var t,e=arguments,i=[],s=0;s<arguments.length;s++)i[s]=e[s];var n=!0,a=i[0];a.points?(n=a.closeStroke,t=a.points):t=Array.isArray(i[0])?i[0]:i;var h=new r.Polygon(t);return h.closeStroke=n,this.drawShape(h),this},h.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},h.prototype.drawStar=function(t,e,i,r,s,n){return void 0===n&&(n=0),this.drawPolygon(new P(t,e,i,r,s,n))},h.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},h.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===r.SHAPES.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},h.prototype._render=function(t){this.finishPoly();var e=this._geometry,i=t.context.supports.uint32Indices;e.updateBatches(i),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},h.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(var r=0;r<i;r++){var n=t.batches[r],a=n.style.color,h=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),o=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),l={vertexData:h,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:o,_batchRGB:(0,s.hex2rgb)(a),_tintRGB:a,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=l}},h.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,i=this.batches.length;e<i;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},h.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),i=this._geometry,r=this.tint,s=this.worldAlpha,n=e.uniforms,a=i.drawCalls;n.translationMatrix=this.transform.worldTransform,n.tint[0]=(r>>16&255)/255*s,n.tint[1]=(r>>8&255)/255*s,n.tint[2]=(255&r)/255*s,n.tint[3]=s,t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(var h=0,o=a.length;h<o;h++)this._renderDrawCallDirect(t,i.drawCalls[h])},h.prototype._renderDrawCallDirect=function(t,e){for(var i=e.texArray,r=e.type,s=e.size,n=e.start,a=i.count,h=0;h<a;h++)t.texture.bind(i.elements[h],h);t.geometry.draw(r,s,n)},h.prototype._resolveDirectShader=function(t){var e=this.shader,s=this.pluginName;if(!e){if(!H[s]){for(var n=t.plugins.batch.MAX_TEXTURES,a=new Int32Array(n),h=0;h<n;h++)a[h]=h;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new r.Matrix,default:i.UniformGroup.from({uSamplers:a},!0)},l=t.plugins[s]._shader.program;H[s]=new i.Shader(l,o)}e=H[s]}return e},h.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,i=e.minX,r=e.minY,s=e.maxX,n=e.maxY;this._bounds.addFrame(this.transform,i,r,s,n)}},h.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,h._TEMP_POINT),this._geometry.containsPoint(h._TEMP_POINT)},h.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=(0,s.hex2rgb)(this.tint,N),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,n=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},h.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,i=e.a,r=e.b,s=e.c,n=e.d,a=e.tx,h=e.ty,o=this._geometry.points,l=this.vertexData,u=0,p=0;p<o.length;p+=2){var c=o[p],d=o[p+1];l[u++]=i*c+s*d+a,l[u++]=n*d+r*c+h}}},h.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},h.prototype.setMatrix=function(t){return this._matrix=t,this},h.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},h.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},h.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,a.prototype.destroy.call(this,t)},h._TEMP_POINT=new r.Point,h}(a.Container);exports.Graphics=j;
},{"@pixi/core":"CJJk","@pixi/math":"bSXT","@pixi/utils":"xS69","@pixi/constants":"u0xz","@pixi/display":"sIot"}],"TYml":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sprite=void 0;var t=require("@pixi/constants"),e=require("@pixi/core"),i=require("@pixi/display"),r=require("@pixi/math"),s=require("@pixi/settings"),n=require("@pixi/utils"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function h(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var u=new r.Point,a=new Uint16Array([0,1,2,0,2,3]),_=function(i){function o(n){var o=i.call(this)||this;return o._anchor=new r.ObservablePoint(o._onAnchorUpdate,o,n?n.defaultAnchor.x:0,n?n.defaultAnchor.y:0),o._texture=null,o._width=0,o._height=0,o._tint=null,o._tintRGB=null,o.tint=16777215,o.blendMode=t.BLEND_MODES.NORMAL,o._cachedTint=16777215,o.uvs=null,o.texture=n||e.Texture.EMPTY,o.vertexData=new Float32Array(8),o.vertexTrimmedData=null,o._transformID=-1,o._textureID=-1,o._transformTrimmedID=-1,o._textureTrimmedID=-1,o.indices=a,o.pluginName="batch",o.isSprite=!0,o._roundPixels=s.settings.ROUND_PIXELS,o}return h(o,i),o.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=(0,n.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,n.sign)(this.scale.y)*this._height/this._texture.orig.height)},o.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},o.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,o=e.d,h=e.tx,u=e.ty,a=this.vertexData,_=t.trim,c=t.orig,d=this._anchor,l=0,x=0,p=0,f=0;if(_?(l=(x=_.x-d._x*c.width)+_.width,p=(f=_.y-d._y*c.height)+_.height):(l=(x=-d._x*c.width)+c.width,p=(f=-d._y*c.height)+c.height),a[0]=i*x+n*f+h,a[1]=o*f+r*x+u,a[2]=i*l+n*f+h,a[3]=o*f+r*l+u,a[4]=i*l+n*p+h,a[5]=o*p+r*l+u,a[6]=i*x+n*p+h,a[7]=o*p+r*x+u,this._roundPixels)for(var m=s.settings.RESOLUTION,g=0;g<a.length;++g)a[g]=Math.round((a[g]*m|0)/m)}},o.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,s=this.transform.worldTransform,n=s.a,o=s.b,h=s.c,u=s.d,a=s.tx,_=s.ty,c=-r._x*i.width,d=c+i.width,l=-r._y*i.height,x=l+i.height;e[0]=n*c+h*l+a,e[1]=u*l+o*c+_,e[2]=n*d+h*l+a,e[3]=u*l+o*d+_,e[4]=n*d+h*x+a,e[5]=u*x+o*d+_,e[6]=n*c+h*x+a,e[7]=u*x+o*c+_},o.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},o.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},o.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new r.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):i.prototype.getLocalBounds.call(this,t)},o.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,u);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,s=0;return u.x>=r&&u.x<r+e&&(s=-i*this.anchor.y,u.y>=s&&u.y<s+i)},o.prototype.destroy=function(t){if(i.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var e="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!e)}this._texture=null},o.from=function(t,i){return new o(t instanceof e.Texture?t:e.Texture.from(t,i))},Object.defineProperty(o.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,n.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,n.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||e.Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),o}(i.Container);exports.Sprite=_;
},{"@pixi/constants":"u0xz","@pixi/core":"CJJk","@pixi/display":"sIot","@pixi/math":"bSXT","@pixi/settings":"HWBD","@pixi/utils":"xS69"}],"hHxK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextStyle=exports.TextMetrics=exports.Text=exports.TEXT_GRADIENT=void 0;var t,e=require("@pixi/sprite"),i=require("@pixi/core"),r=require("@pixi/settings"),n=require("@pixi/math"),o=require("@pixi/utils"),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function a(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}exports.TEXT_GRADIENT=t,function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(t||(exports.TEXT_GRADIENT=t={}));var h={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:t.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},l=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],c=function(){function t(t){this.styleID=0,this.reset(),d(this,t,t)}return t.prototype.clone=function(){var e={};return d(e,this,h),new t(e)},t.prototype.reset=function(){d(this,h,h)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=f(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=f(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){p(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=f(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&l.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function u(t){return"number"==typeof t?(0,o.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function f(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=u(t[e]);return t}return u(t)}function p(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}function d(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}exports.TextStyle=c;var g=function(){function t(t,e,i,r,n,o,s,a,h){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h}return t.measureText=function(e,i,r,n){void 0===n&&(n=t._canvas),r=null==r?i.wordWrap:r;var o=i.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=i.fontSize,s.ascent=i.fontSize);var a=n.getContext("2d");a.font=o;for(var h=(r?t.wordWrap(e,i,n):e).split(/(?:\r\n|\r|\n)/),l=new Array(h.length),c=0,u=0;u<h.length;u++){var f=a.measureText(h[u]).width+(h[u].length-1)*i.letterSpacing;l[u]=f,c=Math.max(c,f)}var p=c+i.strokeThickness;i.dropShadow&&(p+=i.dropShadowDistance);var d=i.lineHeight||s.fontSize+i.strokeThickness,g=Math.max(d,s.fontSize+i.strokeThickness)+(h.length-1)*(d+i.leading);return i.dropShadow&&(g+=i.dropShadowDistance),new t(e,i,p,g,h,l,d+i.leading,c,s)},t.wordWrap=function(e,i,r){void 0===r&&(r=t._canvas);for(var n=r.getContext("2d"),o=0,s="",a="",h=Object.create(null),l=i.letterSpacing,c=i.whiteSpace,u=t.collapseSpaces(c),f=t.collapseNewlines(c),p=!u,d=i.wordWrapWidth+l,g=t.tokenize(e),y=0;y<g.length;y++){var _=g[y];if(t.isNewline(_)){if(!f){a+=t.addLine(s),p=!u,s="",o=0;continue}_=" "}if(u){var b=t.isBreakingSpace(_),S=t.isBreakingSpace(s[s.length-1]);if(b&&S)continue}var m=t.getFromCache(_,l,h,n);if(m>d)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(_,i.breakWords))for(var w=t.wordWrapSplit(_),x=0;x<w.length;x++){for(var v=w[x],T=1;w[x+T];){var k=w[x+T],I=v[v.length-1];if(t.canBreakChars(I,k,_,x,i.breakWords))break;v+=k,T++}x+=v.length-1;var O=t.getFromCache(v,l,h,n);O+o>d&&(a+=t.addLine(s),p=!1,s="",o=0),s+=v,o+=O}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var A=y===g.length-1;a+=t.addLine(_,!A),p=!1,s="",o=0}else m+o>d&&(p=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(_)||p)&&(s+=_,o+=m)}return a+=t.addLine(s,!1)},t.addLine=function(e,i){return void 0===i&&(i=!0),e=t.trimRight(e),e=i?e+"\n":e},t.getFromCache=function(t,e,i,r){var n=i[t];if("number"!=typeof n){var o=t.length*e;n=r.measureText(t).width+o,i[t]=n}return n},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var i=e.length-1;i>=0;i--){var r=e[i];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var i=[],r="";if("string"!=typeof e)return i;for(var n=0;n<e.length;n++){var o=e[n];t.isBreakingSpace(o)||t.isNewline(o)?(""!==r&&(i.push(r),r=""),i.push(o)):r+=o}return""!==r&&i.push(r),i},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,i,r,n){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var i={ascent:0,descent:0,fontSize:0},r=t._canvas,n=t._context;n.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(n.measureText(o).width),a=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width),h=2*a;a=a*t.BASELINE_MULTIPLIER|0,r.width=s,r.height=h,n.fillStyle="#f00",n.fillRect(0,0,s,h),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(o,0,a);var l=n.getImageData(0,0,s,h).data,c=l.length,u=4*s,f=0,p=0,d=!1;for(f=0;f<a;++f){for(var g=0;g<u;g+=4)if(255!==l[p+g]){d=!0;break}if(d)break;p+=u}for(i.ascent=a-f,p=c-u,d=!1,f=h;f>a;--f){for(g=0;g<u;g+=4)if(255!==l[p+g]){d=!0;break}if(d)break;p-=u}return i.descent=f-a,i.fontSize=i.ascent+i.descent,t._fonts[e]=i,i},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}();exports.TextMetrics=g;var y=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(i){return document.createElement("canvas")}}();y.width=y.height=10,g._canvas=y,g._context=y.getContext("2d"),g._fonts={},g.METRICS_STRING="|ÉqÅ",g.BASELINE_SYMBOL="M",g.BASELINE_MULTIPLIER=1.4,g._newlines=[10,13],g._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var _={texture:!0,children:!1,baseTexture:!0},b=function(e){function s(t,o,s){var a=this,h=!1;s||(s=document.createElement("canvas"),h=!0),s.width=3,s.height=3;var l=i.Texture.from(s);return l.orig=new n.Rectangle,l.trim=new n.Rectangle,(a=e.call(this,l)||this)._ownCanvas=h,a.canvas=s,a.context=a.canvas.getContext("2d"),a._resolution=r.settings.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=t,a.style=o,a.localStyleID=-1,a}return a(s,e),s.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,r,n=this.context,s=g.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,h=s.height,l=s.lines,c=s.lineHeight,u=s.lineWidths,f=s.maxLineWidth,p=s.fontProperties;this.canvas.width=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,h)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var d=e.dropShadow?2:1,y=0;y<d;++y){var _=e.dropShadow&&0===y,b=_?Math.ceil(Math.max(1,h)+2*e.padding):0,S=b*this._resolution;if(_){n.fillStyle="black",n.strokeStyle="black";var m=e.dropShadowColor,w=(0,o.hex2rgb)("number"==typeof m?m:(0,o.string2hex)(m));n.shadowColor="rgba("+255*w[0]+","+255*w[1]+","+255*w[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+S}else n.fillStyle=this._generateFillStyle(e,l,s),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var x=0;x<l.length;x++)i=e.strokeThickness/2,r=e.strokeThickness/2+x*c+p.ascent,"right"===e.align?i+=f-u[x]:"center"===e.align&&(i+=(f-u[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(l[x],i+e.padding,r+e.padding-b,!0),e.fill&&this.drawLetterSpacing(l[x],i+e.padding,r+e.padding-b)}this.updateTexture()}},s.prototype.drawLetterSpacing=function(t,e,i,r){void 0===r&&(r=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,h=0,l=0;l<s.length;++l){var c=s[l];r?this.context.strokeText(c,o,i):this.context.fillText(c,o,i),o+=a-(h=this.context.measureText(t.substring(l+1)).width)+n,a=h}else r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},s.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,o.trimCanvas)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,r=this._style,n=r.trim?0:r.padding,s=i.baseTexture;i.trim.width=i._frame.width=Math.ceil(t.width/this._resolution),i.trim.height=i._frame.height=Math.ceil(t.height/this._resolution),i.trim.x=-n,i.trim.y=-n,i.orig.width=i._frame.width-2*n,i.orig.height=i._frame.height-2*n,this._onTextureUpdate(),s.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},s.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,t)},s.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},s.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},s.prototype._generateFillStyle=function(e,i,r){var n,o=e.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var s=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,h=Math.ceil(this.canvas.width/this._resolution)-s-2*a,l=Math.ceil(this.canvas.height/this._resolution)-s-2*a,c=o.slice(),u=e.fillGradientStops.slice();if(!u.length)for(var f=c.length+1,p=1;p<f;++p)u.push(p/f);if(c.unshift(o[0]),u.unshift(0),c.push(o[o.length-1]),u.push(1),e.fillGradientType===t.LINEAR_VERTICAL){n=this.context.createLinearGradient(h/2,a,h/2,l+a);var d=0,g=(r.fontProperties.fontSize+e.strokeThickness)/l;for(p=0;p<i.length;p++)for(var y=r.lineHeight*p,_=0;_<c.length;_++){var b=y/l+("number"==typeof u[_]?u[_]:_/c.length)*g,S=Math.max(d,b);S=Math.min(S,1),n.addColorStop(S,c[_]),d=S}}else{n=this.context.createLinearGradient(a,l/2,h+a,l/2);var m=c.length+1,w=1;for(p=0;p<c.length;p++){var x=void 0;x="number"==typeof u[p]?u[p]:w/m,n.addColorStop(x,c[p]),w++}}return n},s.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},_,t),e.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(s.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof c?t:new c(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),s}(e.Sprite);exports.Text=b;
},{"@pixi/sprite":"TYml","@pixi/core":"CJJk","@pixi/settings":"HWBD","@pixi/math":"bSXT","@pixi/utils":"xS69"}],"UgoT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimeLimiter=exports.Prepare=exports.CountLimiter=exports.BasePrepare=void 0;var e=require("@pixi/settings"),t=require("@pixi/core"),i=require("@pixi/graphics"),r=require("@pixi/ticker"),o=require("@pixi/display"),s=require("@pixi/text");e.settings.UPLOADS_PER_FRAME=4;var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function u(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var a=function(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function h(e,i){var r=!1;if(e&&e._textures&&e._textures.length)for(var o=0;o<e._textures.length;o++)if(e._textures[o]instanceof t.Texture){var s=e._textures[o].baseTexture;-1===i.indexOf(s)&&(i.push(s),r=!0)}return r}function p(e,i){if(e.baseTexture instanceof t.BaseTexture){var r=e.baseTexture;return-1===i.indexOf(r)&&i.push(r),!0}return!1}function c(e,i){if(e._texture&&e._texture instanceof t.Texture){var r=e._texture.baseTexture;return-1===i.indexOf(r)&&i.push(r),!0}return!1}function l(e,t){return t instanceof s.Text&&(t.updateText(!0),!0)}function f(e,t){if(t instanceof s.TextStyle){var i=t.toFontString();return s.TextMetrics.measureFont(i),!0}return!1}function d(e,t){if(e instanceof s.Text){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var i=e._texture.baseTexture;return-1===t.indexOf(i)&&t.push(i),!0}return!1}function x(e,t){return e instanceof s.TextStyle&&(-1===t.indexOf(e)&&t.push(e),!0)}exports.CountLimiter=a;var k=function(){function t(t){var i=this;this.limiter=new a(e.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){i.queue&&i.prepareItems()},this.registerFindHook(d),this.registerFindHook(x),this.registerFindHook(h),this.registerFindHook(p),this.registerFindHook(c),this.registerUploadHook(l),this.registerUploadHook(f)}return t.prototype.upload=function(e,t){"function"==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,r.Ticker.system.addOnce(this.tick,this,r.UPDATE_PRIORITY.UTILITY))):t&&t()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var i=0,o=this.uploadHooks.length;i<o;i++)if(this.uploadHooks[i](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)r.Ticker.system.addOnce(this.tick,this,r.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(i=0,o=s.length;i<o;i++)s[i]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var t=0,i=this.addHooks.length;t<i&&!this.addHooks[t](e,this.queue);t++);if(e instanceof o.Container)for(t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},t.prototype.destroy=function(){this.ticking&&r.Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function m(e,i){return i instanceof t.BaseTexture&&(i._glTextures[e.CONTEXT_UID]||e.texture.bind(i),!0)}function g(e,t){if(!(t instanceof i.Graphics))return!1;var r=t.geometry;t.finishPoly(),r.updateBatches();for(var o=r.batches,s=0;s<o.length;s++){var n=o[s].style.texture;n&&m(e,n.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function T(e,t){return e instanceof i.Graphics&&(t.push(e),!0)}exports.BasePrepare=k;var y=function(e){function t(t){var i=e.call(this,t)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(T),i.registerUploadHook(m),i.registerUploadHook(g),i}return u(t,e),t}(k);exports.Prepare=y;var H=function(){function e(e){this.maxMilliseconds=e,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();exports.TimeLimiter=H;
},{"@pixi/settings":"HWBD","@pixi/core":"CJJk","@pixi/graphics":"mLUG","@pixi/ticker":"4QEk","@pixi/display":"sIot","@pixi/text":"hHxK"}],"ubWC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SpritesheetLoader=exports.Spritesheet=void 0;var t=require("@pixi/math"),e=require("@pixi/core"),s=require("@pixi/utils"),r=require("@pixi/loaders"),i=function(){function r(t,s,r){void 0===r&&(r=null),this._texture=t instanceof e.Texture?t:null,this.baseTexture=t instanceof e.BaseTexture?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=(0,s.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},r.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=r.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},r.prototype._processFrames=function(s){for(var i=s,o=r.BATCH_SIZE;i-s<o&&i<this._frameKeys.length;){var a=this._frameKeys[i],n=this._frames[a],h=n.frame;if(h){var u=null,l=null,c=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame,f=new t.Rectangle(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);u=n.rotated?new t.Rectangle(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):new t.Rectangle(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),!1!==n.trimmed&&n.spriteSourceSize&&(l=new t.Rectangle(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[a]=new e.Texture(this.baseTexture,u,f,l,n.rotated?2:0,n.anchor),e.Texture.addToCache(this.textures[a],a)}i++}},r.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var s=0;s<t[e].length;s++){var r=t[e][s];this.animations[e].push(this.textures[r])}}},r.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},r.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*r.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*r.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},r.prototype.destroy=function(t){var e;for(var s in void 0===t&&(t=!1),this.textures)this.textures[s].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},r.BATCH_SIZE=1e3,r}();exports.Spritesheet=i;var o=function(){function t(){}return t.use=function(e,s){var o=e.name+"_image";if(e.data&&e.type===r.LoaderResource.TYPE.JSON&&e.data.frames&&!this.resources[o]){var a={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},n=t.getResourcePath(e,this.baseUrl);this.add(o,n,a,function(t){if(t.error)s(t.error);else{var r=new i(t.texture,e.data,e.url);r.parse(function(){e.spritesheet=r,e.textures=r.textures,s()})}})}else s()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:s.url.resolve(t.url.replace(e,""),t.data.meta.image)},t}();exports.SpritesheetLoader=o;
},{"@pixi/math":"bSXT","@pixi/core":"CJJk","@pixi/utils":"xS69","@pixi/loaders":"hkFg"}],"/mVe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TilingSpriteRenderer=exports.TilingSprite=void 0;var t=require("@pixi/core"),e=require("@pixi/math"),r=require("@pixi/sprite"),i=require("@pixi/utils"),o=require("@pixi/constants"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function a(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=new e.Point,u=function(r){function o(i,o,n){void 0===o&&(o=100),void 0===n&&(n=100);var a=r.call(this,i)||this;return a.tileTransform=new e.Transform,a._width=o,a._height=n,a.uvMatrix=a.texture.uvMatrix||new t.TextureMatrix(i),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return a(o,r),Object.defineProperty(o.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),o.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},o.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},o.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},o.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new e.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):r.prototype.getLocalBounds.call(this,t)},o.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,s);var e=this._width,r=this._height,i=-e*this.anchor._x;if(s.x>=i&&s.x<i+e){var o=-r*this.anchor._y;if(s.y>=o&&s.y<o+r)return!0}return!1},o.prototype.destroy=function(t){r.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},o.from=function(e,r){return"number"==typeof r&&((0,i.deprecation)("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new o(t.Texture.from(e,r),r.width,r.height)},Object.defineProperty(o.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),o}(r.Sprite);exports.TilingSprite=u;var h="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",c="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",l="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",p=new e.Matrix,d=function(e){function r(r){var i=e.call(this,r)||this,o={globals:i.renderer.globalUniforms};return i.shader=t.Shader.from(h,c,o),i.simpleShader=t.Shader.from(h,l,o),i.quad=new t.QuadUv,i.state=t.State.for2d(),i}return a(r,e),r.prototype.render=function(t){var e=this.renderer,r=this.quad,n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((n=r.uvs)[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),r.invalidate();var a=t._texture,s=a.baseTexture,u=t.tileTransform.localTransform,h=t.uvMatrix,c=s.isPowerOfTwo&&a.frame.width===s.width&&a.frame.height===s.height;c&&(s._glTextures[e.CONTEXT_UID]?c=s.wrapMode!==o.WRAP_MODES.CLAMP:s.wrapMode===o.WRAP_MODES.CLAMP&&(s.wrapMode=o.WRAP_MODES.REPEAT));var l=c?this.simpleShader:this.shader,d=a.width,m=a.height,f=t._width,_=t._height;p.set(u.a*d/f,u.b*d/_,u.c*m/f,u.d*m/_,u.tx/f,u.ty/_),p.invert(),c?p.prepend(h.mapCoord):(l.uniforms.uMapCoord=h.mapCoord.toArray(!0),l.uniforms.uClampFrame=h.uClampFrame,l.uniforms.uClampOffset=h.uClampOffset),l.uniforms.uTransform=p.toArray(!0),l.uniforms.uColor=(0,i.premultiplyTintToRgba)(t.tint,t.worldAlpha,l.uniforms.uColor,s.alphaMode),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.uSampler=a,e.shader.bind(l),e.geometry.bind(r),this.state.blendMode=(0,i.correctBlendMode)(t.blendMode,s.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},r}(t.ObjectRenderer);exports.TilingSpriteRenderer=d;
},{"@pixi/core":"CJJk","@pixi/math":"bSXT","@pixi/sprite":"TYml","@pixi/utils":"xS69","@pixi/constants":"u0xz"}],"XyDc":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MeshMaterial=exports.MeshGeometry=exports.MeshBatchUvs=exports.Mesh=void 0;var t=require("@pixi/core"),e=require("@pixi/math"),r=require("@pixi/constants"),i=require("@pixi/display"),n=require("@pixi/settings"),a=require("@pixi/utils"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function s(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var u=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}();exports.MeshBatchUvs=u;var h=new e.Point,l=new e.Polygon,d=function(e){function i(i,a,o,s){void 0===s&&(s=r.DRAW_MODES.TRIANGLES);var u=e.call(this)||this;return u.geometry=i,i.refCount++,u.shader=a,u.state=o||t.State.for2d(),u.drawMode=s,u.start=0,u.size=0,u.uvs=null,u.indices=null,u.vertexData=new Float32Array(1),u.vertexDirty=0,u._transformID=-1,u._roundPixels=n.settings.ROUND_PIXELS,u.batchUvs=null,u}return s(i,e),Object.defineProperty(i.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),i.prototype._render=function(t){var e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===r.DRAW_MODES.TRIANGLES&&e.length<2*i.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},i.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},i.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},i.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,a=r.b,o=r.c,s=r.d,u=r.tx,h=r.ty,l=this.vertexData,d=0;d<l.length/2;d++){var f=e[2*d],p=e[2*d+1];l[2*d]=i*f+o*p+u,l[2*d+1]=a*f+s*p+h}if(this._roundPixels){var c=n.settings.RESOLUTION;for(d=0;d<l.length;++d)l[d]=Math.round((l[d]*c|0)/c)}this.vertexDirty=t.vertexDirtyId}},i.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new u(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},i.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},i.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,h);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=l.points,i=this.geometry.getIndex().data,n=i.length,a=4===this.drawMode?3:1,o=0;o+2<n;o+=a){var s=2*i[o],u=2*i[o+1],d=2*i[o+2];if(r[0]=e[s],r[1]=e[s+1],r[2]=e[u],r[3]=e[u+1],r[4]=e[d],r[5]=e[d+1],l.contains(h.x,h.y))return!0}return!1},i.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},i.BATCHABLE_SIZE=100,i}(i.Container);exports.Mesh=d;var f="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",p="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",c=function(r){function i(i,n){var a=this,o={uSampler:i,alpha:1,uTextureMatrix:e.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n)).uniforms&&Object.assign(o,n.uniforms),(a=r.call(this,n.program||t.Program.from(p,f),o)||this)._colorDirty=!1,a.uvMatrix=new t.TextureMatrix(i),a.batchable=void 0===n.program,a.pluginName=n.pluginName,a.tint=n.tint,a.alpha=n.alpha,a}return s(i,r),Object.defineProperty(i.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),i.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;(0,a.premultiplyTintToRgba)(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},i}(t.Shader);exports.MeshMaterial=c;var x=function(e){function i(i,n,a){var o=e.call(this)||this,s=new t.Buffer(i),u=new t.Buffer(n,!0),h=new t.Buffer(a,!0,!0);return o.addAttribute("aVertexPosition",s,2,!1,r.TYPES.FLOAT).addAttribute("aTextureCoord",u,2,!1,r.TYPES.FLOAT).addIndex(h),o._updateId=-1,o}return s(i,e),Object.defineProperty(i.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),i}(t.Geometry);exports.MeshGeometry=x;
},{"@pixi/core":"CJJk","@pixi/math":"bSXT","@pixi/constants":"u0xz","@pixi/display":"sIot","@pixi/settings":"HWBD","@pixi/utils":"xS69"}],"Qh3P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BitmapText=exports.BitmapFontLoader=exports.BitmapFontData=exports.BitmapFont=void 0;var e=require("@pixi/math"),t=require("@pixi/settings"),r=require("@pixi/mesh"),i=require("@pixi/utils"),n=require("@pixi/core"),a=require("@pixi/text"),o=require("@pixi/display"),s=require("@pixi/loaders"),h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function l(e,t){function r(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var f=function(){return function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}}();exports.BitmapFontData=f;var u=function(){function e(){}return e.test=function(e){return"string"==typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var i in t){var n=t[i].match(/^[a-z]+/gm)[0],a=t[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var s in a){var h=a[s].split("="),l=h[0],u=h[1].replace(/"/gm,""),c=parseFloat(u),p=isNaN(c)?u:c;o[l]=p}r[n].push(o)}var g=new f;return r.info.forEach(function(e){return g.info.push({face:e.face,size:parseInt(e.size,10)})}),r.common.forEach(function(e){return g.common.push({lineHeight:parseInt(e.lineHeight,10)})}),r.page.forEach(function(e){return g.page.push({id:parseInt(e.id,10),file:e.file})}),r.char.forEach(function(e){return g.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})}),r.kerning.forEach(function(e){return g.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})}),g},e}(),c=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new f,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),n=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),s=0;s<r.length;s++)t.info.push({face:r[s].getAttribute("face"),size:parseInt(r[s].getAttribute("size"),10)});for(s=0;s<i.length;s++)t.common.push({lineHeight:parseInt(i[s].getAttribute("lineHeight"),10)});for(s=0;s<n.length;s++)t.page.push({id:parseInt(n[s].getAttribute("id"),10)||0,file:n[s].getAttribute("file")});for(s=0;s<a.length;s++){var h=a[s];t.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(s=0;s<o.length;s++)t.kerning.push({first:parseInt(o[s].getAttribute("first"),10),second:parseInt(o[s].getAttribute("second"),10),amount:parseInt(o[s].getAttribute("amount"),10)});return t},e}(),p=function(){function e(){}return e.test=function(e){if("string"==typeof e&&e.indexOf("<font>")>-1){var t=(new self.DOMParser).parseFromString(e,"text/xml");return c.test(t)}return!1},e.parse=function(e){var t=(new window.DOMParser).parseFromString(e,"text/xml");return c.parse(t)},e}(),g=[u,c,p];function d(e){for(var t=0;t<g.length;t++)if(g[t].test(e))return g[t];return null}function x(e,t,r,i,n,o){var s,h=r.fill;if(!Array.isArray(h))return h;if(1===h.length)return h[0];var l=r.dropShadow?r.dropShadowDistance:0,f=r.padding||0,u=Math.ceil(e.width/i)-l-2*f,c=Math.ceil(e.height/i)-l-2*f,p=h.slice(),g=r.fillGradientStops.slice();if(!g.length)for(var d=p.length+1,x=1;x<d;++x)g.push(x/d);if(p.unshift(h[0]),g.unshift(0),p.push(h[h.length-1]),g.push(1),r.fillGradientType===a.TEXT_GRADIENT.LINEAR_VERTICAL){s=t.createLinearGradient(u/2,f,u/2,c+f);var m=0,v=(o.fontProperties.fontSize+r.strokeThickness)/c;for(x=0;x<n.length;x++)for(var y=o.lineHeight*x,b=0;b<p.length;b++){var _=y/c+("number"==typeof g[b]?g[b]:b/p.length)*v,w=Math.max(m,_);w=Math.min(w,1),s.addColorStop(w,p[b]),m=w}}else{s=t.createLinearGradient(f,c/2,u+f,c/2);var T=p.length+1,S=1;for(x=0;x<p.length;x++){var A=void 0;A="number"==typeof g[x]?g[x]:S/T,s.addColorStop(A,p[x]),S++}}return s}function m(e,t,r,n,a,o,s){var h=r.text,l=r.fontProperties;t.translate(n,a),t.scale(o,o);var f=s.strokeThickness/2,u=-s.strokeThickness/2;t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=x(e,t,s,o,[h],r),t.strokeStyle=s.stroke,t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=x(e,t,s,o,[h],r),t.strokeStyle=s.stroke;var c=s.dropShadowColor,p=(0,i.hex2rgb)("number"==typeof c?c:(0,i.string2hex)(c));s.dropShadow?(t.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+s.dropShadowAlpha+")",t.shadowBlur=s.dropShadowBlur,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),s.stroke&&s.strokeThickness&&t.strokeText(h,f,u+r.lineHeight-l.descent),s.fill&&t.fillText(h,f,u+r.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function v(e){"string"==typeof e&&(e=[e]);for(var t=[],r=0,i=e.length;r<i;r++){var n=e[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var a=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,h=o;s<=h;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,n.split(""))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}var y=function(){function t(t,r,a){var o=t.info[0],s=t.common[0],h=t.page[0],l=(0,i.getResolutionOfUrl)(h.file),f={};this._ownsTextures=a,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/l,this.chars={},this.pageTextures=f;for(var u=0;u<t.page.length;u++){var c=t.page[u],p=c.id,g=c.file;f[p]=r instanceof Array?r[u]:r[g]}for(u=0;u<t.char.length;u++){var d=t.char[u],x=(p=d.id,d.page),m=t.char[u],v=m.x,y=m.y,b=m.width,_=m.height,w=m.xoffset,T=m.yoffset,S=m.xadvance;v/=l,y/=l,b/=l,_/=l,w/=l,T/=l,S/=l;var A=new e.Rectangle(v+f[x].frame.x/l,y+f[x].frame.y/l,b,_);this.chars[p]={xOffset:w,yOffset:T,xAdvance:S,kerning:{},texture:new n.Texture(f[x].baseTexture,A),page:x}}for(u=0;u<t.kerning.length;u++){var I=t.kerning[u],P=I.first,O=I.second,B=I.amount;P/=l,O/=l,B/=l,this.chars[O]&&(this.chars[O].kerning[P]=B)}}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,i){var a;if(e instanceof f)a=e;else{var o=d(e);if(!o)throw new Error("Unrecognized data format for font.");a=o.parse(e)}r instanceof n.Texture&&(r=[r]);var s=new t(a,r,i);return t.available[s.font]=s,s},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var o=Object.assign({},t.defaultOptions,i),s=o.chars,h=o.padding,l=o.resolution,u=o.textureWidth,c=o.textureHeight,p=v(s),g=r instanceof a.TextStyle?r:new a.TextStyle(r),d=u,x=new f;x.info[0]={face:g.fontFamily,size:g.fontSize},x.common[0]={lineHeight:g.fontSize};for(var y,b,_,w=0,T=0,S=0,A=[],I=0;I<p.length;I++){y||((y=document.createElement("canvas")).width=u,y.height=c,b=y.getContext("2d"),_=new n.BaseTexture(y,{resolution:l}),A.push(new n.Texture(_)),x.page.push({id:A.length-1,file:""}));var P=a.TextMetrics.measureText(p[I],g,!1,y),O=P.width,B=Math.ceil(P.height),E=Math.ceil(("italic"===g.fontStyle?2:1)*O);if(T>=c-B*l){if(0===T)throw new Error("[BitmapFont] textureHeight "+c+"px is too small for "+g.fontSize+"px fonts");--I,y=null,b=null,_=null,T=0,w=0,S=0}else if(S=Math.max(B+P.fontProperties.descent,S),E*l+w>=d)--I,T+=S*l,T=Math.ceil(T),w=0,S=0;else{m(y,b,P,w,T,l,g);var M=P.text.charCodeAt(0);x.char.push({id:M,page:A.length-1,x:w/l,y:T/l,width:E,height:B,xoffset:0,yoffset:0,xadvance:Math.ceil(O-(g.dropShadow?g.dropShadowDistance:0)-(g.stroke?g.strokeThickness:0))}),w+=(E+2*h)*l,w=Math.ceil(w)}}var k=new t(x,A,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=k,k},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}();exports.BitmapFont=y;var b=[],_=[],w=function(a){function o(r,n){void 0===n&&(n={});var s=a.call(this)||this;s._tint=16777215,n.font&&((0,i.deprecation)("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),s._upgradeStyle(n));var h=Object.assign({},o.styleDefaults,n),l=h.align,f=h.tint,u=h.maxWidth,c=h.letterSpacing,p=h.fontName,g=h.fontSize;if(!y.available[p])throw new Error('Missing BitmapFont "'+p+'"');return s._activePagesMeshData=[],s._textWidth=0,s._textHeight=0,s._align=l,s._tint=f,s._fontName=p,s._fontSize=g||y.available[p].size,s._text=r,s._maxWidth=u,s._maxLineHeight=0,s._letterSpacing=c,s._anchor=new e.ObservablePoint(function(){s.dirty=!0},s,0,0),s._roundPixels=t.settings.ROUND_PIXELS,s.dirty=!0,s._textureCache={},s}return l(o,a),o.prototype.updateText=function(){for(var t,a=y.available[this._fontName],o=this._fontSize/a.size,s=new e.Point,h=[],l=[],f=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",u=f.length,c=this._maxWidth*a.size/this._fontSize,p=null,g=0,d=0,x=0,m=-1,v=0,w=0,T=0,S=0;S<u;S++){var A=f.charCodeAt(S),I=f.charAt(S);if(/(?:\s)/.test(I)&&(m=S,v=g),"\r"!==I&&"\n"!==I){var P=a.chars[A];if(P){p&&P.kerning[p]&&(s.x+=P.kerning[p]);var O=_.pop()||{texture:n.Texture.EMPTY,line:0,charCode:0,position:new e.Point};O.texture=P.texture,O.line=x,O.charCode=A,O.position.x=s.x+P.xOffset+this._letterSpacing/2,O.position.y=s.y+P.yOffset,h.push(O),s.x+=P.xAdvance+this._letterSpacing,g=s.x,T=Math.max(T,P.yOffset+P.texture.height),p=A,-1!==m&&c>0&&s.x>c&&(++w,(0,i.removeItems)(h,1+m-w,1+S-m),S=m,m=-1,l.push(v),d=Math.max(d,v),x++,s.x=0,s.y+=a.lineHeight,p=null)}}else l.push(g),d=Math.max(d,g),++x,++w,s.x=0,s.y+=a.lineHeight,p=null}var B=f.charAt(f.length-1);"\r"!==B&&"\n"!==B&&(/(?:\s)/.test(B)&&(g=v),l.push(g),d=Math.max(d,g));var E=[];for(S=0;S<=x;S++){var M=0;"right"===this._align?M=d-l[S]:"center"===this._align&&(M=(d-l[S])/2),E.push(M)}var k=h.length,z={},C=[],F=this._activePagesMeshData;for(S=0;S<F.length;S++)b.push(F[S]);for(S=0;S<k;S++){var H=(q=h[S].texture).baseTexture.uid;if(!z[H]){if(!(K=b.pop())){var L=new r.MeshGeometry,N=new r.MeshMaterial(n.Texture.EMPTY);K={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new r.Mesh(L,N),vertices:null,uvs:null,indices:null}}K.index=0,K.indexCount=0,K.vertexCount=0,K.uvsCount=0,K.total=0;var j=this._textureCache;j[H]=j[H]||new n.Texture(q.baseTexture),K.mesh.texture=j[H],K.mesh.tint=this._tint,C.push(K),z[H]=K}z[H].total++}for(S=0;S<F.length;S++)-1===C.indexOf(F[S])&&this.removeChild(F[S].mesh);for(S=0;S<C.length;S++)C[S].mesh.parent!==this&&this.addChild(C[S].mesh);for(var S in this._activePagesMeshData=C,z){var D=(K=z[S]).total;if(!((null===(t=K.indices)||void 0===t?void 0:t.length)>6*D)||K.vertices.length<2*r.Mesh.BATCHABLE_SIZE)K.vertices=new Float32Array(8*D),K.uvs=new Float32Array(8*D),K.indices=new Uint16Array(6*D);else for(var W=K.total,U=K.vertices,R=4*W*2;R<U.length;R++)U[R]=0;K.mesh.size=6*D}for(S=0;S<k;S++){var X=(I=h[S]).position.x+E[I.line];this._roundPixels&&(X=Math.round(X));var q,G=X*o,Y=I.position.y*o,J=z[(q=I.texture).baseTexture.uid],Z=q.frame,$=q._uvs,V=J.index++;J.indices[6*V+0]=0+4*V,J.indices[6*V+1]=1+4*V,J.indices[6*V+2]=2+4*V,J.indices[6*V+3]=0+4*V,J.indices[6*V+4]=2+4*V,J.indices[6*V+5]=3+4*V,J.vertices[8*V+0]=G,J.vertices[8*V+1]=Y,J.vertices[8*V+2]=G+Z.width*o,J.vertices[8*V+3]=Y,J.vertices[8*V+4]=G+Z.width*o,J.vertices[8*V+5]=Y+Z.height*o,J.vertices[8*V+6]=G,J.vertices[8*V+7]=Y+Z.height*o,J.uvs[8*V+0]=$.x0,J.uvs[8*V+1]=$.y0,J.uvs[8*V+2]=$.x1,J.uvs[8*V+3]=$.y1,J.uvs[8*V+4]=$.x2,J.uvs[8*V+5]=$.y2,J.uvs[8*V+6]=$.x3,J.uvs[8*V+7]=$.y3}for(var S in this._textWidth=d*o,this._textHeight=(s.y+a.lineHeight)*o,z){var K=z[S];if(0!==this.anchor.x||0!==this.anchor.y)for(var Q=0,ee=this._textWidth*this.anchor.x,te=this._textHeight*this.anchor.y,re=0;re<K.total;re++)K.vertices[Q++]-=ee,K.vertices[Q++]-=te,K.vertices[Q++]-=ee,K.vertices[Q++]-=te,K.vertices[Q++]-=ee,K.vertices[Q++]-=te,K.vertices[Q++]-=ee,K.vertices[Q++]-=te;this._maxLineHeight=T*o;var ie=K.mesh.geometry.getBuffer("aVertexPosition"),ne=K.mesh.geometry.getBuffer("aTextureCoord"),ae=K.mesh.geometry.getIndex();ie.data=K.vertices,ne.data=K.uvs,ae.data=K.indices,ie.update(),ne.update(),ae.update()}for(S=0;S<h.length;S++)_.push(h[S])},o.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},o.prototype.getLocalBounds=function(){return this.validate(),a.prototype.getLocalBounds.call(this)},o.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!y.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),o.prototype._upgradeStyle=function(e){if("string"==typeof e.font){var t=e.font.split(" ");e.fontName=1===t.length?t[0]:t.slice(1).join(" "),t.length>=2&&(e.fontSize=parseInt(t[0],10))}else e.fontName=e.font.name,e.fontSize="number"==typeof e.font.size?e.font.size:parseInt(e.font.size,10)},o.prototype.destroy=function(e){var t=this._textureCache;for(var r in t){t[r].destroy(),delete t[r]}this._textureCache=null,a.prototype.destroy.call(this,e)},o.registerFont=function(e,t){return(0,i.deprecation)("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),y.install(e,t)},Object.defineProperty(o,"fonts",{get:function(){return(0,i.deprecation)("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),y.available},enumerable:!1,configurable:!0}),o.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},o}(o.Container);exports.BitmapText=w;var T=function(){function e(){}return e.add=function(){s.LoaderResource.setExtensionXhrType("fnt",s.LoaderResource.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var i=d(t.data);if(i)for(var n=e.getBaseUrl(this,t),a=i.parse(t.data),o={},h=function(e){o[e.metadata.pageFile]=e.texture,Object.keys(o).length===a.page.length&&(t.bitmapFont=y.install(a,o,!0),r())},l=0;l<a.page.length;++l){var f=a.page[l].file,u=n+f,c=!1;for(var p in this.resources){var g=this.resources[p];if(g.url===u){g.metadata.pageFile=f,g.texture?h(g):g.onAfterMiddleware.add(h),c=!0;break}}if(!c){var x={crossOrigin:t.crossOrigin,loadType:s.LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:f},t.metadata.imageMetadata),parentResource:t};this.add(u,x,h)}}else r()},e.getBaseUrl=function(t,r){var i=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),(i=i.replace(t.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}();exports.BitmapFontLoader=T;
},{"@pixi/math":"bSXT","@pixi/settings":"HWBD","@pixi/mesh":"XyDc","@pixi/utils":"xS69","@pixi/core":"CJJk","@pixi/text":"hHxK","@pixi/display":"sIot","@pixi/loaders":"hkFg"}],"uf4c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AlphaFilter=void 0;var r=require("@pixi/core"),t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])})(r,e)};function e(r,e){function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}var o="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",n=function(t){function n(e){void 0===e&&(e=1);var n=t.call(this,r.defaultVertex,o,{uAlpha:1})||this;return n.alpha=e,n}return e(n,t),Object.defineProperty(n.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),n}(r.Filter);exports.AlphaFilter=n;
},{"@pixi/core":"CJJk"}],"3U2C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BlurFilterPass=exports.BlurFilter=void 0;var t=require("@pixi/core"),e=require("@pixi/settings"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function i(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function o(t,e){var r,i=Math.ceil(t/2),o=n,E="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var u=0;u<t;u++){var l=r.replace("%index%",u.toString());E+=l=l.replace("%sampleIndex%",u-(i-1)+".0"),E+="\n"}return o=(o=o.replace("%blur%",E)).replace("%size%",t.toString())}var E,u,l,_,s,T,a,N,O,A,R,P,L,p,I,h,c,S={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},d=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function f(t){for(var e,r=S[t],i=r.length,n=d,o="",E=0;E<t;E++){var u="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",E.toString());e=E,E>=i&&(e=t-E-1),o+=u=u.replace("%value%",r[e].toString()),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t.toString())}!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(E||(E={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(u||(u={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(l||(l={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(_||(_={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(s||(s={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(T||(T={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(a||(a={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(N||(N={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(O||(O={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(A||(A={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(R||(R={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(P||(P={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(L||(L={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(p||(p={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(I||(I={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(h||(h={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(c||(c={}));var U=function(t){function r(r,i,n,E,u){void 0===i&&(i=8),void 0===n&&(n=4),void 0===E&&(E=e.settings.FILTER_RESOLUTION),void 0===u&&(u=5);var l=this,_=o(u,r),s=f(u);return(l=t.call(this,_,s)||this).horizontal=r,l.resolution=E,l._quality=0,l.quality=n,l.blur=i,l}return i(r,t),r.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,E=e,u=n;this.state.blend=!1,t.applyFilter(this,E,u,L.CLEAR);for(var l=1;l<this.passes-1;l++){t.bindAndClear(E,L.BLIT),this.uniforms.uSampler=u;var _=u;u=E,E=_,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,u,r,i),t.returnFilterTexture(n)}},Object.defineProperty(r.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),r}(t.Filter);exports.BlurFilterPass=U;var b=function(t){function r(r,i,n,o){void 0===r&&(r=8),void 0===i&&(i=4),void 0===n&&(n=e.settings.FILTER_RESOLUTION),void 0===o&&(o=5);var E=t.call(this)||this;return E.blurXFilter=new U(!0,r,i,n,o),E.blurYFilter=new U(!1,r,i,n,o),E.resolution=n,E.quality=i,E.blur=r,E.repeatEdgePixels=!1,E}return i(r,t),r.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var E=t.getFilterTexture();this.blurXFilter.apply(t,e,E,L.CLEAR),this.blurYFilter.apply(t,E,r,i),t.returnFilterTexture(E)}else o?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},r.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(r.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),r}(t.Filter);exports.BlurFilter=b;
},{"@pixi/core":"CJJk","@pixi/settings":"HWBD"}],"ptSI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorMatrixFilter=void 0;var t=require("@pixi/core"),r=function(t,o){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])})(t,o)};function o(t,o){function n(){this.constructor=t}r(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}var n="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e=function(r){function e(){var o=this,e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(o=r.call(this,t.defaultFilterVertex,n,e)||this).alpha=1,o}return o(e,r),e.prototype._loadMatrix=function(t,r){void 0===r&&(r=!1);var o=t;r&&(this._multiply(o,this.uniforms.m,t),o=this._colorMatrix(o)),this.uniforms.m=o},e.prototype._multiply=function(t,r,o){return t[0]=r[0]*o[0]+r[1]*o[5]+r[2]*o[10]+r[3]*o[15],t[1]=r[0]*o[1]+r[1]*o[6]+r[2]*o[11]+r[3]*o[16],t[2]=r[0]*o[2]+r[1]*o[7]+r[2]*o[12]+r[3]*o[17],t[3]=r[0]*o[3]+r[1]*o[8]+r[2]*o[13]+r[3]*o[18],t[4]=r[0]*o[4]+r[1]*o[9]+r[2]*o[14]+r[3]*o[19]+r[4],t[5]=r[5]*o[0]+r[6]*o[5]+r[7]*o[10]+r[8]*o[15],t[6]=r[5]*o[1]+r[6]*o[6]+r[7]*o[11]+r[8]*o[16],t[7]=r[5]*o[2]+r[6]*o[7]+r[7]*o[12]+r[8]*o[17],t[8]=r[5]*o[3]+r[6]*o[8]+r[7]*o[13]+r[8]*o[18],t[9]=r[5]*o[4]+r[6]*o[9]+r[7]*o[14]+r[8]*o[19]+r[9],t[10]=r[10]*o[0]+r[11]*o[5]+r[12]*o[10]+r[13]*o[15],t[11]=r[10]*o[1]+r[11]*o[6]+r[12]*o[11]+r[13]*o[16],t[12]=r[10]*o[2]+r[11]*o[7]+r[12]*o[12]+r[13]*o[17],t[13]=r[10]*o[3]+r[11]*o[8]+r[12]*o[13]+r[13]*o[18],t[14]=r[10]*o[4]+r[11]*o[9]+r[12]*o[14]+r[13]*o[19]+r[14],t[15]=r[15]*o[0]+r[16]*o[5]+r[17]*o[10]+r[18]*o[15],t[16]=r[15]*o[1]+r[16]*o[6]+r[17]*o[11]+r[18]*o[16],t[17]=r[15]*o[2]+r[16]*o[7]+r[17]*o[12]+r[18]*o[17],t[18]=r[15]*o[3]+r[16]*o[8]+r[17]*o[13]+r[18]*o[18],t[19]=r[15]*o[4]+r[16]*o[9]+r[17]*o[14]+r[18]*o[19]+r[19],t},e.prototype._colorMatrix=function(t){var r=new Float32Array(t);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},e.prototype.brightness=function(t,r){var o=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(o,r)},e.prototype.greyscale=function(t,r){var o=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(o,r)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,r){t=(t||0)/180*Math.PI;var o=Math.cos(t),n=Math.sin(t),e=1/3,i=(0,Math.sqrt)(e),a=[o+(1-o)*e,e*(1-o)-i*n,e*(1-o)+i*n,0,0,e*(1-o)+i*n,o+e*(1-o),e*(1-o)-i*n,0,0,e*(1-o)-i*n,e*(1-o)+i*n,o+e*(1-o),0,0,0,0,0,1,0];this._loadMatrix(a,r)},e.prototype.contrast=function(t,r){var o=(t||0)+1,n=-.5*(o-1),e=[o,0,0,0,n,0,o,0,0,n,0,0,o,0,n,0,0,0,1,0];this._loadMatrix(e,r)},e.prototype.saturate=function(t,r){void 0===t&&(t=0);var o=2*t/3+1,n=-.5*(o-1),e=[o,n,n,0,0,n,o,n,0,0,n,n,o,0,0,0,0,0,1,0];this._loadMatrix(e,r)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,r,o,n,e){var i=((o=o||16770432)>>16&255)/255,a=(o>>8&255)/255,u=(255&o)/255,l=((n=n||3375104)>>16&255)/255,p=(n>>8&255)/255,s=(255&n)/255,c=[.3,.59,.11,0,0,i,a,u,t=t||.2,0,l,p,s,r=r||.15,0,i-l,a-p,u-s,0,0];this._loadMatrix(c,e)},e.prototype.night=function(t,r){var o=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(o,r)},e.prototype.predator=function(t,r){var o=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(o,r)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(t.Filter);exports.ColorMatrixFilter=e,e.prototype.grayscale=e.prototype.greyscale;
},{"@pixi/core":"CJJk"}],"VFce":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DisplacementFilter=void 0;var t=require("@pixi/core"),r=require("@pixi/math"),e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};function i(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}var n="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",o="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",a=function(t){function e(e,i){var a=this,u=new r.Matrix;return e.renderable=!1,(a=t.call(this,o,n,{mapSampler:e._texture,filterMatrix:u,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,a.maskMatrix=u,null==i&&(i=20),a.scale=new r.Point(i,i),a}return i(e,t),e.prototype.apply=function(t,r,e,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),a=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/a,this.uniforms.rotation[3]=n.d/a),t.applyFilter(this,r,e,i)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(t.Filter);exports.DisplacementFilter=a;
},{"@pixi/core":"CJJk","@pixi/math":"bSXT"}],"slt5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FXAAFilter=void 0;var n=require("@pixi/core"),e=function(n,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r])})(n,r)};function r(n,r){function o(){this.constructor=n}e(n,r),n.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}var o="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",t='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',i=function(n){function e(){return n.call(this,o,t)||this}return r(e,n),e}(n.Filter);exports.FXAAFilter=i;
},{"@pixi/core":"CJJk"}],"KwVI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoiseFilter=void 0;var e=require("@pixi/core"),o=function(e,r){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var r in o)o.hasOwnProperty(r)&&(e[r]=o[r])})(e,r)};function r(e,r){function n(){this.constructor=e}o(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var n="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",t=function(o){function t(r,t){void 0===r&&(r=.5),void 0===t&&(t=Math.random());var i=o.call(this,e.defaultFilterVertex,n,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=t,i}return r(t,o),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(e.Filter);exports.NoiseFilter=t;
},{"@pixi/core":"CJJk"}],"EByM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CacheData=void 0;var t=require("@pixi/core"),a=require("@pixi/sprite"),e=require("@pixi/display"),i=require("@pixi/math"),r=require("@pixi/utils"),s=require("@pixi/settings"),n=new i.Matrix;e.DisplayObject.prototype._cacheAsBitmap=!1,e.DisplayObject.prototype._cacheData=null;var h=function(){return function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}();exports.CacheData=h,Object.defineProperties(e.DisplayObject.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var a;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new h),(a=this._cacheData).originalRender=this.render,a.originalRenderCanvas=this.renderCanvas,a.originalUpdateTransform=this.updateTransform,a.originalCalculateBounds=this.calculateBounds,a.originalGetLocalBounds=this.getLocalBounds,a.originalDestroy=this.destroy,a.originalContainsPoint=this.containsPoint,a.originalMask=this._mask,a.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((a=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=a.originalRender,this.renderCanvas=a.originalRenderCanvas,this.calculateBounds=a.originalCalculateBounds,this.getLocalBounds=a.originalGetLocalBounds,this.destroy=a.originalDestroy,this.updateTransform=a.originalUpdateTransform,this.containsPoint=a.originalContainsPoint,this._mask=a.originalMask,this.filterArea=a.originalFilterArea))}}}),e.DisplayObject.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},e.DisplayObject.prototype._initCachedDisplayObject=function(e){if(!this._cacheData||!this._cacheData.sprite){var i=this.alpha;this.alpha=1,e.batch.flush();var h=this.getLocalBounds(null,!0).clone();if(this.filters){var o=this.filters[0].padding;h.pad(o)}h.ceil(s.settings.RESOLUTION);var c=e.renderTexture.current,l=e.renderTexture.sourceFrame.clone(),d=e.renderTexture.destinationFrame.clone(),p=e.projection.transform,u=t.RenderTexture.create({width:h.width,height:h.height}),_="cacheAsBitmap_"+(0,r.uid)();this._cacheData.textureCacheId=_,t.BaseTexture.addToCache(u.baseTexture,_),t.Texture.addToCache(u,_);var D=this.transform.localTransform.copyTo(n).invert().translate(-h.x,-h.y);this.render=this._cacheData.originalRender,e.render(this,u,!0,D,!1),e.projection.transform=p,e.renderTexture.bind(c,l,d),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var f=new a.Sprite(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-h.x/h.width,f.anchor.y=-h.y/h.height,f.alpha=i,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)}},e.DisplayObject.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},e.DisplayObject.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var i=this.getLocalBounds(null,!0),h=this.alpha;this.alpha=1;var o=e.context,c=e._projTransform;i.ceil(s.settings.RESOLUTION);var l=t.RenderTexture.create({width:i.width,height:i.height}),d="cacheAsBitmap_"+(0,r.uid)();this._cacheData.textureCacheId=d,t.BaseTexture.addToCache(l.baseTexture,d),t.Texture.addToCache(l,d);var p=n;this.transform.localTransform.copyTo(p),p.invert(),p.tx-=i.x,p.ty-=i.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,l,!0,p,!1),e.context=o,e._projTransform=c,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new a.Sprite(l);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-i.x/i.width,u.anchor.y=-i.y/i.height,u.alpha=h,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},e.DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},e.DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},e.DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,t.BaseTexture.removeFromCache(this._cacheData.textureCacheId),t.Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},e.DisplayObject.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};
},{"@pixi/core":"CJJk","@pixi/sprite":"TYml","@pixi/display":"sIot","@pixi/math":"bSXT","@pixi/utils":"xS69","@pixi/settings":"HWBD"}],"209x":[function(require,module,exports) {
"use strict";var i=require("@pixi/display");i.DisplayObject.prototype.name=null,i.Container.prototype.getChildByName=function(i,e){for(var r=0,t=this.children.length;r<t;r++)if(this.children[r].name===i)return this.children[r];if(e)for(r=0,t=this.children.length;r<t;r++){if(this.children[r].getChildByName){var n=this.children[r].getChildByName(i,!0);if(n)return n}}return null};
},{"@pixi/display":"sIot"}],"8GkA":[function(require,module,exports) {
"use strict";var i=require("@pixi/display"),t=require("@pixi/math");i.DisplayObject.prototype.getGlobalPosition=function(i,o){return void 0===i&&(i=new t.Point),void 0===o&&(o=!1),this.parent?this.parent.toGlobal(this.position,i,o):(i.x=this.position.x,i.y=this.position.y),i};
},{"@pixi/display":"sIot","@pixi/math":"bSXT"}],"r55X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimpleRope=exports.SimplePlane=exports.SimpleMesh=exports.RopeGeometry=exports.PlaneGeometry=exports.NineSlicePlane=void 0;var t=require("@pixi/mesh"),e=require("@pixi/constants"),i=require("@pixi/core"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function h(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var o=function(t){function e(e,i,r,h){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===h&&(h=10);var o=t.call(this)||this;return o.segWidth=r,o.segHeight=h,o.width=e,o.height=i,o.build(),o}return h(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],i=[],r=[],h=this.segWidth-1,o=this.segHeight-1,s=this.width/h,n=this.height/o,a=0;a<t;a++){var u=a%this.segWidth,d=a/this.segWidth|0;e.push(u*s,d*n),i.push(u/h,d/o)}var p=h*o;for(a=0;a<p;a++){var f=a%h,g=a/h|0,c=g*this.segWidth+f,l=g*this.segWidth+f+1,_=(g+1)*this.segWidth+f,y=(g+1)*this.segWidth+f+1;r.push(c,l,_,l,y,_)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(t.MeshGeometry);exports.PlaneGeometry=o;var s=function(t){function e(e,i,r){void 0===e&&(e=200),void 0===r&&(r=0);var h=t.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))||this;return h.points=i,h._width=e,h.textureScale=r,h.build(),h}return h(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var h=i.data,o=r.data;h[0]=0,h[1]=0,h[2]=0,h[3]=1;for(var s=0,n=t[0],a=this._width*this.textureScale,u=t.length,d=0;d<u;d++){var p=4*d;if(this.textureScale>0){var f=n.x-t[d].x,g=n.y-t[d].y,c=Math.sqrt(f*f+g*g);n=t[d],s+=c/a}else s=d/(u-1);h[p]=s,h[p+1]=0,h[p+2]=s,h[p+3]=1}var l=0;for(d=0;d<u-1;d++){p=2*d;o[l++]=p,o[l++]=p+1,o[l++]=p+2,o[l++]=p+2,o[l++]=p+1,o[l++]=p+3}i.update(),r.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,i=t[0],r=0,h=0,o=this.buffers[0].data,s=t.length,n=0;n<s;n++){var a=t[n],u=4*n;h=-((e=n<t.length-1?t[n+1]:a).x-i.x),r=e.y-i.y;var d=Math.sqrt(r*r+h*h),p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=d,h/=d,r*=p,h*=p,o[u]=a.x+r,o[u+1]=a.y+h,o[u+2]=a.x-r,o[u+3]=a.y-h,i=a}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(t.MeshGeometry);exports.RopeGeometry=s;var n=function(i){function r(r,h,o){void 0===o&&(o=0);var n=this,a=new s(r.height,h,o),u=new t.MeshMaterial(r);return o>0&&(r.baseTexture.wrapMode=e.WRAP_MODES.REPEAT),(n=i.call(this,a,u)||this).autoUpdate=!0,n}return h(r,i),r.prototype._render=function(t){var e=this.geometry;(this.autoUpdate||e._width!==this.shader.texture.height)&&(e._width=this.shader.texture.height,e.update()),i.prototype._render.call(this,t)},r}(t.Mesh);exports.SimpleRope=n;var a=function(e){function r(r,h,s){var n=this,a=new o(r.width,r.height,h,s),u=new t.MeshMaterial(i.Texture.WHITE);return(n=e.call(this,a,u)||this).texture=r,n}return h(r,e),r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(r.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),r.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,t)},r.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,t)},r}(t.Mesh);exports.SimplePlane=a;var u=function(e){function r(r,h,o,s,n){void 0===r&&(r=i.Texture.EMPTY);var a=this,u=new t.MeshGeometry(h,o,s);u.getBuffer("aVertexPosition").static=!1;var d=new t.MeshMaterial(r);return(a=e.call(this,u,d,null,n)||this).autoUpdate=!0,a}return h(r,e),Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),r.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,t)},r}(t.Mesh);exports.SimpleMesh=u;var d=10,p=function(t){function e(e,r,h,o,s){void 0===r&&(r=d),void 0===h&&(h=d),void 0===o&&(o=d),void 0===s&&(s=d);var n=t.call(this,i.Texture.WHITE,4,4)||this;return n._origWidth=e.orig.width,n._origHeight=e.orig.height,n._width=n._origWidth,n._height=n._origHeight,n._leftWidth=r,n._rightWidth=o,n._topHeight=h,n._bottomHeight=s,n.texture=e,n}return h(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,i=this._topHeight+this._bottomHeight,r=this._height>i?1:this._height/i;return Math.min(e,r)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(a);exports.NineSlicePlane=p;
},{"@pixi/mesh":"XyDc","@pixi/constants":"u0xz","@pixi/core":"CJJk"}],"D9aw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimatedSprite=void 0;var t=require("@pixi/core"),e=require("@pixi/sprite"),r=require("@pixi/ticker"),i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function n(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(e){function i(r,i){void 0===i&&(i=!0);var n=e.call(this,r[0]instanceof t.Texture?r[0]:r[0].texture)||this;return n._textures=null,n._durations=null,n._autoUpdate=i,n._isConnectedToTicker=!1,n.animationSpeed=1,n.loop=!0,n.updateAnchor=!1,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n._playing=!1,n._previousFrame=null,n.textures=r,n}return n(i,e),i.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(r.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))},i.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(r.Ticker.shared.add(this.update,this,r.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},i.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},i.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},i.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())}},i.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},i.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},i.fromFrames=function(e){for(var r=[],n=0;n<e.length;++n)r.push(t.Texture.from(e[n]));return new i(r)},i.fromImages=function(e){for(var r=[],n=0;n<e.length;++n)r.push(t.Texture.from(e[n]));return new i(r)},Object.defineProperty(i.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof t.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(r.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(r.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),i}(e.Sprite);exports.AnimatedSprite=o;
},{"@pixi/core":"CJJk","@pixi/sprite":"TYml","@pixi/ticker":"4QEk"}],"9FmR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={VERSION:!0,filters:!0,useDeprecated:!0,utils:!0};exports.useDeprecated=A,exports.utils=exports.filters=exports.VERSION=void 0,require("@pixi/polyfill");var r=E(require("@pixi/utils"));exports.utils=r;var t=require("@pixi/accessibility");Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===t[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return t[r]}}))});var n=require("@pixi/interaction");Object.keys(n).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===n[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return n[r]}}))});var o=require("@pixi/app");Object.keys(o).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===o[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return o[r]}}))});var i=require("@pixi/core");Object.keys(i).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===i[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return i[r]}}))});var a=require("@pixi/extract");Object.keys(a).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===a[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return a[r]}}))});var s=require("@pixi/loaders");Object.keys(s).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===s[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return s[r]}}))});var c=require("@pixi/particles");Object.keys(c).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===c[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return c[r]}}))});var p=require("@pixi/prepare");Object.keys(p).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===p[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return p[r]}}))});var u=require("@pixi/spritesheet");Object.keys(u).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===u[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return u[r]}}))});var d=require("@pixi/sprite-tiling");Object.keys(d).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===d[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return d[r]}}))});var l=require("@pixi/text-bitmap");Object.keys(l).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===l[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return l[r]}}))});var f=require("@pixi/ticker");Object.keys(f).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===f[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return f[r]}}))});var I=require("@pixi/filter-alpha"),P=require("@pixi/filter-blur"),h=require("@pixi/filter-color-matrix"),m=require("@pixi/filter-displacement"),y=require("@pixi/filter-fxaa"),g=require("@pixi/filter-noise");require("@pixi/mixin-cache-as-bitmap"),require("@pixi/mixin-get-child-by-name"),require("@pixi/mixin-get-global-position");var x=require("@pixi/constants");Object.keys(x).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===x[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return x[r]}}))});var b=require("@pixi/display");Object.keys(b).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===b[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return b[r]}}))});var v=require("@pixi/graphics");Object.keys(v).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===v[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return v[r]}}))});var X=require("@pixi/math");Object.keys(X).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===X[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return X[r]}}))});var O=require("@pixi/mesh");Object.keys(O).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===O[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return O[r]}}))});var S=require("@pixi/mesh-extras");Object.keys(S).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===S[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return S[r]}}))});var j=require("@pixi/runner");Object.keys(j).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===j[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return j[r]}}))});var M=require("@pixi/sprite");Object.keys(M).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===M[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return M[r]}}))});var T=require("@pixi/sprite-animated");Object.keys(T).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===T[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return T[r]}}))});var R=require("@pixi/text");Object.keys(R).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===R[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return R[r]}}))});var _=require("@pixi/settings");function F(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return F=function(){return e},e}function E(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=F();if(r&&r.has(e))return r.get(e);var t={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=e[o]}return t.default=e,r&&r.set(e,t),t}Object.keys(_).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||r in exports&&exports[r]===_[r]||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return _[r]}}))});var B=function(e,r){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)};function L(e,r){function t(){this.constructor=e}B(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var w="5.0.0";function A(){var e=this;Object.defineProperties(e,{SVG_SIZE:{get:function(){return(0,r.deprecation)(w,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),e.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return(0,r.deprecation)(w,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),e.Transform}},TransformBase:{get:function(){return(0,r.deprecation)(w,"PIXI.TransformBase class has been removed, use PIXI.Transform"),e.Transform}},TRANSFORM_MODE:{get:function(){return(0,r.deprecation)(w,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return(0,r.deprecation)(w,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),e.Renderer}},CanvasRenderTarget:{get:function(){return(0,r.deprecation)(w,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),e.utils.CanvasRenderTarget}},loader:{get:function(){return(0,r.deprecation)(w,"PIXI.loader instance has moved to PIXI.Loader.shared"),e.Loader.shared}},FilterManager:{get:function(){return(0,r.deprecation)(w,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),e.systems.FilterSystem}},CanvasTinter:{get:function(){return(0,r.deprecation)("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),e.canvasUtils}},GroupD8:{get:function(){return(0,r.deprecation)("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),e.groupD8}}}),e.accessibility={},Object.defineProperties(e.accessibility,{AccessibilityManager:{get:function(){return(0,r.deprecation)("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),e.AccessibilityManager}}}),e.interaction={},Object.defineProperties(e.interaction,{InteractionManager:{get:function(){return(0,r.deprecation)("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),e.InteractionManager}},InteractionData:{get:function(){return(0,r.deprecation)("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),e.InteractionData}},InteractionEvent:{get:function(){return(0,r.deprecation)("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),e.InteractionEvent}}}),e.prepare={},Object.defineProperties(e.prepare,{BasePrepare:{get:function(){return(0,r.deprecation)("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),e.BasePrepare}},Prepare:{get:function(){return(0,r.deprecation)("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),e.Prepare}},CanvasPrepare:{get:function(){return(0,r.deprecation)("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),e.CanvasPrepare}}}),e.extract={},Object.defineProperties(e.extract,{Extract:{get:function(){return(0,r.deprecation)("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),e.Extract}},CanvasExtract:{get:function(){return(0,r.deprecation)("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),e.CanvasExtract}}}),e.extras={},Object.defineProperties(e.extras,{TilingSprite:{get:function(){return(0,r.deprecation)(w,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),e.TilingSprite}},TilingSpriteRenderer:{get:function(){return(0,r.deprecation)(w,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),e.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return(0,r.deprecation)(w,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),e.AnimatedSprite}},BitmapText:{get:function(){return(0,r.deprecation)(w,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),e.BitmapText}}}),e.TilingSprite.fromFrame=function(t,n,o){return(0,r.deprecation)("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),e.TilingSprite.from(t,{width:n,height:o})},e.TilingSprite.fromImage=function(t,n,o,i){return void 0===i&&(i={}),(0,r.deprecation)("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),i&&"object"!=typeof i&&(i={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),i.width=n,i.height=o,e.TilingSprite.from(t,i)},Object.defineProperties(e.utils,{getSvgSize:{get:function(){return(0,r.deprecation)(w,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),e.resources.SVGResource.getSize}}}),e.mesh={},Object.defineProperties(e.mesh,{Mesh:{get:function(){return(0,r.deprecation)(w,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),e.SimpleMesh}},NineSlicePlane:{get:function(){return(0,r.deprecation)(w,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),e.NineSlicePlane}},Plane:{get:function(){return(0,r.deprecation)(w,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),e.SimplePlane}},Rope:{get:function(){return(0,r.deprecation)(w,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),e.SimpleRope}},RawMesh:{get:function(){return(0,r.deprecation)(w,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),e.Mesh}},CanvasMeshRenderer:{get:function(){return(0,r.deprecation)(w,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),e.CanvasMeshRenderer}},MeshRenderer:{get:function(){return(0,r.deprecation)(w,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),e.MeshRenderer}}}),e.particles={},Object.defineProperties(e.particles,{ParticleContainer:{get:function(){return(0,r.deprecation)(w,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),e.ParticleContainer}},ParticleRenderer:{get:function(){return(0,r.deprecation)(w,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),e.ParticleRenderer}}}),e.ticker={},Object.defineProperties(e.ticker,{Ticker:{get:function(){return(0,r.deprecation)(w,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),e.Ticker}},shared:{get:function(){return(0,r.deprecation)(w,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),e.Ticker.shared}}}),e.loaders={},Object.defineProperties(e.loaders,{Loader:{get:function(){return(0,r.deprecation)(w,"PIXI.loaders.Loader class has moved to PIXI.Loader"),e.Loader}},Resource:{get:function(){return(0,r.deprecation)(w,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),e.LoaderResource}},bitmapFontParser:{get:function(){return(0,r.deprecation)(w,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),e.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){(0,r.deprecation)(w,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return(0,r.deprecation)(w,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),e.SpritesheetLoader.use}},getResourcePath:{get:function(){return(0,r.deprecation)(w,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),e.SpritesheetLoader.getResourcePath}}}),e.Loader.addPixiMiddleware=function(t){return(0,r.deprecation)(w,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),e.loaders.Loader.registerPlugin({use:t()})};var t=function(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)};Object.assign(e.Loader.prototype,{on:function(e){var n=t(e);(0,r.deprecation)(w,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+n+".add")},once:function(e){var n=t(e);(0,r.deprecation)(w,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+n+".once")},off:function(e){var n=t(e);(0,r.deprecation)(w,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+n+".detach")}}),Object.defineProperty(e.extract,"WebGLExtract",{get:function(){return(0,r.deprecation)(w,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),e.Extract}}),Object.defineProperty(e.prepare,"WebGLPrepare",{get:function(){return(0,r.deprecation)(w,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),e.Prepare}}),e.Container.prototype._renderWebGL=function(e){(0,r.deprecation)(w,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(e)},e.Container.prototype.renderWebGL=function(e){(0,r.deprecation)(w,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(e)},e.DisplayObject.prototype.renderWebGL=function(e){(0,r.deprecation)(w,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(e)},e.Container.prototype.renderAdvancedWebGL=function(e){(0,r.deprecation)(w,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(e)},Object.defineProperties(e.settings,{TRANSFORM_MODE:{get:function(){return(0,r.deprecation)(w,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){(0,r.deprecation)(w,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var n=e.BaseTexture;n.prototype.loadSource=function(t){(0,r.deprecation)(w,"PIXI.BaseTexture.loadSource method has been deprecated");var n=e.resources.autoDetectResource(t);n.internal=!0,this.setResource(n),this.update()};var o=!1;Object.defineProperties(n.prototype,{hasLoaded:{get:function(){return(0,r.deprecation)(w,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var e;return(0,r.deprecation)(w,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(e=this.resource)||void 0===e?void 0:e.url},set:function(e){(0,r.deprecation)(w,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=e)}},source:{get:function(){return(0,r.deprecation)(w,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(e){(0,r.deprecation)(w,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=e)}},premultiplyAlpha:{get:function(){return(0,r.deprecation)("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(e){(0,r.deprecation)("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}},_id:{get:function(){return o||((0,r.deprecation)("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),o=!0),this._batchLocation},set:function(e){this._batchLocation=e}}}),n.fromImage=function(e,t,o,i){(0,r.deprecation)(w,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var a={scale:i,crossorigin:t};return n.from(e,{scaleMode:o,resourceOptions:a})},n.fromCanvas=function(e,t){return(0,r.deprecation)(w,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),n.from(e,{scaleMode:t})},n.fromSVG=function(e,t,o,i){(0,r.deprecation)(w,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var a={scale:i,crossorigin:t};return n.from(e,{scaleMode:o,resourceOptions:a})},Object.defineProperties(e.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return(0,r.deprecation)("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(e){(0,r.deprecation)("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}}}),e.Point.prototype.copy=function(e){return(0,r.deprecation)(w,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(e)},e.ObservablePoint.prototype.copy=function(e){return(0,r.deprecation)(w,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(e)},e.Rectangle.prototype.copy=function(e){return(0,r.deprecation)(w,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(e)},e.Matrix.prototype.copy=function(e){return(0,r.deprecation)(w,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(e)},e.systems.StateSystem.prototype.setState=function(e){return(0,r.deprecation)("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(e)},Object.assign(e.systems.FilterSystem.prototype,{getRenderTarget:function(e,t){return(0,r.deprecation)(w,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,t)},returnRenderTarget:function(e){(0,r.deprecation)(w,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(e)},calculateScreenSpaceMatrix:function(e){(0,r.deprecation)(w,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var t=e.identity(),n=this.activeState,o=n.sourceFrame,i=n.destinationFrame;return t.translate(o.x/i.width,o.y/i.height),t.scale(i.width,i.height),t},calculateNormalizedScreenSpaceMatrix:function(e){(0,r.deprecation)(w,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var t=this.activeState,n=t.sourceFrame,o=t.destinationFrame,i=e.identity();i.translate(n.x/o.width,n.y/o.height);var a=o.width/n.width,s=o.height/n.height;return i.scale(a,s),i}}),Object.defineProperties(e.RenderTexture.prototype,{sourceFrame:{get:function(){return(0,r.deprecation)(w,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return(0,r.deprecation)(w,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(e){function t(t,n,o,i){return(0,r.deprecation)(w,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),e.call(this,!0,t,n,o,i)||this}return L(t,e),t}(e.filters.BlurFilterPass),a=function(e){function t(t,n,o,i){return(0,r.deprecation)(w,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),e.call(this,!1,t,n,o,i)||this}return L(t,e),t}(e.filters.BlurFilterPass);Object.assign(e.filters,{BlurXFilter:i,BlurYFilter:a});var s=e.Sprite,c=e.Texture,p=e.Graphics;function u(e,t,n,o){return(0,r.deprecation)(w,"PIXI.Sprite."+e+" method is deprecated, use PIXI.Sprite.from"),s.from(t,{resourceOptions:{scale:o,crossorigin:n}})}function d(e,t,n,o){return(0,r.deprecation)(w,"PIXI.Texture."+e+" method is deprecated, use PIXI.Texture.from"),c.from(t,{resourceOptions:{scale:o,crossorigin:n}})}p.prototype.generateCanvasTexture||(p.prototype.generateCanvasTexture=function(){(0,r.deprecation)(w,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(p.prototype,"graphicsData",{get:function(){return(0,r.deprecation)(w,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),s.fromImage=u.bind(null,"fromImage"),s.fromSVG=u.bind(null,"fromSVG"),s.fromCanvas=u.bind(null,"fromCanvas"),s.fromVideo=u.bind(null,"fromVideo"),s.fromFrame=u.bind(null,"fromFrame"),c.fromImage=d.bind(null,"fromImage"),c.fromSVG=d.bind(null,"fromSVG"),c.fromCanvas=d.bind(null,"fromCanvas"),c.fromVideo=d.bind(null,"fromVideo"),c.fromFrame=d.bind(null,"fromFrame"),Object.defineProperty(e.AbstractRenderer.prototype,"autoResize",{get:function(){return(0,r.deprecation)(w,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(e){(0,r.deprecation)(w,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=e}}),Object.defineProperty(e.Renderer.prototype,"textureManager",{get:function(){return(0,r.deprecation)(w,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),e.utils.mixins={mixin:function(){(0,r.deprecation)(w,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){(0,r.deprecation)(w,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){(0,r.deprecation)(w,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(e.BitmapText.prototype,"font",{get:function(){return(0,r.deprecation)("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(t){if((0,r.deprecation)("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),t){var n={font:t};this._upgradeStyle(n),n.fontSize=n.fontSize||e.BitmapFont.available[n.fontName].size,this._fontName=n.fontName,this._fontSize=n.fontSize,this.dirty=!0}}})}i.Renderer.registerPlugin("accessibility",t.AccessibilityManager),i.Renderer.registerPlugin("extract",a.Extract),i.Renderer.registerPlugin("interaction",n.InteractionManager),i.Renderer.registerPlugin("particle",c.ParticleRenderer),i.Renderer.registerPlugin("prepare",p.Prepare),i.Renderer.registerPlugin("batch",i.BatchRenderer),i.Renderer.registerPlugin("tilingSprite",d.TilingSpriteRenderer),s.Loader.registerPlugin(l.BitmapFontLoader),s.Loader.registerPlugin(u.SpritesheetLoader),o.Application.registerPlugin(f.TickerPlugin),o.Application.registerPlugin(s.AppLoaderPlugin);var C="5.3.9";exports.VERSION=C;var D={AlphaFilter:I.AlphaFilter,BlurFilter:P.BlurFilter,BlurFilterPass:P.BlurFilterPass,ColorMatrixFilter:h.ColorMatrixFilter,DisplacementFilter:m.DisplacementFilter,FXAAFilter:y.FXAAFilter,NoiseFilter:g.NoiseFilter};exports.filters=D;
},{"@pixi/polyfill":"rjSg","@pixi/utils":"xS69","@pixi/accessibility":"vb/C","@pixi/interaction":"D2DI","@pixi/app":"2vCR","@pixi/core":"CJJk","@pixi/extract":"mQFe","@pixi/loaders":"hkFg","@pixi/particles":"AZ9s","@pixi/prepare":"UgoT","@pixi/spritesheet":"ubWC","@pixi/sprite-tiling":"/mVe","@pixi/text-bitmap":"Qh3P","@pixi/ticker":"4QEk","@pixi/filter-alpha":"uf4c","@pixi/filter-blur":"3U2C","@pixi/filter-color-matrix":"ptSI","@pixi/filter-displacement":"VFce","@pixi/filter-fxaa":"slt5","@pixi/filter-noise":"KwVI","@pixi/mixin-cache-as-bitmap":"EByM","@pixi/mixin-get-child-by-name":"209x","@pixi/mixin-get-global-position":"8GkA","@pixi/constants":"u0xz","@pixi/display":"sIot","@pixi/graphics":"mLUG","@pixi/math":"bSXT","@pixi/mesh":"XyDc","@pixi/mesh-extras":"r55X","@pixi/runner":"hrwS","@pixi/sprite":"TYml","@pixi/sprite-animated":"D9aw","@pixi/text":"hHxK","@pixi/settings":"HWBD"}],"vTbQ":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var r={};if(null!=o)for(var i in o)"default"!==i&&Object.hasOwnProperty.call(o,i)&&e(r,o,i);return t(r,o),r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadSpriteSheet=exports.spriteSheet=void 0;var r=o(require("pixi.js")),i="assets/images/images.json",n=r.Loader.shared;function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;n.onLoad.add(function(){var t=n.progress;console.log("Loading... "+t+"%"),t>=100&&(console.log("Successfully loaded spritesheet!"),exports.spriteSheet=n.resources[i].spritesheet,e())}),n.add(t).load()}n.onError.add(function(){console.log("Error loading spritesheet! path: "+i)}),n.onStart.add(function(){console.log("loading spritesheet...")}),exports.loadSpriteSheet=s;
},{"pixi.js":"9FmR"}],"k/7z":[function(require,module,exports) {
"use strict";var o,r,e,t;Object.defineProperty(exports,"__esModule",{value:!0}),exports.WaterColor=exports.TeamColor=exports.GameScreen=exports.DrawLayer=exports.WAVE_PHASE_TIME=exports.PANEL_HEIGHT=void 0,exports.PANEL_HEIGHT=150,exports.WAVE_PHASE_TIME=200,function(o){o[o.Hill=-120]="Hill",o[o.Water=-100]="Water",o[o.Flag=-70]="Flag",o[o.ControlTower=-60]="ControlTower",o[o.Ground=-50]="Ground",o[o.RunwayBack=-10]="RunwayBack",o[o.LightSmoke=-7]="LightSmoke",o[o.Plane=-5]="Plane",o[o.DarkSmoke=-3]="DarkSmoke",o[o.Runway=0]="Runway",o[o.Trooper=5]="Trooper",o[o.Explosion=50]="Explosion",o[o.Bomb=60]="Bomb",o[o.Bullet=69]="Bullet",o[o.Player=100]="Player"}(o=exports.DrawLayer||(exports.DrawLayer={})),function(o){o[o.Width=740]="Width",o[o.Height=565]="Height"}(r=exports.GameScreen||(exports.GameScreen={})),function(o){o[o.OwnForeground=255]="OwnForeground",o[o.OwnBackground=9358335]="OwnBackground",o[o.OpponentForeground=16711680]="OpponentForeground",o[o.OpponentBackground=16758132]="OpponentBackground",o[o.SpectatorForeground=0]="SpectatorForeground",o[o.SpectatorBackground=16777215]="SpectatorBackground"}(e=exports.TeamColor||(exports.TeamColor={})),function(o){o[o.Normal=3051728]="Normal",o[o.Desert=2344139]="Desert"}(t=exports.WaterColor||(exports.WaterColor={}));
},{}],"SNDV":[function(require,module,exports) {
"use strict";function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}var r=this&&this.__createBinding||(Object.create?function(e,i,t,r){void 0===r&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return i[t]}})}:function(e,i,t,r){void 0===r&&(r=t),e[r]=i[t]}),n=this&&this.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var t in e)"default"!==t&&Object.hasOwnProperty.call(e,t)&&r(i,e,t);return n(i,e),i};Object.defineProperty(exports,"__esModule",{value:!0}),exports.GridObject=void 0;var s=a(require("pixi.js")),o=require("../constants"),l=100,h=100,c=0,u=.25,d=Math.pow(2,15),p=function(){function i(t){e(this,i);var r=s.RenderTexture.create({height:h,width:l}),n=new s.Graphics;n.lineStyle(2,c,1),n.beginFill(0,0),n.drawRect(0,0,h,l),n.endFill(),t.render(n,r),this.gridSprite=new s.TilingSprite(r),this.gridSprite.width=o.GameScreen.Width,this.gridSprite.height=o.GameScreen.Height,this.axisSprite=new s.Graphics,this.axisSprite.lineStyle(4,0,1),this.axisSprite.moveTo(0,d),this.axisSprite.lineTo(0,-d),this.axisSprite.moveTo(d,0),this.axisSprite.lineTo(-d,0),this.axisSprite.endFill(),this.container=new s.Container,this.container.addChild(this.gridSprite),this.container.addChild(this.axisSprite),this.gridSprite.alpha=u}return t(i,[{key:"setCamera",value:function(e,i){this.gridSprite.tilePosition.set(e,i),this.axisSprite.position.set(e,i)}},{key:"setEnabled",value:function(e){this.gridSprite.visible=e,this.axisSprite.visible=e}}]),i}();exports.GridObject=p;
},{"pixi.js":"9FmR","../constants":"k/7z"}],"vw9k":[function(require,module,exports) {
"use strict";function o(o){return{x:Math.round(o.x),y:Math.round(-1*o.y)}}function r(o){return{x:Math.round(o.x),y:Math.round(-1*o.y)}}function t(o){return{x:Math.round(o.x),y:Math.round(o.y)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.roundCoords=exports.toPixiCoords=exports.toGameCoords=void 0,exports.toGameCoords=o,exports.toPixiCoords=r,exports.roundCoords=t;
},{}],"t26B":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.hasOwnProperty.call(e,i)&&r(t,e,i);return s(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DebugView=void 0;var o=n(require("pixi.js")),a=require("./grid"),d=require("../coords"),l=5,h=6710886,u=function(){function t(i){e(this,t),this.enabled=!1,this.showGrid=!0,this.worldContainer=new o.Container,this.gameContainer=new o.Container,this.grid=new a.GridObject(i),this.dot=new o.Graphics,this.dot.beginFill(h),this.dot.drawCircle(0,0,l),this.dot.endFill(),this.cursorText=new o.Text("",{fontSize:24}),this.cursorText.position.set(5,5),this.gameContainer.addChild(this.grid.container),this.gameContainer.addChild(this.cursorText),this.worldContainer.addChild(this.dot),this.setEnabled(!1)}return i(t,[{key:"isEnabled",value:function(){return this.enabled}},{key:"toggle",value:function(){this.setEnabled(!this.enabled),console.log("Debug mode",this.enabled?"enabled":"disabled")}},{key:"setCamera",value:function(e,t){this.grid.setCamera(e,t)}},{key:"setEnabled",value:function(e){this.grid.setEnabled(e),this.cursorText.visible=e,this.dot.visible=e,this.worldContainer.visible=e,this.enabled=e}},{key:"resetZoom",value:function(){this.grid.gridSprite.tileScale.set(1),this.grid.axisSprite.scale.set(1),this.grid.gridSprite.pivot.set(0),this.grid.axisSprite.pivot.set(0)}},{key:"zoom",value:function(e){this.grid.gridSprite.tileScale.x*=e,this.grid.gridSprite.tileScale.y*=e,this.grid.axisSprite.scale.x*=e,this.grid.axisSprite.scale.y*=e}},{key:"getDot",value:function(e){var t=100*Math.round(e.x/100),i=100*Math.round(e.y/100),r=Math.abs(t-e.x),s=Math.abs(i-e.y);return{x:r<=10?t:e.x,y:s<=10?i:e.y}}},{key:"setDot",value:function(e){var t=d.toPixiCoords(e);this.dot.position.set(t.x,t.y)}},{key:"setCursorPos",value:function(e){var t=this.getDot(e);this.setDot(t),this.cursorText.text="("+t.x+", "+t.y+")"}},{key:"toggleGrid",value:function(){this.dot.visible=!this.showGrid,this.grid.gridSprite.visible=!this.showGrid,this.grid.axisSprite.visible=!this.showGrid,this.showGrid=!this.showGrid}}]),t}();exports.DebugView=u;
},{"pixi.js":"9FmR","./grid":"SNDV","../coords":"vw9k"}],"C8RQ":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.hasOwnProperty.call(t,i)&&n(e,t,i);return r(e,t),e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SkyBackground=void 0;var s=o(require("pixi.js")),a=-375,h=1e4,u=1e4,l=487123,c=15923197,d=function(){function e(i){t(this,e),this.x=0,this.y=0,this.container=new s.Container;var n=i.textures["sky3b.jpg"];this.sky=new s.TilingSprite(n),this.upper=new s.Graphics,this.upper.beginFill(l),this.upper.drawRect(0,0,u,h),this.upper.position.x=-Math.round(u/2),this.upper.position.y=-h-Math.round(n.height/2)+2,this.upper.endFill(),this.lower=new s.Graphics,this.lower.beginFill(c),this.lower.drawRect(0,0,u,h),this.lower.position.x=-Math.round(u/2),this.lower.position.y=Math.round(n.height/2)-2,this.lower.endFill(),this.sky.anchor.set(.5,.5),this.sky.height=n.height,this.sky.width=65535,this.container.addChild(this.sky),this.container.addChild(this.upper),this.container.addChild(this.lower)}return i(e,[{key:"setPosition",value:function(t,e){var i=Math.round(t),n=Math.round(e);this.x=i,this.y=n+a,this.container.x=i,this.container.y=n+a}},{key:"setCamera",value:function(t,e){var i=Math.round(t/6),n=Math.round(e/3);this.sky.tilePosition.x=i,this.container.y=this.y+n}}]),e}();exports.SkyBackground=d;
},{"pixi.js":"9FmR"}],"pF7b":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}var i;function o(e){return e.type+"/"+e.id}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Entity=exports.entityHash=exports.EntityType=void 0,function(e){e[e.None=0]="None",e[e.Ground=1]="Ground",e[e.Water=2]="Water",e[e.Runway=3]="Runway",e[e.Flag=4]="Flag",e[e.ControlTower=5]="ControlTower",e[e.Hill=6]="Hill",e[e.Plane=7]="Plane",e[e.Trooper=8]="Trooper",e[e.Player=9]="Player",e[e.Explosion=10]="Explosion",e[e.Bullet=11]="Bullet",e[e.Bomb=12]="Bomb"}(i=exports.EntityType||(exports.EntityType={})),exports.entityHash=o;var r=function(){function t(n,i){e(this,t),this.removed=!1,this.id=n,this.world=i}return n(t,[{key:"getId",value:function(){return this.id}},{key:"getType",value:function(){return this.type}},{key:"isChanged",value:function(){return this.changed}},{key:"isRemoved",value:function(){return this.removed}},{key:"setChanged",value:function(e){this.changed=e}},{key:"set",value:function(e,t,n){this[t]!==n&&(void 0===e[this.type]&&(e[this.type]={}),null==e[this.type][this.id]&&(e[this.type][this.id]={type:this.type}),this[t]=n,e[this.type][this.id][t]=n)}},{key:"setData",value:function(e,t){for(var n in t)this.set(e,n,t[n])}}]),t}();exports.Entity=r;
},{}],"P1Jh":[function(require,module,exports) {
"use strict";var e,r,t,o;Object.defineProperty(exports,"__esModule",{value:!0}),exports.SCALE_FACTOR=exports.FacingDirection=exports.Terrain=exports.Team=exports.BuildType=exports.ROTATION_DIRECTIONS=void 0,exports.ROTATION_DIRECTIONS=256,function(e){e.Client="client",e.Server="server"}(e=exports.BuildType||(exports.BuildType={})),function(e){e[e.Centrals=0]="Centrals",e[e.Allies=1]="Allies",e[e.Spectator=2]="Spectator"}(r=exports.Team||(exports.Team={})),function(e){e[e.Normal=0]="Normal",e[e.Desert=1]="Desert"}(t=exports.Terrain||(exports.Terrain={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(o=exports.FacingDirection||(exports.FacingDirection={})),exports.SCALE_FACTOR=100;
},{}],"diZs":[function(require,module,exports) {
"use strict";function r(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function e(r,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}function t(r,t,a){return t&&e(r.prototype,t),a&&e(r,a),r}var a=this&&this.__createBinding||(Object.create?function(r,e,t,a){void 0===a&&(a=t),Object.defineProperty(r,a,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,a){void 0===a&&(a=t),r[a]=e[t]}),i=this&&this.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),n=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)"default"!==t&&Object.hasOwnProperty.call(r,t)&&a(e,r,t);return i(e,r),e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Radar=exports.radarObjects=exports.RADAR_HEIGHT=exports.RADAR_WIDTH=void 0;var s=n(require("pixi.js")),o=require("../../../../dogfight/src/entity"),h=require("../../../../dogfight/src/constants"),d=13095903;exports.RADAR_WIDTH=208,exports.RADAR_HEIGHT=104;var c=425,u=26,p=Math.round(exports.RADAR_WIDTH/2),l=Math.round(exports.RADAR_HEIGHT/2),R=p+c,f=l+u;exports.radarObjects=[o.EntityType.Ground,o.EntityType.Runway,o.EntityType.Plane,o.EntityType.Trooper];var y=16711680,A=255,T=16777215,G=function(){function e(t){r(this,e),this.setTeam(h.Team.Spectator),this.spritesheet=t,this.container=new s.Container,this.background=new s.Graphics,this.radarGraphics=new s.Graphics,this.mask=new s.Graphics,this.background.beginFill(d),this.background.drawRect(0,0,exports.RADAR_WIDTH,exports.RADAR_HEIGHT),this.background.endFill(),this.mask.beginFill(16711935),this.mask.drawRect(0,0,exports.RADAR_WIDTH,exports.RADAR_HEIGHT),this.mask.endFill(),this.container.position.set(R,f),this.background.position.set(-p,-l),this.mask.position.set(-p,-l),this.container.addChild(this.background),this.container.addChild(this.radarGraphics),this.container.addChild(this.mask),this.radarGraphics.mask=this.mask}return t(e,[{key:"centerCamera",value:function(r,e){var t=Math.round(-1*r*exports.RADAR_HEIGHT/1e3),a=Math.round(e*exports.RADAR_HEIGHT/1e3);this.radarGraphics.position.set(t,a)}},{key:"setTeam",value:function(r){this.myTeam=r}},{key:"refreshRadar",value:function(r){this.radarGraphics.clear();var e=r[o.EntityType.Ground];for(var t in e)this.renderGround(e[t]);var a=r[o.EntityType.Trooper];for(var i in a)this.renderObject(a[i]);var n=r[o.EntityType.Plane];for(var s in n)this.renderObject(n[s]);var h=r[o.EntityType.Runway];for(var d in h)this.renderRunway(h[d])}},{key:"renderObject",value:function(r){var e,t=Math.round(r.x*exports.RADAR_HEIGHT/1e3)-1,a=Math.round(-1*r.y*exports.RADAR_HEIGHT/1e3)-1;e=this.myTeam==h.Team.Spectator||r.team==h.Team.Spectator?T:r.team==this.myTeam?A:y,this.radarGraphics.beginFill(e),this.radarGraphics.drawRect(t,a-1,3,3),this.radarGraphics.endFill()}},{key:"renderRunway",value:function(r){if(!(r.health<=0)){var e=Math.round(r.x*exports.RADAR_HEIGHT/1e3)-1,t=Math.round(-1*r.y*exports.RADAR_HEIGHT/1e3)-1;this.radarGraphics.beginFill(16777215),this.radarGraphics.drawRect(e,t+1,3,3),this.radarGraphics.endFill()}}},{key:"renderGround",value:function(r){var e=Math.round((-Math.round(r.width/2)+r.x)*exports.RADAR_HEIGHT/1e3),t=Math.round(-1*r.y*exports.RADAR_HEIGHT/1e3),a=Math.round(r.width*exports.RADAR_HEIGHT/1e3);this.radarGraphics.beginFill(1118481),this.radarGraphics.drawRect(e,t+1,a,2),this.radarGraphics.endFill()}}]),e}();exports.Radar=G;
},{"pixi.js":"9FmR","../../../../dogfight/src/entity":"pF7b","../../../../dogfight/src/constants":"P1Jh"}],"UqKb":[function(require,module,exports) {
"use strict";var e;function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.hasOwnProperty.call(e,i)&&a(t,e,i);return s(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameHud=void 0;var l=o(require("pixi.js")),h=require("../constants"),u=require("./radar"),d=require("../../../../dogfight/src/constants"),c=(r(e={},d.Team.Centrals,"metalpanel.jpg"),r(e,d.Team.Spectator,"metalpanel.jpg"),r(e,d.Team.Allies,"woodpanel.jpg"),e),f=function(){function e(i){t(this,e),this.enabled=!1,this.spritesheet=i,this.container=new l.Container,this.radar=new u.Radar(i),this.infoBars=new l.Graphics,this.bombs=new l.Container;for(var n=0;n<5;n++){var r=this.spritesheet.textures["droppedbomb.gif"],a=new l.Sprite(r);a.position.set(14*n,0),this.bombs.addChild(a)}this.bombs.position.set(296,108);var s=i.textures["metalpanel.jpg"];this.panel=new l.Sprite(s),this.container.addChild(this.panel),this.container.addChild(this.radar.container),this.container.addChild(this.infoBars),this.container.addChild(this.bombs),this.container.position.y=h.GameScreen.Height-s.height,this.setEnabled(!0)}return n(e,[{key:"getPanelHeight",value:function(){return this.panel.height}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){this.enabled=e,this.container.visible=this.enabled}},{key:"setTeam",value:function(e){var t=c[e],i=this.spritesheet.textures[t];this.panel.texture=i,this.radar.setTeam(e)}},{key:"updateFollowObject",value:function(e){this.infoBars.clear(),this.infoBars.beginFill(16777215),void 0!==e.health&&this.infoBars.drawRect(290,44,Math.round(75*e.health/255),12),void 0!==e.fuel&&this.infoBars.drawRect(290,65,Math.round(75*e.fuel/255),12),void 0!==e.ammo&&this.infoBars.drawRect(290,86,Math.round(75*e.ammo/255),12);for(var t=null==e.bombs?0:e.bombs,i=0;i<5;i++){var n=this.bombs.getChildAt(i);n.texture=t>i?this.spritesheet.textures["carrybomb.gif"]:this.spritesheet.textures["droppedbomb.gif"]}this.infoBars.endFill()}}]),e}();exports.GameHud=f;
},{"pixi.js":"9FmR","../constants":"k/7z","./radar":"diZs","../../../../dogfight/src/constants":"P1Jh"}],"oNL/":[function(require,module,exports) {
"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameSprite=void 0;var n=function(){function r(){e(this,r),this.renderables=[],this.renderablesDebug=[]}return t(r,[{key:"update",value:function(e){for(var r in e){var t=e[r];"y"==r&&(t*=-1),this[r]=t}this.redraw()}}]),r}();exports.GameSprite=n;
},{}],"w3oE":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=s();return function(){var r,n=f(t);if(e){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?c(e):r}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),p=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),h=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&l(e,t,r);return p(e,t),e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FlagSprite=void 0;var y=h(require("pixi.js")),v=require("../sprite"),b=require("../constants"),d=require("../../../../dogfight/src/constants"),g="flag_TEAM_N.gif",w=256,_=function(t){o(i,v.GameSprite);var r=a(i);function i(t){var n;e(this,i),(n=r.call(this)).x=0,n.y=0,n.team=d.Team.Centrals,n.spritesheet=t,n.phase=1;var o=n.getTextureString(),a=t.textures[o];return n.container=new y.Container,n.container.zIndex=b.DrawLayer.Flag,n.flag=new y.Sprite(a),n.flag.position.y=-Math.round(a.height/2)-10,n.interval=window.setInterval(function(){n.waveFlag()},w),n.container.addChild(n.flag),n.renderables.push(n.container),n}return n(i,[{key:"waveFlag",value:function(){this.phase=3==this.phase?1:this.phase+1;var t=this.getTextureString();this.flag.texture=this.spritesheet.textures[t]}},{key:"getTextureString",value:function(){var t=this.team==d.Team.Centrals?"ger":"raf";return g.replace("TEAM",t).replace("N",this.phase.toString())}},{key:"redraw",value:function(){var t=this.getTextureString();this.flag.texture=this.spritesheet.textures[t];var e=Math.round(this.container.width/2);this.container.x=this.x-e;this.container.position.y=-this.y-25}},{key:"destroy",value:function(){window.clearInterval(this.interval)}}]),i}();exports.FlagSprite=_;
},{"pixi.js":"9FmR","../sprite":"oNL/","../constants":"k/7z","../../../../dogfight/src/constants":"P1Jh"}],"ELid":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mod=exports.radiansToDirection=exports.directionToRadians=void 0;var r=require("../constants");function t(t){return 2*Math.PI*t/r.ROTATION_DIRECTIONS}function o(t){return Math.round(t*r.ROTATION_DIRECTIONS/(2*Math.PI))}function e(r,t){return(r%t+t)%t}exports.directionToRadians=t,exports.radiansToDirection=o,exports.mod=e;
},{"../constants":"P1Jh"}],"HvmY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scale=exports.setSize=exports.dot=exports.getFacingDirection=exports.getInclination=exports.getAngle=exports.distance=exports.magnitude=exports.rotatePoint=exports.translatePoint=void 0;var t=require("../constants"),e=require("./helpers");function r(t,e){return{x:t.x+e.x,y:t.y+e.y}}function n(t,e){var r=Math.cos(e),n=Math.sin(e);return{x:t.x*r-t.y*n,y:t.x*n+t.y*r}}function o(t){return Math.pow(Math.pow(t.x,2)+Math.pow(t.y,2),.5)}function i(t,e){return o({x:Math.abs(t.x-e.x),y:Math.abs(t.y-e.y)})}function a(r){var n=t.ROTATION_DIRECTIONS/2;return e.mod(Math.round(n*Math.atan2(r.y,r.x)/Math.PI),2*n)}function s(r){var n=t.ROTATION_DIRECTIONS/2;return Math.abs(e.mod(r-n/2,2*n)-n)-n/2}function x(e){return e<3*t.ROTATION_DIRECTIONS/4&&e>t.ROTATION_DIRECTIONS/4?t.FacingDirection.Left:t.FacingDirection.Right}function c(t,e){return t.x*e.x+t.y*e.y}function u(t,e){var r=e/o(t);return{x:t.x*r,y:t.y*r}}function p(t,e){return{x:t.x*e,y:t.y*e}}exports.translatePoint=r,exports.rotatePoint=n,exports.magnitude=o,exports.distance=i,exports.getAngle=a,exports.getInclination=s,exports.getFacingDirection=x,exports.dot=c,exports.setSize=u,exports.scale=p;
},{"../constants":"P1Jh","./helpers":"ELid"}],"v8Ve":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPointRectCollision=exports.isCircleRectCollision=exports.isRectangleCollision=void 0;var e=require("./rectangle"),t=require("./vector"),i=require("./helpers");function r(t,i){for(var r=e.getRotatedRectPoints(t),o=e.getRotatedRectPoints(i),n=e.getRectAxes(r),s=e.getRectAxes(o),c=[n.Axis1,n.Axis2,s.Axis1,s.Axis2],l=0;l<c.length;l++){var a=c[l];if(!e.isCollisionOnAxis(a,r,o))return!1}return!0}function o(e,r){var o={x:-r.center.x,y:-r.center.y},n=t.translatePoint(e.center,o),s=i.directionToRadians(-r.direction),c=t.rotatePoint(n,s),l=c.x,a=c.y,x=r.width/2,d=r.height/2;c.x<-x?l=-x:c.x>x&&(l=x),c.y<-d?a=-d:c.y>d&&(a=d);var u=c.x-l,R=c.y-a;return Math.sqrt(u*u+R*R)<=e.radius}function n(e,r){var o={x:-r.center.x,y:-r.center.y},n=t.translatePoint(e,o),s=i.directionToRadians(-r.direction),c=t.rotatePoint(n,s),l=r.width/2,a=r.height/2;return c.x>=-l&&c.x<=l&&c.y>=-a&&c.y<=a}exports.isRectangleCollision=r,exports.isCircleRectCollision=o,exports.isPointRectCollision=n;
},{"./rectangle":"YWQo","./vector":"HvmY","./helpers":"ELid"}],"YWQo":[function(require,module,exports) {
"use strict";function t(t){return i(t)||n(t)||r(t)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}function n(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function i(t){if(Array.isArray(t))return o(t)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isCollisionOnAxis=exports.projectionToScalar=exports.projectPointToAxis=exports.getRectAxes=exports.getRotatedRectPoints=exports.Rectangle=void 0;var s=require("./vector"),p=require("./helpers"),c=require("./collision"),l=function(){function t(e,r,n,i){a(this,t),this.x=e,this.y=r,this.width=n,this.height=i}return h(t,[{key:"body",value:function(){return{center:{x:this.x,y:this.y},direction:0,height:this.height,width:this.width}}},{key:"getHeight",value:function(){return this.height}},{key:"getWidth",value:function(){return this.width}},{key:"getMinX",value:function(){return this.x-this.width/2}},{key:"getMaxX",value:function(){return this.x+this.width/2}},{key:"getMinY",value:function(){return this.y-this.height/2}},{key:"getMaxY",value:function(){return this.y+this.height/2}},{key:"intersects",value:function(t){return c.isRectangleCollision(this.body(),t.body())}},{key:"intersection",value:function(e){var r=Math.max(this.getMinX(),e.getMinX()),n=Math.max(this.getMinY(),e.getMinY()),i=Math.min(this.getMaxX(),e.getMaxX()),o=Math.min(this.getMaxY(),e.getMaxY());return new t(r+(i-r)/2,n+(o-n)/2,i-r,o-n)}}]),t}();function f(t){var e=Math.round(t.width/2),r=Math.round(t.height/2);return{upperLeft:{x:-e,y:r},upperRight:{x:e,y:r},lowerRight:{x:e,y:-r},lowerLeft:{x:-e,y:-r}}}function y(t){var e=t.center,r=p.directionToRadians(t.direction),n=f(t),i={upperLeft:s.rotatePoint(n.upperLeft,r),upperRight:s.rotatePoint(n.upperRight,r),lowerRight:s.rotatePoint(n.lowerRight,r),lowerLeft:s.rotatePoint(n.lowerLeft,r)};return i.upperLeft=s.translatePoint(i.upperLeft,e),i.upperRight=s.translatePoint(i.upperRight,e),i.lowerRight=s.translatePoint(i.lowerRight,e),i.lowerLeft=s.translatePoint(i.lowerLeft,e),i}function g(t){return{Axis1:{x:t.upperRight.x-t.upperLeft.x,y:t.upperRight.y-t.upperLeft.y},Axis2:{x:t.upperRight.x-t.lowerRight.x,y:t.upperRight.y-t.lowerRight.y}}}function x(t,e){var r=function(t,e){return(t.x*e.x+t.y*e.y)/(Math.pow(e.x,2)+Math.pow(e.y,2))};return{x:r(t,e)*e.x,y:r(t,e)*e.y}}function d(t,e){return t.x*e.x+t.y*e.y}function w(t,e){return d(x(t,e),e)}function M(t,e){return[w(t.upperLeft,e),w(t.upperRight,e),w(t.lowerRight,e),w(t.lowerLeft,e)]}function R(e,r,n){var i=M(r,e),o=M(n,e),a=Math.min.apply(Math,t(i)),u=Math.max.apply(Math,t(i)),h=Math.min.apply(Math,t(o)),s=Math.max.apply(Math,t(o));return h<=u&&s>=a}exports.Rectangle=l,exports.getRotatedRectPoints=y,exports.getRectAxes=g,exports.projectPointToAxis=x,exports.projectionToScalar=d,exports.isCollisionOnAxis=R;
},{"./vector":"HvmY","./helpers":"ELid","./collision":"v8Ve"}],"bod7":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=f();return function(){var n,i=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?l(e):n}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SolidEntity=void 0;var a=require("../entity"),h=function(t){o(r,a.Entity);var n=u(r);function r(t,i,o){var u;return e(this,r),(u=n.call(this,t,i)).team=-1,u}return i(r,[{key:"getCollisionImage",value:function(){return null}},{key:"checkCollisionWith",value:function(t){if(t.isAlive()&&this.getCollisionBounds().intersects(t.getCollisionBounds())){var e,n=t.getCollisionBounds(),i=this.getCollisionBounds(),o=i.intersection(n),r=this.getCollisionImage(),u=t.getCollisionImage();if(null==r&&null==u)return!0;if(null==r){var c=this.getPix(u,o,n);for(e=0;e<c.length;e++)if(255==c[e])return i.x!=o.x||(i.y,o.y),!0;return!1}if(null==u){var l=this.getPix(r,o,i);for(e=0;e<l.length;e++)if(255==l[e])return!0;return!1}i.x!=o.x||(i.y,o.y);var f=this.getPix(r,o,i),s=this.getPix(u,o,n);return this.checkPix(o,f,s)}return!1}},{key:"getPix",value:function(t,e,n){for(var i=-Math.round(n.getMinX()-e.getMinX()),o=Math.round(n.getMaxY()-e.getMaxY()),r=[],u=t.data,c=o;c<o+e.height;c++)for(var l=i;l<i+e.width;l++)r.push(u[4*(l+c*n.width)+3]);return r}},{key:"checkPix",value:function(t,e,n){for(var i=0;i<t.getHeight();i++)for(var o=0;o<t.getWidth();o++)if(255==e[i*t.width+o]&&255==n[i*t.width+o])return!0;return!1}},{key:"checkCollisionWith2",value:function(t){return this.checkCollisionWith(t)!=t.checkCollisionWith(this)&&console.log("WTTTFFF"),this.checkCollisionWith(t)}},{key:"checkCollision",value:function(){var t=this,e=!1;return this.world.getEntities().forEach(function(n){n.forEach(function(n){if(n instanceof r&&n!=t){var i=n;i.isAlive()&&t.checkCollisionWith(i)&&(e=!0,t.hit(i),i.hit(t))}})}),e}},{key:"hit",value:function(t){}},{key:"getTeam",value:function(){return this.team}},{key:"isAlive",value:function(){return!0}}]),r}();exports.SolidEntity=h;
},{"../entity":"pF7b"}],"FzLS":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=s();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?f(e):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getGroundRect=exports.Ground=void 0;var a=require("../entity"),y=require("../physics/rectangle"),p=require("./SolidEntity"),h=function(t){o(i,p.SolidEntity);var n=u(i);function i(t,r,o){var u,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return e(this,i),(u=n.call(this,t,r,-1)).type=a.EntityType.Ground,u.yHitOffset=6.5,u.image=r.getImage("ground1.gif"),u.setData(o,{x:c,y:f,width:s,terrain:l}),u}return r(i,[{key:"getCollisionBounds",value:function(){return new y.Rectangle(this.x,this.y-this.image.getHeight()/2-this.yHitOffset,this.width,this.image.getHeight())}},{key:"getState",value:function(){return{type:this.type,x:this.x,y:this.y,width:this.width,terrain:this.terrain}}}]),i}();function d(t,e,n){return{width:n,height:40,center:{x:t,y:e-25},direction:0}}exports.Ground=h,exports.getGroundRect=d;
},{"../entity":"pF7b","../physics/rectangle":"YWQo","./SolidEntity":"bod7"}],"1ASH":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=a();return function(){var r,n=h(e);if(t){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?s(t):r}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),d=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&f(t,e,r);return d(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.GroundSprite=void 0;var b=l(require("pixi.js")),p=require("../sprite"),g=require("../constants"),y=require("../../../../dogfight/src/constants"),x=require("../../../../dogfight/src/entities/Ground"),w=function(e){i(o,p.GameSprite);var r=u(o);function o(e){var n;return t(this,o),(n=r.call(this)).once=!0,n.x=0,n.y=0,n.terrain=y.Terrain.Normal,n.width=500,n.spritesheet=e,n.container=new b.Container,n.debug=new b.Graphics,n.debug.zIndex=g.DrawLayer.Ground,n.beachLeft=new b.Sprite(e.textures["beach-l.gif"]),n.beachRight=new b.Sprite(e.textures["beach-l.gif"]),n.desertLeft=e.textures["beach-l_desert.gif"],n.desertRight=e.textures["beach-l_desert.gif"],n.textureGround=e.textures["ground1.gif"],n.textureDesert=e.textures["groundDesert.gif"],n.ground=new b.TilingSprite(n.textureGround),n.ground.height=n.textureGround.height,n.container.addChild(n.ground),n.container.addChild(n.beachLeft),n.container.addChild(n.beachRight),n.container.zIndex=g.DrawLayer.Ground,n.renderables.push(n.container),n.renderablesDebug.push(n.debug),n}return n(o,[{key:"drawDebug",value:function(){var e=x.getGroundRect(this.x,this.y,this.width);this.debug.clear(),this.debug.beginFill(65280);var t=e.width/2,r=e.height/2;this.debug.drawRect(-t,-r,e.width,e.height),this.debug.position.set(e.center.x,-1*e.center.y),this.debug.endFill()}},{key:"redraw",value:function(){this.once&&this.terrain==y.Terrain.Desert&&(this.ground.texture=this.textureDesert,this.beachLeft.texture=this.desertLeft,this.beachRight.texture=this.desertRight,this.once=!1),this.ground.width=this.width,this.beachRight.scale.x=-1,this.beachLeft.position.x=0,this.ground.position.x=this.beachLeft.width,this.beachRight.position.x=this.ground.position.x+this.ground.width+this.beachRight.width;var e=Math.round(this.container.width/2);this.container.x=this.x-e,this.drawDebug()}},{key:"destroy",value:function(){}}]),o}();exports.GroundSprite=w;
},{"pixi.js":"9FmR","../sprite":"oNL/","../constants":"k/7z","../../../../dogfight/src/constants":"P1Jh","../../../../dogfight/src/entities/Ground":"FzLS"}],"D35m":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=l();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?f(e):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getWaterRect=exports.Water=void 0;var s=require("../constants"),y=require("../entity"),p=require("../physics/rectangle"),h=require("./SolidEntity"),d=function(t){o(i,h.SolidEntity);var n=c(i);function i(t,r,o){var c,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3e4,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:s.FacingDirection.Right;return e(this,i),(c=n.call(this,t,r,-1)).type=y.EntityType.Water,c.setData(o,{x:u,y:f,width:l,direction:a}),c}return r(i,[{key:"getCollisionBounds",value:function(){return new p.Rectangle(this.x,this.y+5-50,this.width,100)}},{key:"getState",value:function(){return{type:this.type,x:this.x,y:this.y,width:this.width,direction:this.direction}}}]),i}();function b(t,e,n){return{direction:0,width:n,height:1e3,center:{x:t,y:e-510}}}exports.Water=d,exports.getWaterRect=b;
},{"../constants":"P1Jh","../entity":"pF7b","../physics/rectangle":"YWQo","./SolidEntity":"bod7"}],"04Tf":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=c();return function(){var r,n=h(e);if(t){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?s(t):r}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&l(t,e,r);return f(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.WaterSprite=void 0;var w=d(require("pixi.js")),p=require("../sprite"),v=require("../constants"),y=require("../../../../dogfight/src/constants"),b=require("../../../../dogfight/src/entities/Water"),g=200,x=1e4,_="wave-l_N.gif",O=function(e){i(o,p.GameSprite);var r=a(o);function o(e){var n;t(this,o),(n=r.call(this)).x=0,n.y=0,n.width=500,n.direction=y.FacingDirection.Right,n.color=v.WaterColor.Normal,n.wavePhase=1,n.spritesheet=e,n.container=new w.Container,n.debug=new w.Graphics,n.debug.zIndex=v.DrawLayer.Water,n.water=new w.Graphics;var i=n.getWaveTextureString(),a=e.textures[i];return n.waves=new w.TilingSprite(a),n.waves.height=a.height,n.container=new w.Container,n.container.zIndex=v.DrawLayer.Water,n.debug.zIndex=v.DrawLayer.Water,n.container.addChild(n.water),n.container.addChild(n.waves),n.windowInterval=window.setInterval(function(){n.phaseWave()},g),n.renderables.push(n.container),n.renderablesDebug.push(n.debug),n}return n(o,[{key:"phaseWave",value:function(){this.wavePhase=7==this.wavePhase?1:this.wavePhase+1;var e=this.getWaveTextureString(),t=this.spritesheet.textures[e];this.waves.texture=t}},{key:"getWaveTextureString",value:function(){return _.replace("N",this.wavePhase.toString())}},{key:"redraw",value:function(){this.water.clear(),this.water.beginFill(this.color),this.water.drawRect(0,0,this.width,x),this.water.endFill(),this.waves.width=this.width,this.direction==y.FacingDirection.Right&&(this.waves.scale.x=-1,this.waves.position.x=this.waves.width);var e=Math.round(this.container.width/2);this.container.x=this.x-e,this.container.y=this.y,this.drawDebug()}},{key:"drawDebug",value:function(){var e=b.getWaterRect(this.x,-this.y,this.width);this.debug.clear(),this.debug.beginFill(255);var t=e.width/2,r=e.height/2;this.debug.drawRect(-t,-r,e.width,e.height),this.debug.position.set(e.center.x,-1*e.center.y),this.debug.endFill()}},{key:"destroy",value:function(){window.clearInterval(this.windowInterval)}}]),o}();exports.WaterSprite=O;
},{"pixi.js":"9FmR","../sprite":"oNL/","../constants":"k/7z","../../../../dogfight/src/constants":"P1Jh","../../../../dogfight/src/entities/Water":"D35m"}],"Dcvp":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=f();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?a(e):r}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),p=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),h=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&l(e,t,r);return p(e,t),e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TowerSprite=void 0;var y=h(require("pixi.js")),d=require("../sprite"),b=require("../constants"),w=require("../../../../dogfight/src/constants"),v=function(t){o(i,d.GameSprite);var r=c(i);function i(t){var n;e(this,i),(n=r.call(this)).x=0,n.y=0,n.terrain=w.Terrain.Normal,n.direction=w.FacingDirection.Right,n.spritesheet=t,n.container=new y.Container;var o=t.textures["controlTower.gif"];return n.tower=new y.Sprite(o),n.tower.position.y=-o.height,n.towerWidth=o.width,n.container.addChild(n.tower),n.container.zIndex=b.DrawLayer.ControlTower,n.renderables.push(n.container),n}return n(i,[{key:"redraw",value:function(){this.direction==w.FacingDirection.Left?(this.tower.scale.x=-1,this.tower.position.x=this.towerWidth):(this.tower.scale.x=1,this.tower.position.x=0);var t=this.terrain==w.Terrain.Normal?"controlTower.gif":"controlTowerDesert.gif";this.tower.texture=this.spritesheet.textures[t];var e=Math.round(this.container.width/2);this.container.x=this.x-e;this.container.position.y=5-this.y}},{key:"destroy",value:function(){}}]),i}();exports.TowerSprite=v;
},{"pixi.js":"9FmR","../sprite":"oNL/","../constants":"k/7z","../../../../dogfight/src/constants":"P1Jh"}],"foZe":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=l();return function(){var r,n=f(t);if(e){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}function a(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?c(e):r}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),h=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),p=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&s(e,t,r);return h(e,t),e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.HillSprite=void 0;var y=p(require("pixi.js")),d=require("../sprite"),b=require("../constants"),v=require("../../../../dogfight/src/constants"),m=function(t){i(o,d.GameSprite);var r=u(o);function o(t,n){var i;e(this,o),(i=r.call(this)).x=0,i.y=0,i.terrain=v.Terrain.Normal,i.spritesheet=t,i.parent=n,i.container=new y.Container;var u=t.textures["hill1.gif"];return i.hill=new y.Sprite(u),i.hill.position.x=-i.hill.width/2,i.hill.position.y=-i.hill.height/2,i.maxY=u.height/2-5,i.container.addChild(i.hill),i.container.zIndex=b.DrawLayer.Hill,i.renderables.push(i.container),i}return n(o,[{key:"redraw",value:function(){var t=this.terrain==v.Terrain.Normal?"hill1.gif":"sandhill.gif";this.hill.texture=this.spritesheet.textures[t],this.setCamera()}},{key:"setCamera",value:function(){var t=Math.round(b.GameScreen.Width/2),e=Math.round(b.GameScreen.Height/2),r=this.parent.toLocal(new y.Point(t,e)),n=this.x-r.x,i=this.y-r.y,o=Math.round(this.x-n/8),u=Math.round(this.y-i/9),a=-Math.round(this.maxY/2);u>this.maxY&&(u=this.maxY),u<a&&(u=a),this.container.position.set(o,u)}},{key:"destroy",value:function(){}}]),o}();exports.HillSprite=m;
},{"pixi.js":"9FmR","../sprite":"oNL/","../constants":"k/7z","../../../../dogfight/src/constants":"P1Jh"}],"7WUj":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=h();return function(){var r,n=c(t);if(e){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?s(e):r}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),f=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),p=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&l(e,t,r);return f(e,t),e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.RunwaySprite=void 0;var y=p(require("pixi.js")),b=require("../sprite"),d=require("../../../../dogfight/src/constants"),w=require("../constants"),v=3,g=function(t){i(a,b.GameSprite);var r=o(a);function a(t){var n;e(this,a),(n=r.call(this)).x=0,n.y=0,n.direction=d.FacingDirection.Right,n.team=d.Team.Centrals,n.health=255,n.spritesheet=t;var i=t.textures["runway.gif"],o=t.textures["runway2b.gif"];return n.runwayWidth=i.width,n.runway=new y.Sprite(i),n.backpart=new y.Sprite(o),n.backpart.visible=!1,n.healthBar=new y.Graphics,n.healthBar.position.x=10,n.healthBar.position.y=i.height-4,n.runway.zIndex=w.DrawLayer.Runway,n.healthBar.zIndex=w.DrawLayer.Runway,n.backpart.zIndex=w.DrawLayer.RunwayBack,n.renderables.push(n.runway),n.renderables.push(n.backpart),n.renderables.push(n.healthBar),n}return n(a,[{key:"redraw",value:function(){if(this.direction==d.FacingDirection.Right){var t=this.health>0?"runway.gif":"runway_broke.gif";this.runway.texture=this.spritesheet.textures[t],this.backpart.visible=!1}else{var e=this.health>0?"runway2.gif":"runway2_broke.gif";this.runway.texture=this.spritesheet.textures[e],this.backpart.visible=this.health>0}var r=Math.round(this.runway.width/2);this.runway.x=this.x-r,this.backpart.position.x=this.x+76,this.backpart.position.y=this.y-25;this.runway.position.y=this.y-25,this.drawHealthBar()}},{key:"drawHealthBar",value:function(){if(this.health<=0)this.healthBar.visible=!1;else{this.healthBar.visible=!0,this.healthBar.position.y=this.y+7,this.healthBar.position.x=this.x-Math.round(this.runwayWidth/2)+10,this.direction==d.FacingDirection.Left&&(this.healthBar.position.x+=4);var t=this.team==d.Team.Allies?w.TeamColor.OpponentBackground:w.TeamColor.OwnBackground,e=Math.round((this.runwayWidth-20)*(this.health/255));this.healthBar.clear(),this.healthBar.beginFill(t),this.healthBar.drawRect(0,0,e,v),this.healthBar.endFill()}}},{key:"destroy",value:function(){}}]),a}();exports.RunwaySprite=g;
},{"pixi.js":"9FmR","../sprite":"oNL/","../../../../dogfight/src/constants":"P1Jh","../constants":"k/7z"}],"6bDj":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=a();return function(){var r,n=l(e);if(t){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?f(t):r}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),y=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return p(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PlayerSprite=void 0;var b=y(require("pixi.js")),h=require("../sprite"),d=require("../constants"),v=function(e){o(i,h.GameSprite);var r=u(i);function i(e){var n;return t(this,i),(n=r.call(this)).spritesheet=e,n.container=new b.Container,n.container.zIndex=d.DrawLayer.Player,n}return n(i,[{key:"redraw",value:function(){}},{key:"destroy",value:function(){}}]),i}();exports.PlayerSprite=v;
},{"pixi.js":"9FmR","../sprite":"oNL/","../constants":"k/7z"}],"gjMS":[function(require,module,exports) {
"use strict";var E,_;Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameKey=exports.InputKey=void 0,function(E){E[E.Left=0]="Left",E[E.Right=1]="Right",E[E.Up=2]="Up",E[E.Down=3]="Down",E[E.Fire=4]="Fire",E[E.Bomb=5]="Bomb",E[E.Jump=6]="Jump",E[E.Enter=7]="Enter"}(E=exports.InputKey||(exports.InputKey={})),function(E){E[E.PLANE_UP=0]="PLANE_UP",E[E.PLANE_DOWN=1]="PLANE_DOWN",E[E.PLANE_SHOOT=2]="PLANE_SHOOT",E[E.PLANE_BOMB=3]="PLANE_BOMB",E[E.PLANE_MOTOR=4]="PLANE_MOTOR",E[E.PLANE_FLIP=5]="PLANE_FLIP",E[E.PLANE_JUMP=6]="PLANE_JUMP",E[E.MAN_PARACHUTE=7]="MAN_PARACHUTE",E[E.MAN_LEFT=8]="MAN_LEFT",E[E.MAN_RIGHT=9]="MAN_RIGHT",E[E.MAN_SHOOT=10]="MAN_SHOOT",E[E.MAN_SUICIDE=11]="MAN_SUICIDE",E[E.PLANE_CHOOSER_PREVIOUS_PLANE=12]="PLANE_CHOOSER_PREVIOUS_PLANE",E[E.PLANE_CHOOSER_NEXT_PLANE=13]="PLANE_CHOOSER_NEXT_PLANE",E[E.PLANE_CHOOSER_PREVIOUS_RUNWAY=14]="PLANE_CHOOSER_PREVIOUS_RUNWAY",E[E.PLANE_CHOOSER_NEXT_RUNWAY=15]="PLANE_CHOOSER_NEXT_RUNWAY",E[E.PLANE_CHOOSER_CHOOSE=16]="PLANE_CHOOSER_CHOOSE",E[E.TEAM_CHOOSER_PREVIOUS=17]="TEAM_CHOOSER_PREVIOUS",E[E.TEAM_CHOOSER_NEXT=18]="TEAM_CHOOSER_NEXT",E[E.TEAM_CHOOSER_CHOOSE=19]="TEAM_CHOOSER_CHOOSE",E[E.INTERMISSION_READY=20]="INTERMISSION_READY",E[E.GHOST_PREVIOUS=21]="GHOST_PREVIOUS",E[E.GHOST_NEXT=22]="GHOST_NEXT"}(_=exports.GameKey||(exports.GameKey={}));
},{}],"PAeC":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=f();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?s(t):n}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.OwnableSolidEntity=void 0;var y=require("./SolidEntity"),a=function(e){o(u,y.SolidEntity);var n=i(u);function u(){var e;return t(this,u),(e=n.apply(this,arguments)).pressedKeys=[],e}return r(u,[{key:"isKeyPressed",value:function(e){return null!=this.pressedKeys[e]&&this.pressedKeys[e]}},{key:"setKeyPressed",value:function(e,t){this.pressedKeys[e]=t}},{key:"keyPressed",value:function(e){this.pressedKeys[e]=!0}},{key:"keyReleased",value:function(e){this.pressedKeys[e]=!1}},{key:"keyTyped",value:function(e){}}]),u}();exports.OwnableSolidEntity=a;
},{"./SolidEntity":"bod7"}],"F43/":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=l();return function(){var o,n=c(t);if(e){var i=c(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return r(this,o)}}function r(e,o){return!o||"object"!==t(o)&&"function"!=typeof o?u(e):o}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PlayerInfo=exports.PlayerStatus=void 0;var h,f=require("../entity"),y=require("../constants"),m=require("../input"),p=require("./Plane");!function(t){t[t.Playing=0]="Playing",t[t.Takeoff=1]="Takeoff",t[t.Spectating=2]="Spectating"}(h=exports.PlayerStatus||(exports.PlayerStatus={}));var b=function(t){i(s,f.Entity);var o=a(s);function s(t,n,i){var a;for(var r in e(this,s),(a=o.call(this,t,n)).type=f.EntityType.Player,a.fuelMax=255,a.healthMax=255,a.ammoMax=255,a.bombsMax=5,a.teamKills=0,a.fuel=a.fuelMax,a.health=a.healthMax,a.ammo=a.ammoMax,a.bombs=a.bombsMax,a.localfuel=a.fuelMax,a.localhealth=a.healthMax,a.localammo=a.ammoMax,a.localbombs=a.bombsMax,a.frags=0,a.score=0,a.deaths=0,a.shots=0,a.hits=0,a.precision=0,a.bombhits=new Array(8).fill(0).map(function(){return new Array(2).fill(0)}),a.bullethits=new Array(8).fill(0).map(function(){return new Array(2).fill(0)}),a.name="Player_"+a.id,a.controlType=f.EntityType.None,a.controlID=0,a.team=y.Team.Spectator,a.setStatus(i,h.Takeoff),a.setPing(i,0),a.inputState={},m.InputKey)a.inputState[r]=!1;return a}return n(s,[{key:"getTeam",value:function(){return this.team}},{key:"setTeam",value:function(t){this.set(this.world.cache,"team",t)}},{key:"getControlId",value:function(){return this.controlID}},{key:"getControlType",value:function(){return this.controlType}},{key:"isControlling",value:function(t){return t.getId()==this.getControlId()&&t.getType()==this.getControlType()}},{key:"setHealthMax",value:function(t){this.healthMax=t}},{key:"setFuelMax",value:function(t){this.fuelMax=t}},{key:"setAmmoMax",value:function(t){this.ammoMax=t}},{key:"getFuel",value:function(){return this.localfuel}},{key:"setFuel",value:function(t){this.localfuel=t,this.set(this.world.cache,"fuel",Math.round(t/this.fuelMax*255))}},{key:"getHealth",value:function(){return this.localhealth}},{key:"setHealth",value:function(t){t<0&&(t=0),this.localhealth=t,this.set(this.world.cache,"health",Math.round(t/this.healthMax*255))}},{key:"getAmmo",value:function(){return this.localammo}},{key:"setAmmo",value:function(t){this.localammo=t,this.set(this.world.cache,"ammo",Math.round(t/this.ammoMax*255))}},{key:"getBombs",value:function(){return this.bombs}},{key:"setBombs",value:function(t){this.set(this.world.cache,"bombs",t)}},{key:"setName",value:function(t,e){this.set(t,"name",e)}},{key:"setPing",value:function(t,e){this.set(t,"ping",e)}},{key:"setStatus",value:function(t,e){this.set(t,"status",e)}},{key:"setControl",value:function(t,e,o){this.set(t,"controlType",e),this.set(t,"controlID",o)}},{key:"getFrags",value:function(){return this.frags}},{key:"setFrags",value:function(t){this.set(this.world.cache,"frags",t)}},{key:"getScore",value:function(){return this.score}},{key:"setScore",value:function(t){this.set(this.world.cache,"score",t)}},{key:"getDeaths",value:function(){return this.deaths}},{key:"setDeaths",value:function(t){this.set(this.world.cache,"deaths",t)}},{key:"setPrecision",value:function(t){this.set(this.world.cache,"precision",t)}},{key:"ownableToArrayIndex",value:function(t){var e=0;switch(null==t?0:t.getRootOwner().getType()){case f.EntityType.Plane:e=t.getRootOwner().planeType+2;break;case f.EntityType.Trooper:e=0==t.getRootOwner().getTeam()?0:1}return e}},{key:"submitBullet",value:function(t,e){var o=this.ownableToArrayIndex(t);this.shots+=1,e&&(this.hits+=1),this.setPrecision(Math.round(100*this.hits/this.shots)),this.bullethits[o][0]+=1,e&&(this.bullethits[o][1]+=1)}},{key:"submitBomb",value:function(t,e,o){o&&this.adjustScore(2,t);var n=this.ownableToArrayIndex(t);this.bombhits[n][0]+=1,e&&(this.bombhits[n][1]+=1)}},{key:"submitTeamBomb",value:function(t,e){e&&this.adjustScore(-1,t);var o=this.ownableToArrayIndex(t);this.bombhits[o][0]+=1}},{key:"submitKill",value:function(t,e){this.adjustFrags(1),this.adjustScore(10,t),p.Plane}},{key:"submitTeamKill",value:function(t,e){this.adjustFrags(-1),this.adjustScore(-8,t),p.Plane;var o=Date.now();this.firstTeamKillTime+9e4<o?(this.firstTeamKillTime=o,this.teamKills=1):this.teamKills=1,this.teamKills}},{key:"submitParachute",value:function(t,e){}},{key:"adjustFrags",value:function(t){this.setFrags(this.getFrags()+t)}},{key:"adjustScore",value:function(t,e){this.world.isRoundOver()||(this.setScore(this.getScore()+t),this.world.adjustScore(this.getTeam(),t))}},{key:"submitSuicide",value:function(t){this.adjustScore(-5,t)}},{key:"submitDeath",value:function(t){this.setDeaths(this.getDeaths()+1),p.Plane}},{key:"getState",value:function(){return{type:this.type,name:this.name,team:this.team,ping:this.ping,controlType:this.controlType,controlID:this.controlID,status:this.status,fuel:this.fuel,ammo:this.ammo,health:this.health,bombs:this.bombs,frags:this.frags,score:this.score,deaths:this.deaths,precision:this.precision}}}]),s}();exports.PlayerInfo=b;
},{"../entity":"pF7b","../constants":"P1Jh","../input":"gjMS","./Plane":"OCWf"}],"vWFO":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=h();return function(){var i,n=c(t);if(e){var o=c(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,i){return!i||"object"!==t(i)&&"function"!=typeof i?u(e):i}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBombRect=exports.Bomb=exports.bombGlobals=void 0;var l=require("../entity"),y=require("../constants"),f=require("../physics/helpers"),p=require("../physics/rectangle"),d=require("./Plane"),g=require("./OwnableSolidEntity");exports.bombGlobals={gravity:425,drag:.005,cooldown:500};var m=function(t){o(r,g.OwnableSolidEntity);var i=s(r);function r(t,n,o,s,a,u,h,c){var f;return e(this,r),(f=i.call(this,t,n,c.getTeam())).type=l.EntityType.Bomb,f.filename="bomb.gif",f.setDirection(o,u),f.setSpeed(o,h*y.SCALE_FACTOR),f.image=n.getImage(f.filename),f.width=f.image.width,f.height=f.image.height,f.origin=c,f.setPos(o,s-Math.cos(f.radians)*f.width/2-Math.sin(f.radians)*f.height/2,a-Math.sin(f.radians)*f.width/2+Math.cos(f.radians)*f.height/2),f.setData(o,{age:0,x:s,y:a,direction:u,droppedBy:c.getPlayerInfo().id,team:c.getTeam()}),f}return n(r,[{key:"getPlayerInfo",value:function(){return this.origin.getPlayerInfo()}},{key:"getRootOwner",value:function(){return this.origin.getRootOwner()}},{key:"getCollisionBounds",value:function(){return new p.Rectangle(this.x,this.y,this.width,this.height)}},{key:"getCollisionImage",value:function(){return this.world.getImage(this.filename+"_rot_"+f.radiansToDirection(this.radians)+"_flip_"+!1)}},{key:"tick",value:function(t,e){this.move(t,e),this.ageBomb(t,e),this.checkCollision()}},{key:"ageBomb",value:function(t,e){this.age+=e}},{key:"hit",value:function(t){console.log("bomb - hit"),null==t?(this.getPlayerInfo().submitBomb(this,!1,!1),this.world.removeEntity(this)):null!=this.origin&&this.origin===t||(t.getType()==l.EntityType.ControlTower||t.getType()==l.EntityType.Runway?t.getTeam()==this.getTeam()?this.getPlayerInfo().submitTeamBomb(this,!0):this.getPlayerInfo().submitBomb(this,!0,!0):t instanceof d.Plane?t.getTeam()==this.getTeam()?this.getPlayerInfo().submitTeamBomb(this,!1):this.getPlayerInfo().submitBomb(this,!0,!1):this.getPlayerInfo().submitBomb(this,!1,!1),this.world.removeEntity(this),t.getType()!=l.EntityType.Water&&this.world.createExplosion(this.x,this.y,this))}},{key:"move",value:function(t,e){var i=e/1e3,n=1*i,o=1e3*i/3;this.localX+=this.xSpeed*i*y.SCALE_FACTOR,this.localY+=this.ySpeed*i*y.SCALE_FACTOR,this.xSpeed-=this.xSpeed*n,this.ySpeed-=o,this.radians=Math.atan2(this.ySpeed,this.xSpeed),this.setData(t,{x:Math.round(this.localX/y.SCALE_FACTOR),y:Math.round(this.localY/y.SCALE_FACTOR),direction:f.radiansToDirection(this.radians)})}},{key:"setSpeed",value:function(t,e){this.xSpeed=Math.cos(this.radians)*Math.round(e),this.ySpeed=Math.sin(this.radians)*Math.round(e)}},{key:"setDirection",value:function(t,e){this.radians=f.directionToRadians(e),this.set(t,"direction",e)}},{key:"setPos",value:function(t,e,i){this.localX=e*y.SCALE_FACTOR,this.localY=i*y.SCALE_FACTOR,this.setData(t,{x:e,y:i})}},{key:"getState",value:function(){return{type:this.type,age:this.age,x:this.x,y:this.y,direction:f.radiansToDirection(this.radians)}}}]),r}();function b(t,e,i){return{width:7,height:10,center:{x:t,y:e},direction:i}}exports.Bomb=m,exports.getBombRect=b;
},{"../entity":"pF7b","../constants":"P1Jh","../physics/helpers":"ELid","../physics/rectangle":"YWQo","./Plane":"OCWf","./OwnableSolidEntity":"PAeC"}],"rk7a":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=l();return function(){var n,o=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?u(t):n}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Explosion=exports.explosionGlobals=void 0;var f=require("../entity"),y=require("./OwnableSolidEntity"),p=require("../physics/rectangle");exports.explosionGlobals={duration:500,despawnTime:1e3,damage:25,radius:35};var h=function(e){r(i,y.OwnableSolidEntity);var n=s(i);function i(e,o,r,s,a,u){var l;return t(this,i),(l=n.call(this,e,o,s.getPlayerInfo().getTeam())).type=f.EntityType.Explosion,l.collisionCheck=0,l.affectedObjects={},l.playerInfo=s.getPlayerInfo(),l.image=o.getImage("explosion0004.gif"),l.setTeam(r,l.playerInfo.getTeam()),l.setPlayerID(r,l.playerInfo.getId()),l.setData(r,{x:a,y:u,age:0}),l}return o(i,[{key:"setTeam",value:function(e,t){this.set(e,"team",t)}},{key:"setPlayerID",value:function(e,t){this.set(e,"playerID",t)}},{key:"tick",value:function(e,t){if(this.age+=t,this.age>=560)this.world.removeEntity(this);else{var n=this.age/70;n!=this.phase&&(this.phase=n,this.phase>2&&0==this.collisionCheck&&(this.collisionCheck=1,this.checkCollision(),this.collisionCheck=2),this.setChanged(!0))}}},{key:"getCollisionBounds",value:function(){return 1==this.collisionCheck?new p.Rectangle(this.x,this.y,this.image.getWidth(),this.image.getHeight()):new p.Rectangle(0,0,0,0)}},{key:"getCollisionImage",value:function(){return this.image}},{key:"hit",value:function(e){}},{key:"getPlayerInfo",value:function(){return this.playerInfo}},{key:"getRootOwner",value:function(){return this.origin.getRootOwner()}},{key:"getState",value:function(){return{type:this.type,x:this.x,y:this.y,age:this.age}}}]),i}();exports.Explosion=h;
},{"../entity":"pF7b","./OwnableSolidEntity":"PAeC","../physics/rectangle":"YWQo"}],"OCWf":[function(require,module,exports) {
"use strict";var t,e,i,a;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function l(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=p();return function(){var i,a=g(t);if(e){var s=g(this).constructor;i=Reflect.construct(a,arguments,s)}else i=a.apply(this,arguments);return u(this,i)}}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPlaneRect=exports.Plane=exports.destroyPlane=exports.teamPlanes=exports.planeData=exports.PlaneRotation=exports.PlaneMode=exports.flipAnimation=exports.frameTextureString=exports.FrameStatus=exports.planeImageIDs=exports.PlaneType=exports.planeGlobals=exports.infoHUD=void 0;var y,m,x,v,w=require("../entity"),P=require("../constants"),b=require("../input"),k=require("../physics/rectangle"),M=require("../physics/helpers"),C=require("./PlayerInfo"),S=require("./Man"),T=require("./Bullet"),A=require("./Bomb"),I=require("./OwnableSolidEntity"),F=require("./Explosion");exports.infoHUD={speed:0,altitude:0,inclination:0,maxAscentAngle:0},exports.planeGlobals={w0:Math.round(P.ROTATION_DIRECTIONS/2),gravity:425,feather:16,dragPower:2},function(t){t[t.Albatros=0]="Albatros",t[t.Junkers=1]="Junkers",t[t.Fokker=2]="Fokker",t[t.Bristol=3]="Bristol",t[t.Salmson=4]="Salmson",t[t.Sopwith=5]="Sopwith"}(y=exports.PlaneType||(exports.PlaneType={})),exports.planeImageIDs=(f(t={},y.Albatros,4),f(t,y.Fokker,6),f(t,y.Junkers,5),f(t,y.Bristol,7),f(t,y.Sopwith,9),f(t,y.Salmson,8),t),function(t){t[t.Normal=0]="Normal",t[t.Flip1=1]="Flip1",t[t.Flip2=2]="Flip2"}(m=exports.FrameStatus||(exports.FrameStatus={})),exports.frameTextureString=(f(e={},m.Normal,"planeX.gif"),f(e,m.Flip1,"planeX_flip1.gif"),f(e,m.Flip2,"planeX_flip2.gif"),e),exports.flipAnimation=[m.Flip1,m.Flip2,m.Flip1,m.Normal],function(t){t[t.Flying=0]="Flying",t[t.Landing=1]="Landing",t[t.Landed=2]="Landed",t[t.TakingOff=3]="TakingOff",t[t.Falling=4]="Falling",t[t.Dodging=5]="Dodging"}(x=exports.PlaneMode||(exports.PlaneMode={})),function(t){t[t.None=0]="None",t[t.Up=1]="Up",t[t.Down=2]="Down"}(v=exports.PlaneRotation||(exports.PlaneRotation={})),exports.planeData=(f(i={},y.Albatros,{width:30,height:16,maxAmmo:95,maxFuel:80,maxBombs:0,maxHealth:135,accelerationSpeed:475,maxY:-50,turnStep:Math.PI,shootDelay:118,speedModifier:55}),f(i,y.Bristol,{width:36,height:19,maxAmmo:100,maxFuel:60,maxBombs:0,maxHealth:135,accelerationSpeed:485,maxY:-20,turnStep:3.6110260386089577,shootDelay:97,speedModifier:0}),f(i,y.Fokker,{width:38,height:20,maxAmmo:90,maxFuel:90,maxBombs:0,maxHealth:120,accelerationSpeed:500,maxY:0,turnStep:4.83321946706122,shootDelay:120,speedModifier:0}),f(i,y.Junkers,{width:42,height:19,maxAmmo:100,maxFuel:100,maxBombs:5,maxHealth:160,accelerationSpeed:465,maxY:10,turnStep:2.855993321445266,shootDelay:170,speedModifier:0}),f(i,y.Salmson,{width:30,height:16,maxAmmo:60,maxFuel:60,maxBombs:5,maxHealth:90,accelerationSpeed:470,maxY:-150,turnStep:Math.PI,shootDelay:180,speedModifier:50}),f(i,y.Sopwith,{width:37,height:20,maxAmmo:80,maxFuel:80,maxBombs:0,maxHealth:120,accelerationSpeed:500,maxY:20,turnStep:4.487989505128276,shootDelay:130,speedModifier:50}),i),exports.teamPlanes=(f(a={},P.Team.Centrals,[y.Albatros,y.Fokker,y.Junkers]),f(a,P.Team.Allies,[y.Bristol,y.Sopwith,y.Salmson]),a);var D=[y.Junkers,y.Salmson],O=570,E=500,L=1,B=-600,R=4.908738521234052,_=200,H=200,X=500;function Y(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.x,s=e.y,o=e.getPlayerInfo();null!=o&&(o.setStatus(t.cache,C.PlayerStatus.Takeoff),o.setControl(t.cache,w.EntityType.None,0)),i&&t.createExplosion(a,s,e),t.removeEntity(e)}exports.destroyPlane=Y;var N=function(t){r(i,I.OwnableSolidEntity);var e=d(i);function i(t,a,s,n,l,r,h){var d;if(o(this,i),(d=e.call(this,t,a,r)).type=w.EntityType.Plane,d.lastBomb=0,d.lastShot=0,d.bottomHeight=-1,d.lastMotorOn=0,d.motorOnDelay=200,d.takeoffCounter=0,d.fuelCounter=0,d.dodgeCounter=0,d.lastFlip=0,d.flipDelay=200,d.playerInfo=l,d.isAbandoned=!1,d.rotateStatus=v.None,d.lastBomb=0,d.lastShot=0,d.accelerationSpeed=exports.planeData[n].accelerationSpeed,d.speedModifier=exports.planeData[n].speedModifier,d.turnStep=exports.planeData[n].turnStep,d.maxY=exports.planeData[n].maxY,d.shotDelay=exports.planeData[n].shootDelay,d.bombDelay=X,d.width=exports.planeData[n].width,d.height=exports.planeData[n].height,d.maxBombs=exports.planeData[n].maxBombs,d.maxAmmo=exports.planeData[n].maxAmmo,d.maxHealth=exports.planeData[n].maxHealth,d.maxFuel=exports.planeData[n].maxFuel,d.bombs=d.maxBombs,d.ammo=d.maxAmmo,d.mode=x.Flying,d.speed=0,d.radians=0,d.localX=0,d.localY=0,d.imagename=exports.frameTextureString[m.Normal].replace("X",exports.planeImageIDs[n].toString()),d.image=a.getImage(d.imagename),d.runway=h,d.setData(s,{x:0,y:0,direction:0,team:r,flipped:!1,motorOn:!0,mode:d.mode,planeType:n}),null!=(h=null)){var u,p=400,g=50;u=d.runway.getStartX();for(var f=p=d.runway.getStartY();f<p+g;f+=5){var y=new T.Bullet(d.world.nextID(w.EntityType.Bullet),d.world,d.world.cache,u,f,0,-4,c(d));a.addEntity(y)}u=d.runway.getLandableX();for(var P=p=d.runway.getLandableY();P<p+g;P+=5){var b=new T.Bullet(d.world.nextID(w.EntityType.Bullet),d.world,d.world.cache,u,P,0,-4,c(d));a.addEntity(b)}u=h.getLandableX()+h.getLandableWidth();for(var k=p=d.runway.getLandableY();k<p+g;k+=5){var M=new T.Bullet(d.world.nextID(w.EntityType.Bullet),d.world,d.world.cache,u,k,0,-4,c(d));a.addEntity(M)}-30,p=200,50,g=50;for(var C=-30;C<20;C+=5)for(var S=p;S<p+g;S+=5){var A=new T.Bullet(d.world.nextID(w.EntityType.Bullet),d.world,d.world.cache,d.runway.getStartX()+C,d.runway.getStartY()+S,0,-4,c(d));a.addEntity(A)}}return d}return l(i,[{key:"getPlayerInfo",value:function(){return this.playerInfo}},{key:"getRootOwner",value:function(){return this}},{key:"init",value:function(){this.park(this.runway),this.mode=x.TakingOff,this.motorOn=!0;var t=Math.round(this.localX),e=Math.round(this.localY);this.setData(this.world.cache,{x:t,y:e}),this.set(this.world.cache,"direction",M.radiansToDirection(this.radians))}},{key:"park",value:function(t){this.localX=(t.getStartX()+this.width/2)*P.SCALE_FACTOR,this.localY=(t.getStartY()+this.getBottomHeight()/2+this.height/2)*P.SCALE_FACTOR,0==t.getDirection()?(this.radians=Math.PI,this.setFlipped(this.world.cache,!0)):(this.radians=0,this.setFlipped(this.world.cache,!1)),this.speed=0,this.setDirection(this.world.cache,M.radiansToDirection(this.radians)),this.playerInfo.setHealthMax(this.getMaxHealth()),this.playerInfo.setAmmoMax(this.getMaxAmmo()),this.playerInfo.setFuelMax(this.getMaxFuel()),this.playerInfo.setHealth(this.getMaxHealth()),this.playerInfo.setAmmo(this.getMaxAmmo()),this.playerInfo.setFuel(this.getMaxFuel()),this.playerInfo.setBombs(this.getMaxBombs()),this.fuelCounter=100}},{key:"getMaxHealth",value:function(){return this.maxHealth}},{key:"getMaxAmmo",value:function(){return this.maxAmmo}},{key:"getMaxFuel",value:function(){return this.maxFuel}},{key:"getMaxBombs",value:function(){return this.maxBombs}},{key:"getCollisionBounds",value:function(){var t=this.getCollisionImage();return new k.Rectangle(this.localX/P.SCALE_FACTOR,this.localY/P.SCALE_FACTOR,t.width,t.height)}},{key:"getCollisionImage",value:function(){return this.world.getImage(this.imagename+"_rot_"+Math.round(this.direction)+"_flip_"+this.flipped)}},{key:"getBottomHeight",value:function(){if(-1==this.bottomHeight){for(var t=this.image.data,e=this.image.height-1;e>=0;e--)for(var i=0;i<this.image.width;i++)if(t[e*this.image.width+i]<0)return this.bottomHeight=e+1,this.bottomHeight;return this.bottomHeight=0,this.bottomHeight}return this.bottomHeight}},{key:"tick",value:function(t,e){switch(this.prevmode!=this.mode&&(console.log("plane mode: "+this.mode),this.prevmode=this.mode),this.mode){case x.Landing:this.moveLanding(t,e);break;case x.Landed:this.moveLanded(t,e);break;case x.TakingOff:this.moveTakeoff(t,e);break;case x.Flying:this.moveFlying(t,e);break;case x.Dodging:this.moveDodging(t,e);break;case x.Falling:this.moveFalling(t,e)}}},{key:"setBombs",value:function(t,e){this.set(t,"bombs",e)}},{key:"setFlipped",value:function(t,e){this.set(t,"flipped",e)}},{key:"damagePlane",value:function(t,e){}},{key:"setMotor",value:function(t,e){this.set(t,"motorOn",e)}},{key:"abandonPlane",value:function(t){this.isAbandoned=!0,this.damagePlane(t,99999),this.setMotor(t,!1),this.rotateStatus=v.None}},{key:"setRotation",value:function(t,e){0!=e?t==b.InputKey.Left?this.rotateStatus=v.Up:t==b.InputKey.Right&&(this.rotateStatus=v.Down):this.rotateStatus=v.None}},{key:"getHeightMultiplier",value:function(){var t=-(this.localY/P.SCALE_FACTOR-(570-this.maxY))/150;return t>1&&(t=1),t}},{key:"accelerate",value:function(t){var e=t/1e3,i=this.accelerationSpeed*this.getHeightMultiplier();this.speed+=i*e}},{key:"gravity",value:function(t){var e=t/1e3,i=R*e,a=(1-this.speed/150)*i;a<0&&(a=0),this.radians>=.5*Math.PI&&this.radians<=1.5*Math.PI&&(a=-a),this.radians-=a,this.radians<0?this.radians+=2*Math.PI:this.radians>=2*Math.PI&&(this.radians-=2*Math.PI);var s=B*e*Math.sin(this.radians);this.speed+=s,this.speed<0&&(this.speed=0)}},{key:"airResistance",value:function(t){var e=t/1e3,i=this.speed-this.speedModifier,a=i*i*5e-5;a<L&&(a=L),this.speed-=a*e*P.SCALE_FACTOR,this.speed<0&&(this.speed=0)}},{key:"movePlane",value:function(t,e){var i=e/1e3;0!=this.speed&&(this.localX+=Math.round(P.SCALE_FACTOR*Math.cos(this.radians)*this.speed*i),this.localY+=Math.round(P.SCALE_FACTOR*Math.sin(this.radians)*this.speed*i));var a=Math.round(this.localX/P.SCALE_FACTOR),s=Math.round(this.localY/P.SCALE_FACTOR);this.setData(t,{x:a,y:s}),this.set(t,"direction",M.radiansToDirection(this.radians))}},{key:"run",value:function(t){this.gravity(t),this.airResistance(t)}},{key:"steer",value:function(t){var e=t/1e3,i=this.turnStep,a=this.speed/P.SCALE_FACTOR/4*i*e;switch(this.rotateStatus){case v.Up:this.radians+=a,this.radians>=2*Math.PI&&(this.radians-=2*Math.PI);break;case v.Down:this.radians-=a,this.radians<0&&(this.radians+=2*Math.PI)}}},{key:"steerUp",value:function(t){var e=t/1e3,i=this.turnStep,a=this.speed/P.SCALE_FACTOR/4*i*e;this.radians+=a,this.radians>=2*Math.PI&&(this.radians-=2*Math.PI)}},{key:"steerDown",value:function(t){var e=t/1e3,i=this.turnStep,a=this.speed/P.SCALE_FACTOR/4*i*e;this.radians-=a,this.radians<0&&(this.radians+=2*Math.PI)}},{key:"moveEngine",value:function(t,e){this.motorOn&&(this.fuelCounter>0&&(this.fuelCounter-=1),0==this.fuelCounter&&(0==this.getPlayerInfo().getFuel()?this.setMotor(t,!1):(this.getPlayerInfo().setFuel(this.getPlayerInfo().getFuel()-1),this.fuelCounter=100)),this.accelerate(e)),this.getPlayerInfo().getHealth(),this.maxHealth}},{key:"moveFlying",value:function(t,e){this.isKeyPressed(b.GameKey.PLANE_FLIP)&&this.lastFlip+this.flipDelay<Date.now()&&(this.setFlipped(t,!this.flipped),this.lastFlip=Date.now()),this.isKeyPressed(b.GameKey.PLANE_DOWN)&&this.steerDown(e),this.isKeyPressed(b.GameKey.PLANE_UP)&&this.steerUp(e),this.isKeyPressed(b.GameKey.PLANE_MOTOR)&&this.lastMotorOn+this.motorOnDelay<Date.now()&&this.fuelCounter>0&&(console.log("plane - motor toggle"),this.setMotor(t,!this.motorOn),this.lastMotorOn=Date.now()),this.moveEngine(t,e),this.run(e),this.movePlane(t,e),this.checkCollision(),this.shoot(t,e),this.bomb(t,e),this.jump(t,e)}},{key:"moveFalling",value:function(t,e){this.setMotor(t,!1),this.run(e),this.movePlane(t,e),this.checkCollision(),this.jump(t,e,!1)}},{key:"jump",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.isKeyPressed(b.GameKey.PLANE_JUMP)&&this.getPlayerInfo().isControlling(this)){i&&this.fraggedBy(null),console.log("plane - jump");var a=new S.Man(this.world.nextID(w.EntityType.Trooper),this.world,this.world.cache,this.localX/P.SCALE_FACTOR-this.width/2,this.localY/P.SCALE_FACTOR-this.height/2,this.getPlayerInfo());this.world.addEntity(a),this.getPlayerInfo().setControl(this.world.cache,w.EntityType.Trooper,a.getId()),this.setMode(x.Falling),this.getPlayerInfo().submitParachute(this,a)}}},{key:"bomb",value:function(t,e){if(this.isKeyPressed(b.GameKey.PLANE_BOMB)&&this.lastBomb+this.bombDelay<Date.now()&&this.getPlayerInfo().getBombs()>0){this.setBombs(t,this.bombs-1);var i=new A.Bomb(this.world.nextID(w.EntityType.Bomb),this.world,this.world.cache,Math.round(this.localX/P.SCALE_FACTOR),Math.round(this.localY/P.SCALE_FACTOR),this.direction,this.speed/P.SCALE_FACTOR,this);this.world.addEntity(i),this.lastBomb=Date.now(),this.getPlayerInfo().setBombs(this.getPlayerInfo().getBombs()-1)}}},{key:"shoot",value:function(t,e){if(this.isKeyPressed(b.GameKey.PLANE_SHOOT)&&this.lastShot+this.shotDelay<Date.now()&&this.getPlayerInfo().getAmmo()>0){var i=new T.Bullet(this.world.nextID(w.EntityType.Bullet),this.world,this.world.cache,Math.round(this.localX/P.SCALE_FACTOR+Math.cos(this.radians)*(this.width/2+2)),Math.round(this.localY/P.SCALE_FACTOR+Math.sin(this.radians)*(this.height/2+2)),this.radians,this.speed/P.SCALE_FACTOR,this);this.world.addEntity(i),this.lastShot=Date.now(),this.getPlayerInfo().setAmmo(this.getPlayerInfo().getAmmo()-1)}}},{key:"moveLanded",value:function(t,e){this.isKeyPressed(b.GameKey.PLANE_MOTOR)&&this.lastMotorOn+this.motorOnDelay<Date.now()&&(this.setMotor(t,!this.motorOn),this.lastMotorOn=Date.now(),this.setMode(x.TakingOff))}},{key:"landed",value:function(){this.getPlayerInfo().isControlling(this)&&(Y(this.world,this),console.log("rm landed plane"),this.world.removeEntity(this))}},{key:"sink",value:function(){this.suicide()}},{key:"suicide",value:function(){this.getPlayerInfo().isControlling(this)&&(console.log("suicide - sitting"),this.world.died(this,this.x,this.y)),this.world.removeEntity(this)}},{key:"moveTakeoff",value:function(t,e){var i=e/1e3;this.checkCollision(),this.accelerate(e),this.takeoffCounter+=1,65!=this.takeoffCounter&&75!=this.takeoffCounter||(this.flipped?this.steerDown(e):this.steerUp(e),console.log("takeoff steer")),60!=this.takeoffCounter&&70!=this.takeoffCounter||(this.flipped?this.steerDown(e):this.steerUp(e),console.log("takeoff jump"),this.localY+=100),this.takeoffCounter>=70&&(this.setMode(x.Flying),this.runway=null,this.takeoffCounter=0,console.log("takenoff")),0!=this.speed&&(this.localX+=Math.cos(this.radians)*this.speed*i*P.SCALE_FACTOR),this.setChanged(!0);var a=Math.round(this.localX/P.SCALE_FACTOR),s=Math.round(this.localY/P.SCALE_FACTOR);this.setData(t,{x:a,y:s}),this.set(t,"direction",M.radiansToDirection(this.radians))}},{key:"moveDodging",value:function(t,e){this.moveEngine(t,e);var i=this.direction;this.run(e),this.movePlane(t,e);var a=0;this.direction!=i&&(a=1),++this.dodgeCounter>40?(this.setMode(x.Flying),this.dodgeCounter=0):10==this.dodgeCounter?this.setFlipped(t,!this.flipped):20==this.dodgeCounter?this.setFlipped(t,!this.flipped):30==this.dodgeCounter&&this.setFlipped(t,!this.flipped),this.checkCollision(),0!=a&&(a=0);var s=Math.round(this.localX/P.SCALE_FACTOR),o=Math.round(this.localY/P.SCALE_FACTOR);this.setData(t,{x:s,y:o}),this.set(t,"direction",M.radiansToDirection(this.radians))}},{key:"setPos",value:function(t,e,i){this.localX=e*P.SCALE_FACTOR,this.localY=i*P.SCALE_FACTOR,this.setData(t,{x:e,y:i})}},{key:"setDirection",value:function(t,e){this.radians=M.directionToRadians(e),this.set(t,"direction",e)}},{key:"setMode",value:function(t){this.set(this.world.cache,"mode",t)}},{key:"moveLanding",value:function(t,e){this.speed>100&&(this.speed-=3),this.speed<100&&(this.speed+=3),Math.abs(this.speed-100)<3&&(this.speed=100),0!=this.speed&&(this.localX+=Math.cos(this.radians)*this.speed);var i=Math.round(this.localX/P.SCALE_FACTOR),a=Math.round(this.localY/P.SCALE_FACTOR);(1==this.runway.getDirection()&&i<=this.runway.getStartX()||0==this.runway.getDirection()&&i>=this.runway.getStartX())&&(console.log("landed"),console.log(!0),console.log(i),console.log(this.runway.getStartX()),console.log(this.runway.getDirection()),this.landed()),this.setChanged(!0),this.isRemoved()||(this.setData(t,{x:i,y:a}),this.set(t,"direction",M.radiansToDirection(this.radians)))}},{key:"hit",value:function(t){if(this.mode!=x.Landing&&this.mode!=x.Landed&&this.mode!=x.TakingOff||t!=this.runway)if(this.mode!=x.Falling){if(t.getType()==w.EntityType.Runway){var e=t;if(console.log("HHIITT - Runway"),this.mode!=x.Landing&&this.localX/P.SCALE_FACTOR-this.width/2>e.getLandableX()&&this.localX/P.SCALE_FACTOR+this.width/2<e.getLandableX()+e.getLandableWidth()&&!this.motorOn&&this.speed<250+this.speedModifier&&(!this.flipped&&(2*Math.PI-this.radians<.8975979010256552||2*Math.PI-this.radians>5.385587406153931)||this.flipped&&2*Math.PI-this.radians<4.039190554615448&&2*Math.PI-this.radians>2.243994752564138))return console.log("motorOn  = "+this.motorOn),this.flipped?this.radians=Math.PI:this.radians=0,this.localY=(e.getLandableY()-this.getBottomHeight()/2+this.height/2)*P.SCALE_FACTOR,console.log("HHIITT - PrLanding!!!"),e.getTeam()==this.getTeam()&&(1==e.getDirection()&&this.radians==Math.PI||0==e.getDirection()&&0==this.radians)&&e.reserveFor(2)&&(this.runway=e,this.setMode(x.Landing),console.log("HHIITT - Landing!!!")),this.setPos(this.world.cache,Math.round(this.localX/100),Math.round(this.localY/100)),void this.set(this.world.cache,"direction",M.radiansToDirection(this.radians));console.log("crashed "+this.x+" landable"+e.getLandableX()),e.planeCrash()}if(t instanceof I.OwnableSolidEntity){if(t instanceof F.Explosion)this.getPlayerInfo().setHealth(this.getPlayerInfo().getHealth()-50),this.getPlayerInfo().getHealth()<=0&&(this.fraggedBy(t),this.explode(t),console.log("explosion kill"));else if(t.getPlayerInfo().getId()!=this.getPlayerInfo().getId())if(t instanceof T.Bullet){var a=t;console.log("before = "+this.getPlayerInfo().getHealth()),this.getPlayerInfo().setHealth(this.getPlayerInfo().getHealth()-Math.round(30*a.getDamageFactor())),console.log("after = "+this.getPlayerInfo().getHealth()),this.getPlayerInfo().getHealth()<=0&&(this.fraggedBy(a),this.setMode(x.Falling),console.log("bullet kill"))}else if(t instanceof A.Bomb){var s=t;this.fraggedBy(s),this.explode(s),console.log("bomb kill")}else t.getType()!=w.EntityType.Trooper&&(t instanceof i?this.mode==x.Flying&&(this.setMode(x.Dodging),this.radians+=.7853981633974483*(Math.random()-.5),this.radians<0&&(this.radians+=2*Math.PI),this.radians>=2*Math.PI&&(this.radians-=2*Math.PI),this.getPlayerInfo().setHealth(this.getPlayerInfo().getHealth()-25),this.setFlipped(this.world.cache,!this.flipped),this.set(this.world.cache,"direction",M.radiansToDirection(this.radians)),this.getPlayerInfo().getHealth()<=0&&(this.fraggedBy(t),this.setMode(x.Falling),console.log("dodge kill")),this.setChanged(!0)):(console.log("ownable hit kill"),this.fraggedBy(t),this.explode(t)))}else t.getType()==w.EntityType.Water?(this.fraggedBy(null),this.sink(),console.log("plane - sank")):(t.getType()==w.EntityType.Ground&&console.log("plane - ground"),console.log("plane - obj "+t),this.fraggedBy(null),this.explode(null))}else{if(t instanceof I.OwnableSolidEntity&&t.getPlayerInfo().getId()==this.getPlayerInfo().getId())return;if(t instanceof i)return;t.getType()==w.EntityType.Water?(console.log("falling - sank"),this.sink()):t.getType()!=w.EntityType.Bullet&&t.getType()!=w.EntityType.Trooper&&(console.log("falling - exploded"),t instanceof I.OwnableSolidEntity?this.explode(t):this.explode(null))}}},{key:"fraggedBy",value:function(t){this.getPlayerInfo().isControlling(this)&&this.world.killed(this,t,1)}},{key:"explode",value:function(t){null==t?this.suicide():(this.getPlayerInfo().isControlling(this)&&(this.world.killed(this,t,2),this.world.died(this,this.x,this.y)),this.world.removeEntity(this)),this.world.createExplosion(this.x,this.y,this)}},{key:"getState",value:function(){return{type:this.type,direction:this.direction,planeType:this.planeType,team:this.team,flipped:this.flipped,mode:this.mode,x:this.x,y:this.y}}}]),i}();function K(t,e,i,a){return{width:exports.planeData[a].width,height:exports.planeData[a].height,center:{x:t,y:e},direction:i}}exports.Plane=N,exports.getPlaneRect=K;
},{"../entity":"pF7b","../constants":"P1Jh","../input":"gjMS","../physics/rectangle":"YWQo","../physics/helpers":"ELid","./PlayerInfo":"F43/","./Man":"bksC","./Bullet":"Y2wn","./Bomb":"vWFO","./OwnableSolidEntity":"PAeC","./Explosion":"rk7a"}],"Icoo":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=l();return function(){var i,n=u(e);if(t){var r=u(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return o(this,i)}}function o(t,i){return!i||"object"!==e(i)&&"function"!=typeof i?s(t):i}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Runway=void 0;var c=require("../entity"),y=require("./SolidEntity"),f=require("../physics/rectangle"),g=1e3,d=2e3,p=1e3,m=1e3,v=1,b=1,k=1530,w=50,H=function(e){r(a,y.SolidEntity);var i=h(a);function a(e,n,r,h,o,s,l){var u;return t(this,a),(u=i.call(this,e,n,h)).type=c.EntityType.Runway,u.playersInside=[],u.yOffset=7,u.localhealth=1530,u.image=[n.getImage("runway.gif"),n.getImage("runway2.gif")],u.imageWidth=[u.image[0].width,u.image[1].width],u.imageHeight=[u.image[0].height,u.image[1].height],u.localhealth=k,u.setData(r,{x:o,y:s,direction:l,team:h,health:255}),u}return n(a,[{key:"getImageWidth",value:function(e){return this.imageWidth[e]}},{key:"getImageHeight",value:function(e){return this.imageHeight[e]}},{key:"getCollisionBounds",value:function(){return new f.Rectangle(this.x,this.y+this.yOffset,this.imageWidth[1-this.direction],this.imageHeight[1-this.direction])}},{key:"getCollisionImage",value:function(){return this.image[1-this.direction]}},{key:"getImage",value:function(){return this.image[1-this.direction]}},{key:"getLandableWidth",value:function(){return this.imageWidth[1-this.direction]-65}},{key:"getHealth",value:function(){return this.localhealth}},{key:"setHealth",value:function(e){this.localhealth=e,this.set(this.world.cache,"health",Math.round(this.localhealth/k*255))}},{key:"getLandableX",value:function(){return 1==this.direction?65+this.x-this.getImageWidth(0)/2:this.x-this.getImageWidth(0)/2}},{key:"getLandableY",value:function(){return-23+this.y+this.getImageHeight(0)/2+this.yOffset}},{key:"getStartX",value:function(){return 1==this.direction?15+this.x-this.getImageWidth(0)/2:this.x+230-this.getImageWidth(0)/2}},{key:"getStartY",value:function(){return this.getLandableY()}},{key:"getDirection",value:function(){return this.direction}},{key:"reserveFor",value:function(e){var t=Date.now(),i=0;switch(e){case 2:i=(this.lastReserve,1e3);break;case 1:i=2==this.lastReserve?2e3:1e3}return!(this.reserveTimer+i>t)&&(!(this.localhealth<=0)&&(this.reserveTimer=t,this.lastReserve=e,!0))}},{key:"run",value:function(){this.localhealth>0&&this.localhealth<k&&(this.healthTimer=(this.healthTimer+1)%50,0==this.healthTimer&&(this.localhealth+=1,255*this.localhealth%1530==0&&this.setHealth(this.localhealth)))}},{key:"hit",value:function(e){if(!(this.health<=0)){switch(e.getType()){case c.EntityType.Bomb:this.setHealth(this.getHealth()-30);break;case c.EntityType.Bullet:var t=e;this.setHealth(this.getHealth()-4*t.getDamageFactor());break;case c.EntityType.Explosion:this.setHealth(this.getHealth()-17);break;default:return}this.getHealth()<=0&&(this.setHealth(0),this.destroyed(e.getTeam())),this.setChanged(!0)}}},{key:"planeCrash",value:function(){this.localhealth<=0||(this.setHealth(this.getHealth()-17),this.getHealth()<=0&&(this.setHealth(0),this.destroyed(this.getTeam())),this.setChanged(!0))}},{key:"destroyed",value:function(e){var t=e;t==this.getTeam()&&(t=1-t),console.log("Destroyed")}},{key:"isAlive",value:function(){return this.localhealth>0}},{key:"addPlayerInside",value:function(e){this.isAlive()?this.playersInside.push(e):console.log("Tryied to join dead runway")}},{key:"removePlayerInside",value:function(e){var t=this.playersInside.indexOf(e,0);t>-1&&this.playersInside.splice(t,1)}},{key:"getState",value:function(){return{type:this.type,x:this.x,y:this.y,direction:this.direction,team:this.team,health:this.health}}}]),a}();exports.Runway=H;
},{"../entity":"pF7b","./SolidEntity":"bod7","../physics/rectangle":"YWQo"}],"rXxr":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=a();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?f(e):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tower=void 0;var s=require("../constants"),y=require("../entity"),p=function(t){o(i,y.Entity);var n=c(i);function i(t,r,o){var c,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:s.FacingDirection.Right;return e(this,i),(c=n.call(this,t,r)).type=y.EntityType.ControlTower,c.setData(o,{x:u,y:f,terrain:a,direction:l}),c}return r(i,[{key:"getState",value:function(){return{type:this.type,x:this.x,y:this.y,terrain:this.terrain,direction:this.direction}}}]),i}();exports.Tower=p;
},{"../constants":"P1Jh","../entity":"pF7b"}],"Y2wn":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=c();return function(){var n,o=s(t);if(e){var i=s(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return u(this,n)}}function u(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?a(e):n}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Bullet=exports.moveBullet=exports.bulletGlobals=void 0;var f=require("../entity"),h=require("../constants"),y=require("../physics/rectangle"),p=require("./Plane"),v=require("./Man"),g=require("./Runway"),C=require("./OwnableSolidEntity"),A=require("./tower"),O=require("./Bomb");function b(t,e,n,o,i){var r=i/1e3;return{x:t+r*n,y:e+r*o}}exports.bulletGlobals={speed:400,damage:25,lifetime:1750},exports.moveBullet=b;var d=function(t){i(r,C.OwnableSolidEntity);var n=l(r);function r(t,o,i,l,u,a,c,s){var y;return e(this,r),(y=n.call(this,t,o,s.getTeam())).type=f.EntityType.Bullet,y.width=2,y.height=2,y.localX=l*h.SCALE_FACTOR,y.localY=u*h.SCALE_FACTOR,y.speed=(c+4)*h.SCALE_FACTOR*h.SCALE_FACTOR,y.speed>200*h.SCALE_FACTOR*h.SCALE_FACTOR/25&&(y.speed=200*h.SCALE_FACTOR*h.SCALE_FACTOR/25),y.vx=Math.cos(a)*y.speed,y.vy=Math.sin(a)*y.speed,y.clientVX=Math.round(y.vx/h.SCALE_FACTOR),y.clientVY=Math.round(y.vy/h.SCALE_FACTOR),y.origin=s,y.setData(i,{x:l,y:u,age:0,shotBy:s.getPlayerInfo().getId(),team:s.getTeam(),clientVX:y.clientVX,clientVY:y.clientVY}),y}return o(r,[{key:"getPlayerInfo",value:function(){return this.origin.getPlayerInfo()}},{key:"getRootOwner",value:function(){return this.origin.getRootOwner()}},{key:"getCollisionBounds",value:function(){return new y.Rectangle(this.localX/h.SCALE_FACTOR,this.localY/h.SCALE_FACTOR,this.width,this.height)}},{key:"tick",value:function(t,e){this.move(t,e),this.ageBullet(t,e)}},{key:"getDamageFactor",value:function(){if(this.age>1750)return 0;var t=this.age/175/10;return 1-(t*=t)}},{key:"ageBullet",value:function(t,e){this.age+=e,this.age>=1750&&this.hit(null)}},{key:"move",value:function(t,e){var n=b(this.localX,this.localY,this.vx,this.vy,e);this.localX=n.x,this.localY=n.y,this.x=Math.round(this.localX/h.SCALE_FACTOR),this.y=Math.round(this.localY/h.SCALE_FACTOR),this.checkCollision()}},{key:"setPos",value:function(t,e,n){this.localX=e*h.SCALE_FACTOR,this.localY=n*h.SCALE_FACTOR,this.setData(t,{x:e,y:n})}},{key:"setVelocity",value:function(t,e,n){this.vx=Math.round(e),this.vy=Math.round(n),this.setData(t,{clientVX:Math.round(this.vx/h.SCALE_FACTOR),clientVY:Math.round(this.vy/h.SCALE_FACTOR)})}},{key:"hit",value:function(t){var e=!0,n=!1;(t instanceof p.Plane||t instanceof v.Man)&&(this.origin.getPlayerInfo().getId()==t.getPlayerInfo().getId()?e=!1:n=!0),(t instanceof g.Runway||t instanceof A.Tower||t instanceof r||t instanceof O.Bomb)&&(n=!0),e&&(this.getPlayerInfo().submitBullet(this,n),this.world.removeEntity(this))}},{key:"getState",value:function(){return{type:this.type,age:this.age,x:this.x,y:this.y,clientVX:this.clientVX,clientVY:this.clientVY}}}]),r}();exports.Bullet=d;
},{"../entity":"pF7b","../constants":"P1Jh","../physics/rectangle":"YWQo","./Plane":"OCWf","./Man":"bksC","./Runway":"Icoo","./OwnableSolidEntity":"PAeC","./tower":"rXxr","./Bomb":"vWFO"}],"bksC":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&i(t.prototype,e),o&&i(t,o),t}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=h();return function(){var i,o=c(t);if(e){var s=c(this).constructor;i=Reflect.construct(o,arguments,s)}else i=o.apply(this,arguments);return a(this,i)}}function a(e,i){return!i||"object"!==t(i)&&"function"!=typeof i?l(e):i}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTrooperRect=exports.Man=exports.TrooperDirection=exports.TrooperState=exports.TrooperHitboxParachute=exports.TrooperHitboxNormal=exports.trooperGlobals=void 0;var u,y,g=require("../constants"),f=require("../entity"),p=require("../input"),d=require("../physics/rectangle"),T=require("./SolidEntity"),v=require("./OwnableSolidEntity"),m=require("./Bullet"),S=require("./Plane");exports.trooperGlobals={gravity:500,dragFall:.001,dragChute:.1,walkSpeed:100,crashSurviveSpeed:175,fireRate:119,targetRadius:500},exports.TrooperHitboxNormal={width:10,height:10},exports.TrooperHitboxParachute={width:20,height:32},function(t){t[t.Parachuting=0]="Parachuting",t[t.Falling=1]="Falling",t[t.Standing=2]="Standing",t[t.Walking_LEFT=3]="Walking_LEFT",t[t.Walking_RIGHT=4]="Walking_RIGHT",t[t.Walking=5]="Walking"}(u=exports.TrooperState||(exports.TrooperState={})),function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Right=2]="Right"}(y=exports.TrooperDirection||(exports.TrooperDirection={}));var C=function(t){s(n,v.OwnableSolidEntity);var i=r(n);function n(t,o,s,r,a,l){var h;return e(this,n),(h=i.call(this,t,o,l.getTeam())).type=f.EntityType.Trooper,h.shootDelay=500,h.speedPerPixel=100,h.invulnerabilityTime=200,h.shootTimer=0,h.lastX=0,h.playerinfo=l,h.playerinfo.setHealth(1),h.playerinfo.setHealthMax(1),h.playerinfo.setFuel(0),h.playerinfo.setAmmo(1),h.playerinfo.setAmmoMax(1),h.playerinfo.setBombs(1),h.localX=r*g.SCALE_FACTOR,h.localY=a*g.SCALE_FACTOR,h.image=[o.getImage("parachuter0.gif"),o.getImage("parachuter1.gif")],h.width=h.image[0].width,h.height=h.image[0].height,h.isShooting=!1,h.shotThreshold=Math.round(1e3/(exports.trooperGlobals.fireRate/60)),h.lastShot=h.shotThreshold,h.lastX=r,h.invulnerabilityTimer=Date.now(),h.vx=0,h.vy=0,h.setData(s,{x:r,y:a,ammo:255,bombs:1,health:255,state:u.Falling,team:l.getTeam()}),h}return o(n,[{key:"getCollisionBounds",value:function(){return this.state!=u.Parachuting?new d.Rectangle(this.localX/g.SCALE_FACTOR,this.localY/g.SCALE_FACTOR+this.height/2,this.width,this.height):new d.Rectangle(this.localX/g.SCALE_FACTOR,this.localY/g.SCALE_FACTOR+this.image[1].height/2,this.image[1].width,this.image[1].height)}},{key:"getCollisionImage",value:function(){return this.state==u.Parachuting?this.image[1]:this.image[0]}},{key:"getPlayerInfo",value:function(){return this.playerinfo}},{key:"getRootOwner",value:function(){return this}},{key:"parachute",value:function(){this.setState(this.world.cache,u.Parachuting)}},{key:"tick",value:function(t,e){this.move(t,e)}},{key:"setPos",value:function(t,e,i){this.localX=e*g.SCALE_FACTOR,this.localY=i*g.SCALE_FACTOR,this.setData(t,{x:e,y:i})}},{key:"move",value:function(t,e){var i=e/1e3;switch(this.state){case u.Falling:this.localX+=100*this.vx/this.speedPerPixel*i*g.SCALE_FACTOR,this.localY-=100*this.vy/this.speedPerPixel*i*g.SCALE_FACTOR,this.vx-=Math.round(.01*this.vx*i*g.SCALE_FACTOR),this.vy+=this.speedPerPixel/30*i*g.SCALE_FACTOR,this.isKeyPressed(p.GameKey.MAN_PARACHUTE)&&this.parachute(),this.checkCollision();break;case u.Parachuting:this.localX+=100*this.vx/this.speedPerPixel*i*g.SCALE_FACTOR,this.localY-=100*this.vy/this.speedPerPixel*i*g.SCALE_FACTOR,this.vx-=Math.round(.01*this.vx*i*g.SCALE_FACTOR),this.vy-=Math.round(.05*this.vy*i*g.SCALE_FACTOR),this.vy<this.speedPerPixel&&(this.vy=this.speedPerPixel),this.isKeyPressed(p.GameKey.MAN_LEFT)&&(this.localX-=100*i*g.SCALE_FACTOR),this.isKeyPressed(p.GameKey.MAN_RIGHT)&&(this.localX+=100*i*g.SCALE_FACTOR),this.isKeyPressed(p.GameKey.MAN_SHOOT)&&this.shootTimer+this.shootDelay<Date.now()&&(this.shootTimer=Date.now(),this.shoot()),this.checkCollision();break;case u.Standing:case u.Walking_LEFT:case u.Walking_RIGHT:this.state;this.setState(t,u.Standing),this.lastX=this.x,this.isKeyPressed(p.GameKey.MAN_LEFT)&&(this.localX-=100*i*g.SCALE_FACTOR,this.localX,this.setState(t,u.Walking_LEFT)),this.isKeyPressed(p.GameKey.MAN_RIGHT)&&(this.localX+=100*i*g.SCALE_FACTOR,this.localX,this.setState(t,u.Walking_RIGHT)),this.isKeyPressed(p.GameKey.MAN_SHOOT)&&this.shootTimer+this.shootDelay<Date.now()?(this.shootTimer=Date.now(),this.shoot()):this.isKeyPressed(p.GameKey.MAN_SUICIDE)&&(this.world.createExplosion(this.x,this.y,this),this.fraggedBy(null),this.removeSelf()),this.checkCollision()}this.isRemoved()||(this.setState(t,this.state),this.set(t,"x",Math.round(this.localX/g.SCALE_FACTOR)),this.set(t,"y",Math.round(this.localY/g.SCALE_FACTOR)))}},{key:"shoot",value:function(){var t=this,e=this.world.getEntities(),i=25e4,o=null;e.forEach(function(e){e.forEach(function(e){if(e instanceof T.SolidEntity&&e.getTeam()!=t.getTeam()){if(e instanceof S.Plane||e.getType()==f.EntityType.Trooper){var s=t.countDistance(e);s<i&&(i=s,o=e)}if(e.getType()==f.EntityType.Runway)if(e.isAlive()){var n=t.countDistance(e);n<i&&(i=n,o=e)}}})});var s=4.71238898038469-Math.PI;null!=o&&(s=this.countAngle(o)),s<2.199114857512855&&s>.9424777960769379&&(null!=o?console.log("Shooting down: "+o+" "+o.getCollisionBounds()+" "+s+" "+i):console.log("Shooting down: "+o+" "+s+" "+i));var n=this.localX/100,r=this.localY/100+10-this.height/2;console.log("bullet shot");var a=new m.Bullet(this.world.nextID(f.EntityType.Bullet),this.world,this.world.cache,n,r,s,0,this);this.world.addEntity(a)}},{key:"countDistance",value:function(t){var e=t.getCollisionBounds().x,i=t.getCollisionBounds().y,o=this.localX/100,s=this.localY/100;return(e-o)*(e-o)+(i-s)*(i-s)}},{key:"countAngle",value:function(t){var e=t.getCollisionBounds().x,i=t.getCollisionBounds().y,o=this.localX/100,s=this.localY/100;return Math.atan2(i-s,e-o)}},{key:"setVelocity",value:function(t,e,i){this.vx=e,this.vy=i}},{key:"setState",value:function(t,e){this.set(t,"state",e)}},{key:"setDirection",value:function(t,e,i){var o=y.None;i&&(o=e==p.InputKey.Left?y.Left:y.Right),this.set(t,"direction",o)}},{key:"hit",value:function(t){if(t.getType()!=f.EntityType.Ground||this.state!=u.Falling&&this.state!=u.Parachuting){if(t.getType()!=f.EntityType.Ground||this.state!=u.Standing&&this.state!=u.Walking_LEFT&&this.state!=u.Walking_RIGHT)if(t.getType()==f.EntityType.Runway)console.log("landed - runway"),this.state==u.Standing||this.state==u.Walking_LEFT||this.state==u.Walking_RIGHT?t.getTeam()==this.getTeam()?this.respawn(t):this.setPos(this.world.cache,this.lastX,this.localY/g.SCALE_FACTOR):t.getTeam()!=this.getTeam()&&(this.fraggedBy(null),this.removeSelf());else if(t.getType()==f.EntityType.ControlTower)console.log("landed - tower"),this.state==u.Standing||this.state==u.Walking_LEFT||this.state==u.Walking_RIGHT?this.x=this.lastX:(this.fraggedBy(null),this.removeSelf());else if(t.getType()==f.EntityType.Bullet){var e=t;e.getPlayerInfo().getId()!=this.getPlayerInfo().getId()&&(this.fraggedBy(e),this.removeSelf())}else if(t.getType()==f.EntityType.Bomb||t.getType()==f.EntityType.Explosion){var i=t;this.fraggedBy(i),this.removeSelf()}else t instanceof S.Plane?Date.now()>=this.invulnerabilityTimer+this.invulnerabilityTime&&(this.fraggedBy(t),this.removeSelf()):t.getType()==f.EntityType.Water&&(this.fraggedBy(null),this.removeSelf())}else this.vy<1.5*this.speedPerPixel?(this.setState(this.world.cache,u.Standing),this.localY=100*t.getCollisionBounds().getMaxY(),console.log("landed - ground "),this.set(this.world.cache,"y",Math.round(this.localY/g.SCALE_FACTOR))):(this.fraggedBy(null),this.removeSelf())}},{key:"respawn",value:function(t){this.getPlayerInfo().isControlling(this)&&(this.world.removeEntity(this),this.world.landed(this,t))}},{key:"fraggedBy",value:function(t){this.getPlayerInfo().isControlling(this)&&(console.log("fragged - self"),this.world.killed(this,t,2))}},{key:"removeSelf",value:function(){if(this.getPlayerInfo().isControlling(this)){console.log("rm - self"),this.world.removeEntity(this);var t=this.getCollisionBounds();this.world.died(this,t.x,t.y)}}},{key:"getState",value:function(){return{type:this.type,x:this.x,y:this.y,health:this.health,state:this.state,team:this.team}}}]),n}();function x(t,e,i){var o=exports.TrooperHitboxNormal.width,s=exports.TrooperHitboxNormal.height;return i==u.Parachuting&&(o=exports.TrooperHitboxParachute.width,s=exports.TrooperHitboxParachute.height),{width:o,height:s,center:{x:t,y:e+Math.round(s/2)},direction:0}}exports.Man=C,exports.getTrooperRect=x;
},{"../constants":"P1Jh","../entity":"pF7b","../input":"gjMS","../physics/rectangle":"YWQo","./SolidEntity":"bod7","./OwnableSolidEntity":"PAeC","./Bullet":"Y2wn","./Plane":"OCWf"}],"8ZUT":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=c();return function(){var r,n=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?s(e):r}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),p=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),h=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&f(e,t,r);return p(e,t),e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TrooperSprite=void 0;var d=h(require("pixi.js")),y=require("../sprite"),b=require("../constants"),g=require("../../../../dogfight/src/entities/Man"),v=require("../../../../dogfight/src/constants"),w=100,x=["parachuter2.gif","parachuter3.gif"],T=function(t){i(o,y.GameSprite);var r=a(o);function o(t){var n;e(this,o),(n=r.call(this)).walkIndex=0,n.x=0,n.y=0,n.health=1,n.direction=g.TrooperDirection.None,n.team=v.Team.Centrals,n.state=g.TrooperState.Standing,n.spritesheet=t,n.container=new d.Container,n.debug=new d.Graphics;var i=t.textures[n.getTexture()];return n.trooper=new d.Sprite(i),n.trooper.y=-Math.round(i.height),n.trooper.anchor.x=.5,n.container.addChild(n.trooper),n.container.zIndex=b.DrawLayer.Trooper,n.debug.zIndex=b.DrawLayer.Trooper,n.renderables.push(n.container),n.renderablesDebug.push(n.debug),n.interval=window.setInterval(function(){n.pimpWalk()},w),n}return n(o,[{key:"getTexture",value:function(){return this.state==g.TrooperState.Parachuting?"parachuter1.gif":this.state==g.TrooperState.Walking_LEFT||this.state==g.TrooperState.Walking_RIGHT?x[this.walkIndex]:"parachuter0.gif"}},{key:"pimpWalk",value:function(){if(this.state==g.TrooperState.Walking_LEFT||this.state==g.TrooperState.Walking_RIGHT){this.walkIndex=this.walkIndex?0:1;var t=this.spritesheet.textures[x[this.walkIndex]];this.trooper.texture=t}}},{key:"drawDebug",value:function(){var t=g.getTrooperRect(this.x,this.y,this.state);this.debug.clear(),this.debug.beginFill(16711935);var e=t.width/2,r=t.height/2;this.debug.lineStyle(1,16711935),this.debug.beginFill(0,0),this.debug.drawRect(-e,-r,t.width,t.height),this.debug.drawCircle(0,r,1),this.debug.position.set(this.x,this.y-r),this.debug.endFill()}},{key:"redraw",value:function(){if(this.trooper.texture=this.spritesheet.textures[this.getTexture()],this.state==g.TrooperState.Walking_LEFT||this.state==g.TrooperState.Walking_RIGHT){var t=this.state==g.TrooperState.Walking_LEFT?1:-1;this.trooper.scale.x=t}else this.trooper.scale.x=1;this.drawDebug(),this.container.position.set(this.x,this.y)}},{key:"destroy",value:function(){window.clearInterval(this.interval)}}]),o}();exports.TrooperSprite=T;
},{"pixi.js":"9FmR","../sprite":"oNL/","../constants":"k/7z","../../../../dogfight/src/entities/Man":"bksC","../../../../dogfight/src/constants":"P1Jh"}],"6bgg":[function(require,module,exports) {
var define;
var e;!function(n){var t;if("function"==typeof e&&e.amd&&(e(n),t=!0),"object"==typeof exports&&(module.exports=n(),t=!0),!t){var o=window.Cookies,r=window.Cookies=n();r.noConflict=function(){return window.Cookies=o,r}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var o in t)n[o]=t[o]}return n}function n(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(o){function r(){}function i(n,t,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},r.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var c=JSON.stringify(t);/^[\{\[]/.test(c)&&(t=c)}catch(a){}t=o.write?o.write(t,n):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var f="";for(var u in i)i[u]&&(f+="; "+u,!0!==i[u]&&(f+="="+i[u].split(";")[0]));return document.cookie=n+"="+t+f}}function c(e,t){if("undefined"!=typeof document){for(var r={},i=document.cookie?document.cookie.split("; "):[],c=0;c<i.length;c++){var f=i[c].split("="),u=f.slice(1).join("=");t||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var a=n(f[0]);if(u=(o.read||o)(u,a)||n(u),t)try{u=JSON.parse(u)}catch(p){}if(r[a]=u,e===a)break}catch(p){}}return e?r[e]:r}}return r.set=i,r.get=function(e){return c(e,!1)},r.getJSON=function(e){return c(e,!0)},r.remove=function(n,t){i(n,"",e(t,{expires:-1}))},r.defaults={},r.withConverter=t,r}(function(){})});
},{}],"qUAp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.English=void 0,exports.English={languageName:"English",language:"Language",settings:"Settings",showDebug:"Show Debug Menu",team:"Team",name:"Name",updateName:"Update Name",ping:"Ping",score:"Score",frags:"Kills",deaths:"Deaths",precision:"Precision",pingDescription:"The time in milliseconds before your input arrives at the server.",connecting:"Connecting to the game server...",connectionError:"Connection to the game server has been closed.\nPlease reload the webpage to connect again.",gameName:"Dogfight",teamChooserTitle:"Choose your team:",teamChooserDescription:"Central Powers or Allies.\nBoth sides have their own unique plane selection,\nfrom which you can select after choosing your side.\nMiddle selection assigns you randomly.",planeAlbatrosName:"Albatros D.II",planeAlbatrosDescription:"A basic plane shipped with\na machinegun without any\nspecific pros or cons.\nGood choice for a novice.",planeFokkerName:"Fokker DR.I",planeFokkerDescription:"The legendary triplane.\nVery agile and can reach\nhigh heights.",planeSopwithName:"Sopwith Camel",planeSopwithDescription:"Very agile.\nnot recommended for\nbeginner pilots.",planeBristolName:"Bristol F.2b",planeBristolDescription:"High firepower plane,\nequipped with a machine gun.\nA good choice especially\nfor novice pilots.",planeJunkersName:"Junkers J.I",planeJunkersDescription:"Has bombs in addition\nto the machine gun,\na very durable yet\nclumsy plane.",planeSalmsonName:"Salmson 2",planeSalmsonDescription:"Versatile plane\nwith bombs and machine guns.\nFast and powerful, though\nnot very agile."};
},{}],"qk6j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Finnish=void 0,exports.Finnish={languageName:"suomi",language:"Kieli",settings:"Asetukset",showDebug:"Näytä vianetsintävalikko",name:"Nimi",team:"Tiimi",updateName:"Päivitä nimi",ping:"Ping",pingDescription:"Aika millisekunnissa ennen syötteesi saapumista palvelimelle.",connecting:"Yhdistetään pelipalvelimeen...",connectionError:"Yhteys pelipalvelimeen on suljettu.\nLataa web-sivu uudelleen muodostaaksesi yhteyden uudelleen.",gameName:"Lentokonepeli",teamChooserTitle:"Valitse kumpien puolella lennät:",teamChooserDescription:"keskusvaltojen vai ympärysvaltojen\nKummallakin puolella on oma konevalikoimansa,\njosta saat puolen valittuasi valita koneesi.\nKeskimmäinen valinta arpoo puolesi",planeAlbatrosName:"Albatros D.II",planeAlbatrosDescription:"Konekiväärillä varustettu\nperuskone ilman erityisen\nhyviä tai huonoja puolia.\nHyvä valinta aloittelijalle.",planeFokkerName:"Fokker DR.I",planeFokkerDescription:"Legendaarinen kolmitaso.\nErittäin kettärä ja myös\nmainio maksimilentokorkeus.",planeSopwithName:"Sopwith Camel",planeSopwithDescription:"Erittäin ketterä.\nei suositella aloitteleville\nlentäjille.",planeBristolName:"Bristol F.2b",planeBristolDescription:"Sangen tulivoimaisella\nkonekiväärillä varustettu\nkone. Hyvä valinta etenkin\naloitteleville lentäjille.",planeJunkersName:"Junkers J.I",planeJunkersDescription:"Konekiväärin lisäksi\npommeilla varustettu,\nerittäin kestävä, mutta\nkömpelö kone.",planeSalmsonName:"Salmson 2",planeSalmsonDescription:"Monipuolinen kaksitaso.\nKonekiväärin lisäksa pommit.\nNopea ja vahvamoottorinen\nkone, joskaan ei ketterä."};
},{}],"Gnk0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.German=void 0,exports.German={languageName:"Deutsch",language:"Sprache",settings:"Einstellungen",showDebug:"Debug-Menü anzeigen",name:"Name",team:"Mannschaft",updateName:"Name aktualisieren",ping:"Ping",score:"Punkte",frags:"Kills",deaths:"Tode",precision:"Genauigkeit",pingDescription:"Die Zeit in Millisekunden, bevor Ihre Eingabe auf dem Server eintrifft.",connecting:"Verbindung zum Spieleserver herstellen...",connectionError:"Die Verbindung zum Spieleserver wurde geschlossen.\nBitte laden Sie die Webseite neu, um erneut eine Verbindung herzustellen.",gameName:"Dogfight",teamChooserTitle:"Wählen Sie Ihr Team:",teamChooserDescription:"Mittelmächte oder Verbündete.\nBeide Seiten haben ihre eigene einzigartige\nFlugzeugauswahl, aus denen Sie nach Auswahl\nIhrer Seite auswählen können.\nDie mittlere Auswahl weist Sie zufällig zu.",planeAlbatrosName:"Albatros D.II",planeAlbatrosDescription:"Ein Basisflugzeug mit\nein Maschinengewehr ohne\nspezifische Vor- oder Nachteile.\nGute Wahl für einen Anfänger.",planeFokkerName:"Fokker DR.I",planeFokkerDescription:"Der legendäre Dreidecker.\nSehr wendig und kann erreichen\nhohe Höhen.",planeSopwithName:"Sopwith Camel",planeSopwithDescription:"Sehr agil.\nnicht empfohlen für\nAnfängerpiloten.",planeBristolName:"Bristol F.2b",planeBristolDescription:"Flugzeug mit hoher Feuerkraft,\nausgestattet mit einem Maschinengewehr.\nBesonders eine gute Wahl\nfür Anfängerpiloten.",planeJunkersName:"Junkers J.I",planeJunkersDescription:"Hat zusätzlich Bomben\nzum Maschinengewehr,\neine sehr langlebige noch\nungeschicktes Flugzeug.",planeSalmsonName:"Salmson 2",planeSalmsonDescription:"Vielseitiges Flugzeug\nmit Bomben und Maschinengewehren.\nSchnell und kraftvoll\nnicht sehr agil."};
},{}],"mQET":[function(require,module,exports) {
"use strict";var e;function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function t(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e}function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Localizer=exports.Languages=exports.Language=void 0;var u,g=i(require("js-cookie")),o=require("./english"),s=require("./finnish"),l=require("./german");!function(e){e.English="en",e.Finnish="fi",e.German="de"}(u=exports.Language||(exports.Language={})),exports.Languages=(r(e={},u.English,o.English),r(e,u.Finnish,s.Finnish),r(e,u.German,l.German),e);var c=function(){function e(){n(this,e);var a=Object.values(u),t=g.default.get("language"),r=window.navigator.language.slice(0,2);a.includes(t)?this.setLanguage(t):(console.log("Attempting to set language to browser language:",r),this.setLanguage(r))}return t(e,[{key:"get",value:function(e,n){return this.getString(this.language,e,n)}},{key:"getString",value:function(e,n,a){var t=exports.Languages[e][n];if(void 0!==a)for(var r in a)t=t.replace("{{".concat(r,"}}"),a[r]);return t}},{key:"getLanguage",value:function(){return this.language}},{key:"setLanguage",value:function(e){void 0===exports.Languages[e]?this.language=u.English:this.language=e,g.default.set("language",this.language,{expires:9999})}}]),e}();exports.Localizer=new c;
},{"js-cookie":"6bgg","./english":"qUAp","./finnish":"qk6j","./german":"Gnk0"}],"W8x0":[function(require,module,exports) {
"use strict";var e,t,n;function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IntByteSizes=exports.IntType=exports.PacketType=void 0,function(e){e[e.RequestFullSync=0]="RequestFullSync",e[e.RequestJoinTeam=1]="RequestJoinTeam",e[e.RequestTakeoff=2]="RequestTakeoff",e[e.UserGameInput=3]="UserGameInput",e[e.ChangeName=4]="ChangeName",e[e.Ping=5]="Ping",e[e.FullSync=6]="FullSync",e[e.ChangeSync=7]="ChangeSync",e[e.AssignPlayer=8]="AssignPlayer"}(t=exports.PacketType||(exports.PacketType={})),function(e){e[e.Int8=0]="Int8",e[e.Uint8=1]="Uint8",e[e.Int16=2]="Int16",e[e.Uint16=3]="Uint16"}(n=exports.IntType||(exports.IntType={})),exports.IntByteSizes=(s(e={},n.Int8,1),s(e,n.Uint8,1),s(e,n.Int16,2),s(e,n.Uint16,2),e);
},{}],"E2CC":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TeamSelector=exports.TeamOption=void 0;var i,r=require("../../dogfight/src/network/types"),s=require("../../dogfight/src/input"),a=o(require("js-cookie"));!function(e){e[e.Centrals=0]="Centrals",e[e.Random=1]="Random",e[e.Allies=2]="Allies"}(i=exports.TeamOption||(exports.TeamOption={}));var c=function(){function t(){e(this,t),this.selection=i.Random}return n(t,[{key:"getSelection",value:function(){return this.selection}},{key:"processInput",value:function(e,t,n){if(e.isPressed){var o=e.key;if(o!==s.InputKey.Enter)o!=s.InputKey.Left&&o!=s.InputKey.Up?o!=s.InputKey.Right&&o!=s.InputKey.Down||this.changeSelection(1,t):this.changeSelection(-1,t);else{console.log("Requesting to join team:",i[this.selection]);var c={type:r.PacketType.RequestJoinTeam,data:{team:this.selection,name:a.default.get("name")}};n.send(c)}}}},{key:"changeSelection",value:function(e,t){var n=Object.keys(i).length/2-1,o=this.selection+e;o<0&&(o=n),o%=n+1,this.selection=o,t.teamChooserUI.setSelection(this.selection)}}]),t}();exports.TeamSelector=c;
},{"../../dogfight/src/network/types":"W8x0","../../dogfight/src/input":"gjMS","js-cookie":"6bgg"}],"Qbcb":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.hasOwnProperty.call(t,i)&&n(e,t,i);return a(e,t),e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TeamChooserUI=void 0;var l=s(require("pixi.js")),o=require("../constants"),r=require("../../localization/localizer"),h=require("../../teamSelector"),f=10,d=3,c=function(){function e(i){t(this,e),this.enabled=!1,this.spritesheet=i,this.container=new l.Container;var n=i.textures["info_box.gif"];this.infoBox=new l.Sprite(n),this.bigText=new l.Text("",{fontSize:20,fontWeight:"bold",fill:"white"}),this.smallText=new l.Text("",{fontSize:17,fontWeight:"bold",fill:"yellow",leading:4});var a=i.textures["germanflag.jpg"],s=i.textures["randomflag.jpg"],r=i.textures["royalairforcesflag.jpg"];this.flagWidth=s.width,this.flagHeight=s.height,this.flagContainer=new l.Container,this.flagCentrals=new l.Sprite(a),this.flagRandom=new l.Sprite(s),this.flagAllies=new l.Sprite(r),this.selection=new l.Graphics,this.selection.clear(),this.selection.beginFill(16776960),this.selection.drawRect(0,0,this.flagWidth+2*d,this.flagHeight+2*d),this.selection.endFill(),this.flagRandom.x=this.flagWidth+f,this.flagAllies.x=2*this.flagWidth+2*f,this.flagContainer.addChild(this.flagCentrals),this.flagContainer.addChild(this.flagRandom),this.flagContainer.addChild(this.flagAllies),this.flagContainer.x=Math.round(o.GameScreen.Width/2-this.flagContainer.width/2),this.flagContainer.y=235,this.setSelection(h.TeamOption.Random),this.updateText(),this.infoBox.position.set(5,27),this.bigText.position.set(22,42),this.smallText.position.set(27,70),this.container.addChild(this.infoBox),this.container.addChild(this.bigText),this.container.addChild(this.smallText),this.container.addChild(this.selection),this.container.addChild(this.flagContainer),this.setEnabled(!1)}return i(e,[{key:"setSelection",value:function(t){var e=f*t+this.flagWidth*t,i=this.flagContainer.x+e-d,n=this.flagContainer.y-d;this.selection.position.set(i,n)}},{key:"updateText",value:function(){var t=r.Localizer.get("teamChooserTitle"),e=r.Localizer.get("teamChooserDescription");this.bigText.text=t,this.smallText.text=e}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(t){this.enabled=t,this.container.visible=this.enabled}}]),e}();exports.TeamChooserUI=c;
},{"pixi.js":"9FmR","../constants":"k/7z","../../localization/localizer":"mQET","../../teamSelector":"E2CC"}],"gkAU":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClientMode=void 0,function(e){e[e.SelectTeam=0]="SelectTeam",e[e.PreFlight=1]="PreFlight",e[e.Playing=2]="Playing",e[e.Specating=3]="Specating"}(e=exports.ClientMode||(exports.ClientMode={}));
},{}],"w4MJ":[function(require,module,exports) {
"use strict";var e;function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.hasOwnProperty.call(e,i)&&r(t,e,i);return l(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TakeoffSelectUI=void 0;var o=s(require("pixi.js")),c=require("../../localization/localizer"),h=require("../constants"),p=require("../../../../dogfight/src/entities/Plane"),u=(a(e={},p.PlaneType.Fokker,"pic_plane6.gif"),a(e,p.PlaneType.Sopwith,"pic_plane9.gif"),a(e,p.PlaneType.Albatros,"pic_plane4.gif"),a(e,p.PlaneType.Bristol,"pic_plane7.gif"),a(e,p.PlaneType.Junkers,"pic_plane5.gif"),a(e,p.PlaneType.Salmson,"pic_plane8.gif"),e),f=function(){function e(i){t(this,e),this.enabled=!1,this.spritesheet=i,this.container=new o.Container;var n=i.textures["selectionScreen.gif"],a=i.textures["pic_plane4.gif"];this.infoBox=new o.Sprite(n),this.planeImage=new o.Sprite(a),this.planeType=p.PlaneType.Albatros,this.bigText=new o.Text("",{fontSize:20,fontWeight:"bold",fill:"white"}),this.smallText=new o.Text("",{fontSize:17,fontWeight:"bold",fill:"black",leading:6}),this.updateText(),this.planeImage.position.set(10),this.bigText.position.set(15,138),this.smallText.position.set(15,173),this.container.addChild(this.infoBox),this.container.addChild(this.planeImage),this.container.addChild(this.bigText),this.container.addChild(this.smallText);var r=h.GameScreen.Width/2-this.container.width/2,l=(h.GameScreen.Height-150)/2-this.container.height/2;this.container.position.set(r,l),this.setEnabled(!1)}return n(e,[{key:"setPlane",value:function(e){this.planeType=e,this.planeImage.texture=this.spritesheet.textures[u[e]],this.updateText()}},{key:"updateText",value:function(){var e=p.PlaneType[this.planeType],t="plane".concat(e,"Name"),i="plane".concat(e,"Description"),n=c.Localizer.get(t),a=c.Localizer.get(i);this.bigText.text=n,this.smallText.text=a}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){this.enabled=e,this.container.visible=this.enabled}}]),e}();exports.TakeoffSelectUI=f;
},{"pixi.js":"9FmR","../../localization/localizer":"mQET","../constants":"k/7z","../../../../dogfight/src/entities/Plane":"OCWf"}],"aNjM":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=u();return function(){var i,n=h(e);if(t){var r=h(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return s(this,i)}}function s(t,i){return!i||"object"!==e(i)&&"function"!=typeof i?l(t):i}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.hasOwnProperty.call(e,i)&&c(t,e,i);return f(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PlaneSprite=void 0;var d=p(require("pixi.js")),m=require("../sprite"),y=require("../constants"),g=require("../../../../dogfight/src/entities/Plane"),b=require("../../../../dogfight/src/physics/helpers"),k=200,S=300,v=function(e){r(o,m.GameSprite);var i=a(o);function o(e){var n;return t(this,o),(n=i.call(this)).motorOn=!0,n.flipFrame=0,n.lastFlipState=void 0,n.animatingFlip=!1,n.frameStatus=g.FrameStatus.Normal,n.x=0,n.y=0,n.health=255,n.direction=0,n.planeType=g.PlaneType.Albatros,n.flipped=!1,n.spritesheet=e,n.container=new d.Container,n.debug=new d.Graphics,n.lightSmoke=new d.Container,n.darkSmoke=new d.Container,n.plane=new d.Sprite,n.plane.anchor.set(.5),n.container.zIndex=y.DrawLayer.Plane,n.lightSmoke.zIndex=y.DrawLayer.LightSmoke,n.darkSmoke.zIndex=y.DrawLayer.DarkSmoke,n.lightSmokeInterval=window.setInterval(function(){n.createLightSmoke()},100),n.darkSmokeTimeout=window.setTimeout(function(){n.createDarkSmoke()}),n.container.addChild(n.plane),n.renderables.push(n.container),n.renderables.push(n.lightSmoke),n.renderables.push(n.darkSmoke),n.renderablesDebug.push(n.debug),n}return n(o,[{key:"setDirection",value:function(){this.plane.rotation=-1*b.directionToRadians(this.direction)}},{key:"setPlaneTexture",value:function(){var e=g.planeImageIDs[this.planeType],t=g.frameTextureString[this.frameStatus].replace("X",e.toString());this.plane.texture=this.spritesheet.textures[t]}},{key:"handleFlip",value:function(){var e=this.flipped?-1:1;this.plane.scale.y=e,void 0!==this.flipped&&(void 0===this.lastFlipState&&(this.lastFlipState=this.flipped),this.flipped!=this.lastFlipState&&(0==this.animatingFlip&&(this.animatingFlip=!0,this.flipFrame=0,this.animateFlip()),this.lastFlipState=this.flipped))}},{key:"animateFlip",value:function(){var e=this;if(this.flipFrame>g.flipAnimation.length-1)return this.flipFrame=0,void(this.animatingFlip=!1);this.frameStatus=g.flipAnimation[this.flipFrame],this.setPlaneTexture(),this.flipFrame+=1,window.setTimeout(function(){e.animateFlip()},80)}},{key:"redraw",value:function(){this.handleFlip(),this.setPlaneTexture(),this.setDirection(),this.drawDebug(),this.container.position.set(this.x,this.y)}},{key:"drawDebug",value:function(){this.debug.clear(),this.debug.beginFill(16711935);var e=g.getPlaneRect(this.x,this.y,this.direction,this.planeType),t=e.width/2,i=e.height/2;this.debug.lineStyle(1,16711935),this.debug.beginFill(0,0),this.debug.drawRect(-t,-i,e.width,e.height),this.debug.drawCircle(0,0,2),this.debug.rotation=-1*b.directionToRadians(this.direction),this.debug.position.set(this.x,this.y),this.debug.endFill()}},{key:"createLightSmoke",value:function(){var e=this;if(0!=this.motorOn){var t=this.spritesheet.textures["smoke1.gif"],i=new d.Sprite(t),n=this.getSmokePosition(!1);i.anchor.set(.5,.5),i.position.set(n.x,n.y),this.lightSmoke.addChild(i),setTimeout(function(){e.lightSmoke.removeChild(i)},k)}}},{key:"createDarkSmoke",value:function(){var e=this,t=this.health/255,i=300;if(t<.9){var n=this.spritesheet.textures["smoke2.gif"],r=new d.Sprite(n),o=this.getSmokePosition(!0);r.anchor.set(.5,.5),r.position.set(o.x,o.y),r.alpha=.9,this.darkSmoke.addChild(r),t<=.66&&(i=200),t<=.33&&(i=100),window.setTimeout(function(){e.darkSmoke.removeChild(r)},S)}this.darkSmokeTimeout=window.setTimeout(function(){e.createDarkSmoke()},i)}},{key:"getSmokePosition",value:function(e){var t,i,n=b.directionToRadians(this.direction),r=Math.round(this.plane.width/2),o=r+Math.round(r/6),a=-1*n,s=o*Math.cos(a),l=o*Math.sin(a);return e?(t=this.x,i=this.y):(t=this.x-s,i=this.y-l),{x:t,y:i}}},{key:"destroy",value:function(){window.clearInterval(this.lightSmokeInterval),window.clearTimeout(this.darkSmokeTimeout)}}]),o}();exports.PlaneSprite=v;
},{"pixi.js":"9FmR","../sprite":"oNL/","../constants":"k/7z","../../../../dogfight/src/entities/Plane":"OCWf","../../../../dogfight/src/physics/helpers":"ELid"}],"A0Xk":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PlayerInfos=void 0;var a=i(require("pixi.js")),l=require("../../../../dogfight/src/constants"),u=require("../constants"),c=require("../../../../dogfight/src/entity"),s=function(){function t(n){e(this,t),this.info={},this.spritesheet=n,this.container=new a.Container,this.container.zIndex=u.DrawLayer.Player}return n(t,[{key:"deletePlayer",value:function(e){this.container.removeChild(this.info[e]),delete this.info[e]}},{key:"createText",value:function(){var e=new a.Text("",{fontSize:10,fontWeight:"bold",fill:u.TeamColor.SpectatorBackground});return e.anchor.x=.5,e}},{key:"setInfo",value:function(e,t,n,r){if(null==this.info[t]){var o=this.createText();this.container.addChild(o),this.info[t]=o}var i=this.info[t],a=n.name,s=n.team,f=u.TeamColor.SpectatorForeground;f=s==e?u.TeamColor.OwnForeground:u.TeamColor.OpponentForeground,e==l.Team.Spectator&&(f=u.TeamColor.SpectatorForeground);var d=r.x,h=r.y;null!=a&&null!=d&&null!=h&&(i.text=a,n.controlType==c.EntityType.Plane?i.position.set(d,-1*(h-25)):n.controlType==c.EntityType.Trooper&&i.position.set(d,-1*(h+48)),i.style.fill=f)}}]),t}();exports.PlayerInfos=s;
},{"pixi.js":"9FmR","../../../../dogfight/src/constants":"P1Jh","../constants":"k/7z","../../../../dogfight/src/entity":"pF7b"}],"HQCd":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=c();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?a(t):n}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&f(t,e,n);return p(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExplosionSprite=void 0;var y=h(require("pixi.js")),b=require("../sprite"),d=require("../constants"),x=require("../../../../dogfight/src/entities/Explosion"),g=500,v=function(e){i(o,b.GameSprite);var n=u(o);function o(e){var r;t(this,o),(r=n.call(this)).animating=!1,r.x=0,r.y=0,r.spritesheet=e,r.phase=1;var i=r.getTextureString(),u=e.textures[i];return r.debug=new y.Graphics,r.debug.zIndex=d.DrawLayer.Explosion,r.explosion=new y.Sprite(u),r.explosion.anchor.set(.5),r.container=new y.Container,r.container.zIndex=d.DrawLayer.Explosion,r.container.addChild(r.explosion),r.renderables.push(r.container),r.renderablesDebug.push(r.debug),r}return r(o,[{key:"drawDebug",value:function(){this.debug.clear(),this.debug.lineStyle(1),this.debug.beginFill(16753920,.5),this.debug.drawCircle(this.x,this.y,x.explosionGlobals.radius),this.debug.endFill()}},{key:"nextFrame",value:function(){var e=this;this.phase<=8?(this.explosion.texture=this.spritesheet.textures[this.getTextureString()],this.phase++):this.explosion.visible=!1,this.timeout=window.setTimeout(function(){e.nextFrame()},g/8)}},{key:"getTextureString",value:function(){return"explosion000"+this.phase+".gif"}},{key:"redraw",value:function(){this.explosion.position.set(this.x,this.y),this.drawDebug(),this.animating||(this.animating=!0,this.nextFrame())}},{key:"destroy",value:function(){window.clearTimeout(this.timeout)}}]),o}();exports.ExplosionSprite=v;
},{"pixi.js":"9FmR","../sprite":"oNL/","../constants":"k/7z","../../../../dogfight/src/entities/Explosion":"rk7a"}],"GyoM":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=a();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?c(t):n}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),p=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),b=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&s(t,e,n);return p(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BulletSprite=void 0;var h=b(require("pixi.js")),y=require("../sprite"),d=require("../constants"),v=require("../../../../dogfight/src/entities/Bullet"),m=[0,1118481,3355443,6316128,10066329],w=function(e){o(i,y.GameSprite);var n=u(i);function i(e){var r;return t(this,i),(r=n.call(this)).bulletColorIndex=0,r.ageRate=Math.round(v.bulletGlobals.lifetime/5),r.x=0,r.y=0,r.clientVX=0,r.clientVY=0,r.spritesheet=e,r.container=new h.Container,r.bullet=new h.Graphics,r.container.zIndex=d.DrawLayer.Bullet,r.container.addChild(r.bullet),r.renderables.push(r.container),r.timeout=window.setTimeout(function(){r.ageColor()},r.ageRate),r}return r(i,[{key:"ageColor",value:function(){var e=this;this.bulletColorIndex++,this.bulletColorIndex>=m.length&&(this.bulletColorIndex=m.length-1),this.timeout=window.setTimeout(function(){e.ageColor()},this.ageRate)}},{key:"redraw",value:function(){this.bullet.clear(),this.bullet.beginFill(m[this.bulletColorIndex]),this.bullet.drawRect(this.x,this.y,2,2),this.bullet.endFill()}},{key:"destroy",value:function(){window.clearTimeout(this.timeout)}}]),i}();exports.BulletSprite=w;
},{"pixi.js":"9FmR","../sprite":"oNL/","../constants":"k/7z","../../../../dogfight/src/entities/Bullet":"Y2wn"}],"k98C":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=a();return function(){var r,n=s(t);if(e){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?f(e):r}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),p=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),b=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&l(e,t,r);return p(e,t),e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BombSprite=void 0;var y=b(require("pixi.js")),h=require("../sprite"),d=require("../constants"),v=require("../../../../dogfight/src/physics/helpers"),m=function(t){o(i,h.GameSprite);var r=u(i);function i(t){var n;e(this,i),(n=r.call(this)).x=0,n.y=0,n.direction=0,n.spritesheet=t,n.container=new y.Container;var o=n.spritesheet.textures["bomb.gif"];return n.bomb=new y.Sprite(o),n.container.zIndex=d.DrawLayer.Bomb,n.container.addChild(n.bomb),n.renderables.push(n.container),n}return n(i,[{key:"redraw",value:function(){this.bomb.position.set(this.x,this.y);var t=v.directionToRadians(this.direction);this.bomb.rotation=-t}},{key:"destroy",value:function(){}}]),i}();exports.BombSprite=m;
},{"pixi.js":"9FmR","../sprite":"oNL/","../constants":"k/7z","../../../../dogfight/src/physics/helpers":"ELid"}],"q1ZM":[function(require,module,exports) {
"use strict";function e(e,i){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=t(e))||i&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw s}}}}function t(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}var s=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.hasOwnProperty.call(e,i)&&s(t,e,i);return o(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameRenderer=void 0;var h=l(require("pixi.js")),u=require("./constants"),d=require("./entities/debug"),p=require("./coords"),c=require("./entities/sky"),y=require("./entities/hud"),f=require("../../../dogfight/src/entity"),C=require("./sprites/flag"),g=require("./sprites/ground"),v=require("./sprites/water"),b=require("./sprites/tower"),w=require("./sprites/hill"),m=require("./sprites/runway"),S=require("./sprites/player"),E=require("./sprites/trooper"),k=require("./entities/teamChooserUI"),x=require("../types"),T=require("./entities/takeoffSelectUI"),q=require("./sprites/plane"),I=require("./entities/playerInfos"),A=require("./sprites/explosion"),P=require("./sprites/bullet"),U=require("./sprites/bomb");h.settings.SCALE_MODE=h.SCALE_MODES.NEAREST;var M=function(){function t(e){for(var i in r(this,t),this.sprites={},this.spriteSheet=e,this.pixiApp=new h.Application({width:u.GameScreen.Width,height:u.GameScreen.Height,backgroundColor:16352485,antialias:!0}),this.sprites={},f.EntityType)this.sprites[i]={};this.gameContainer=new h.Container,this.worldContainer=new h.Container,this.entityContainer=new h.Container,this.gameContainer.interactive=!0,this.playerInfo=new I.PlayerInfos(this.spriteSheet),this.debug=new d.DebugView(this.pixiApp.renderer),this.debug.setEnabled(!1),this.sky=new c.SkyBackground(this.spriteSheet),this.HUD=new y.GameHud(this.spriteSheet),this.teamChooserUI=new k.TeamChooserUI(this.spriteSheet),this.takeoffSelectUI=new T.TakeoffSelectUI(this.spriteSheet),this.entityContainer.sortableChildren=!0,this.debug.worldContainer.sortableChildren=!0,this.entityContainer.addChild(this.playerInfo.container),this.worldContainer.addChild(this.sky.container),this.worldContainer.addChild(this.entityContainer),this.worldContainer.addChild(this.debug.worldContainer),this.gameContainer.addChild(this.worldContainer),this.gameContainer.addChild(this.debug.gameContainer),this.gameContainer.addChild(this.HUD.container),this.gameContainer.addChild(this.teamChooserUI.container),this.gameContainer.addChild(this.takeoffSelectUI.container),this.pixiApp.stage.addChild(this.gameContainer)}return a(t,[{key:"setMode",value:function(e){this.teamChooserUI.setEnabled(e===x.ClientMode.SelectTeam),this.takeoffSelectUI.setEnabled(e===x.ClientMode.PreFlight)}},{key:"startGame",value:function(){this.teamChooserUI.setEnabled(!0)}},{key:"updateLanguage",value:function(){this.teamChooserUI.updateText(),this.takeoffSelectUI.updateText()}},{key:"updateSprite",value:function(t,i,r){if(void 0===this.sprites[t][i]){this.sprites[t][i]=this.createSprite(t);var n,a=e(this.sprites[t][i].renderables);try{for(a.s();!(n=a.n()).done;){var s=n.value;this.entityContainer.addChild(s)}}catch(u){a.e(u)}finally{a.f()}var o,l=e(this.sprites[t][i].renderablesDebug);try{for(l.s();!(o=l.n()).done;){var h=o.value;this.debug.worldContainer.addChild(h)}}catch(u){l.e(u)}finally{l.f()}f.EntityType.Plane}this.sprites[t][i].update(r)}},{key:"deleteSprite",value:function(t,i){var r=this.sprites[t][i];if(void 0!==r){r.destroy();var n,a=e(r.renderables);try{for(a.s();!(n=a.n()).done;){var s=n.value;this.entityContainer.removeChild(s),s.destroy({children:!0})}}catch(u){a.e(u)}finally{a.f()}var o,l=e(r.renderablesDebug);try{for(l.s();!(o=l.n()).done;){var h=o.value;this.debug.worldContainer.removeChild(h),h.destroy({children:!0})}}catch(u){l.e(u)}finally{l.f()}delete this.sprites[t][i]}else console.log("Attempted to delete undefined sprite:",t,i)}},{key:"createSprite",value:function(e){switch(e){case f.EntityType.Flag:return new C.FlagSprite(this.spriteSheet);case f.EntityType.Ground:return new g.GroundSprite(this.spriteSheet);case f.EntityType.Water:return new v.WaterSprite(this.spriteSheet);case f.EntityType.ControlTower:return new b.TowerSprite(this.spriteSheet);case f.EntityType.Hill:return new w.HillSprite(this.spriteSheet,this.entityContainer);case f.EntityType.Runway:return new m.RunwaySprite(this.spriteSheet);case f.EntityType.Player:return new S.PlayerSprite(this.spriteSheet);case f.EntityType.Trooper:return new E.TrooperSprite(this.spriteSheet);case f.EntityType.Explosion:return new A.ExplosionSprite(this.spriteSheet);case f.EntityType.Bullet:return new P.BulletSprite(this.spriteSheet);case f.EntityType.Bomb:return new U.BombSprite(this.spriteSheet);case f.EntityType.Plane:return new q.PlaneSprite(this.spriteSheet);default:console.log("ERROR: Failed to create undefined object sprite:",f.EntityType[e])}}},{key:"getStage",value:function(){return this.pixiApp.stage}},{key:"getView",value:function(){return this.pixiApp.view}},{key:"setCursorPosInGame",value:function(e){this.debug.setCursorPos(e)}},{key:"setCamera",value:function(e,t){this.worldContainer.position.set(e,t),this.debug.setCamera(e,t);var i=u.GameScreen.Width/2,r=u.GameScreen.Height/2,n=new h.Point(i,r),a=this.worldContainer.toLocal(n);this.sky.setPosition(a.x,a.y),this.sky.setCamera(e,t);var s=this.sprites[f.EntityType.Hill];for(var o in s)s[o].setCamera()}},{key:"resetZoom",value:function(){this.worldContainer.scale.set(1),this.debug.resetZoom()}},{key:"zoom",value:function(e,t,i){var r=this.worldContainer.scale.x;if(!(i&&r>5)&&(i||!(r<.1))){var n=new h.Point(e,t),a=this.worldContainer.toLocal(n),s=1+.1*(i?1:-1);this.worldContainer.scale.x*=s,this.worldContainer.scale.y*=s;var o=Math.round(-a.x*this.worldContainer.scale.x+n.x),l=Math.round(-a.y*this.worldContainer.scale.y+n.y);this.debug.zoom(s),this.setCamera(o,l)}}},{key:"centerCamera",value:function(e,t){var i=this.pixiApp.screen.height;this.HUD.isEnabled()&&(i-=this.HUD.getPanelHeight(),this.HUD.radar.centerCamera(e,t));var r=this.pixiApp.screen.width,n=p.toPixiCoords({x:-e,y:-t});n.x+=Math.round(r/2),n.y+=Math.round(i/2),this.setCamera(n.x,n.y)}},{key:"dragCamera",value:function(e,t){var i=this.worldContainer.position,r=Math.round(i.x+e),n=Math.round(i.y+t);this.setCamera(r,n)}},{key:"isDebugEnabled",value:function(){return this.debug.isEnabled()}},{key:"toggleDebugMode",value:function(){var e=!this.isDebugEnabled();this.debug.setEnabled(e),this.pixiApp.stage.cursor=e?"grab":"default"}},{key:"toggleGrid",value:function(){this.debug.toggleGrid()}}]),t}();exports.GameRenderer=M;
},{"pixi.js":"9FmR","./constants":"k/7z","./entities/debug":"t26B","./coords":"vw9k","./entities/sky":"C8RQ","./entities/hud":"UqKb","../../../dogfight/src/entity":"pF7b","./sprites/flag":"w3oE","./sprites/ground":"1ASH","./sprites/water":"04Tf","./sprites/tower":"Dcvp","./sprites/hill":"foZe","./sprites/runway":"7WUj","./sprites/player":"6bDj","./sprites/trooper":"8ZUT","./entities/teamChooserUI":"Qbcb","../types":"gkAU","./entities/takeoffSelectUI":"w4MJ","./sprites/plane":"aNjM","./entities/playerInfos":"A0Xk","./sprites/explosion":"HQCd","./sprites/bullet":"GyoM","./sprites/bomb":"k98C"}],"ATJb":[function(require,module,exports) {
"use strict";function e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function r(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function n(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CanvasEventHandler=void 0;var t=require("./coords"),a=function(){function r(n){e(this,r),this.dragging=!1,this.renderer=n,this.stage=this.renderer.getStage(),this.stage.interactive=!0}return n(r,[{key:"addListeners",value:function(){var e=this;window.addEventListener("keypress",function(r){switch(r.code){case"KeyD":e.renderer.toggleDebugMode();break;case"KeyR":e.renderer.resetZoom();break;case"KeyX":e.renderer.isDebugEnabled()&&e.renderer.toggleGrid()}}),this.renderer.getView().addEventListener("wheel",function(r){e.renderer.isDebugEnabled()&&e.renderer.zoom(r.clientX,r.clientY,r.deltaY<0)}),this.stage.on("pointermove",function(r){if(null!==r.target&&e.renderer.isDebugEnabled()){var n=r.data.getLocalPosition(e.renderer.worldContainer),a=t.toGameCoords(n);e.renderer.setCursorPosInGame(a)}if(e.dragging&&e.renderer.isDebugEnabled()){var i=r.data.global,o=i.x-e.prevX,s=i.y-e.prevY;e.renderer.dragCamera(o,s),e.prevX=i.x,e.prevY=i.y}}),this.stage.on("pointerdown",function(r){e.dragging=!0,e.prevX=r.data.global.x,e.prevY=r.data.global.y}),this.stage.on("pointerup",function(){e.dragging=!1}),this.stage.on("pointerupoutside",function(){e.dragging=!1})}}]),r}();exports.CanvasEventHandler=a;
},{"./coords":"vw9k"}],"p6U9":[function(require,module,exports) {
"use strict";var t;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClientState=exports.ConnectionState=void 0,function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=2]="CLOSED"}(t=exports.ConnectionState||(exports.ConnectionState={})),exports.ClientState={showPlayers:!1,connection:t.CONNECTING};
},{}],"0j2P":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InputHandler=void 0;var r=require("../../dogfight/src/input"),i=require("./clientState"),a={Space:r.InputKey.Jump,ArrowLeft:r.InputKey.Left,ArrowRight:r.InputKey.Right,ArrowUp:r.InputKey.Up,ArrowDown:r.InputKey.Down,ShiftLeft:r.InputKey.Bomb,ShiftRight:r.InputKey.Bomb,Period:r.InputKey.Bomb,KeyB:r.InputKey.Bomb,ControlLeft:r.InputKey.Fire,ControlRight:r.InputKey.Fire,Minus:r.InputKey.Fire,Enter:r.InputKey.Enter},o=function(){function t(){var n=this;for(var i in e(this,t),this.playerInputState={},r.InputKey)this.playerInputState[i]=!1;document.addEventListener("keydown",function(e){n.onKeyDown(e)}),document.addEventListener("keyup",function(e){n.onKeyUp(e)})}return n(t,[{key:"onKeyDown",value:function(e){if(this.isGameKey(e)){var t=this.getGameKey(e);this.playerInputState[t]||(this.playerInputState[t]=!0,this.processGameKeyChange({key:t,isPressed:!0}))}"Tab"==e.key&&(i.ClientState.showPlayers=!0,e.preventDefault())}},{key:"onKeyUp",value:function(e){if(this.isGameKey(e)){var t=this.getGameKey(e);this.playerInputState[t]&&(this.playerInputState[t]=!1,this.processGameKeyChange({key:t,isPressed:!1}))}"Tab"==e.key&&(i.ClientState.showPlayers=!1,e.preventDefault())}},{key:"getGameKey",value:function(e){return a[e.code]}},{key:"isGameKey",value:function(e){return void 0!==a[e.code]}}]),t}();exports.InputHandler=o;
},{"../../dogfight/src/input":"gjMS","./clientState":"p6U9"}],"9Rjh":[function(require,module,exports) {
"use strict";var e;function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TakeoffSelector=void 0;var u=require("../../dogfight/src/constants"),o=require("../../dogfight/src/network/types"),c=require("../../dogfight/src/entities/Plane"),l=require("../../dogfight/src/input"),y=[c.PlaneType.Albatros,c.PlaneType.Junkers,c.PlaneType.Fokker],h=[c.PlaneType.Bristol,c.PlaneType.Salmson,c.PlaneType.Sopwith],f=(s(e={},u.FacingDirection.Left,{x:70,y:170}),s(e,u.FacingDirection.Right,{x:-95,y:170}),e),p=function(){function e(){i(this,e),this.index=0,this.planeSelection=c.PlaneType.Albatros,this.team=u.Team.Centrals,this.index=0,this.runways=[]}return a(e,[{key:"updateRunways",value:function(e,t,i){for(var r in this.runways=[],e){var a=e[r];a.team==this.team&&a.health>0&&this.runways.push(n({id:r},a))}if(0!=this.runways.length&&(this.runways.sort(function(e,t){return Math.abs(parseInt(e.id))-Math.abs(parseInt(t.id))}),i)){var s=this.runways.reduce(function(e,t){return Math.abs(e.x)>Math.abs(t.x)?e:t});this.setRunway(s.id,t)}}},{key:"setRunway",value:function(e,t){this.selectedRunway=e,this.focusOnRunway(this.selectedRunway,t)}},{key:"changeRunway",value:function(e,t){var n=this,i=this.runways.findIndex(function(e){return e.id==n.selectedRunway})+e;i<0?i=this.runways.length-1:i>this.runways.length-1&&(i=0),this.setRunway(this.runways[i].id,t)}},{key:"focusOnRunway",value:function(e,t){var n=this.runways.find(function(t){return t.id==e}),i=f[n.direction],r=n.x+i.x,a=n.y+i.y;t.centerCamera(r,a)}},{key:"setTeam",value:function(e){this.team=e,this.setPlane(this.index)}},{key:"setPlane",value:function(e){this.team==u.Team.Centrals?this.planeSelection=y[e]:this.planeSelection=h[e]}},{key:"getPlaneSelection",value:function(){return this.planeSelection}},{key:"processInput",value:function(e,t,n){if(e.isPressed){var i=e.key;if(i!==l.InputKey.Enter)i!=l.InputKey.Up?(i==l.InputKey.Down&&this.changeSelection(1,t),i==l.InputKey.Left&&this.changeRunway(-1,t),i==l.InputKey.Right&&this.changeRunway(1,t)):this.changeSelection(-1,t);else{console.log("Sending takeoff request..");var r={type:o.PacketType.RequestTakeoff,data:{plane:this.planeSelection,runway:parseInt(this.selectedRunway)}};n.send(r)}}}},{key:"changeSelection",value:function(e,t){var n=this.index+e;n<0?n=2:n>2&&(n=0),this.index=n,this.setPlane(n),t.takeoffSelectUI.setPlane(this.planeSelection)}}]),e}();exports.TakeoffSelector=p;
},{"../../dogfight/src/constants":"P1Jh","../../dogfight/src/network/types":"W8x0","../../dogfight/src/entities/Plane":"OCWf","../../dogfight/src/input":"gjMS"}],"kZJw":[function(require,module,exports) {
"use strict";var n;function e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.schemaTypes=void 0;var t=require("./types"),y=require("../entity"),i={numbers:[{name:"x",intType:t.IntType.Int16},{name:"y",intType:t.IntType.Int16},{name:"planeType",intType:t.IntType.Uint8},{name:"team",intType:t.IntType.Uint8},{name:"direction",intType:t.IntType.Uint8}],booleans:["flipped","motorOn"],strings:[]},p={numbers:[{name:"x",intType:t.IntType.Int16},{name:"y",intType:t.IntType.Int16},{name:"team",intType:t.IntType.Uint8}],booleans:[],strings:[]},T={numbers:[{name:"x",intType:t.IntType.Int16},{name:"y",intType:t.IntType.Int16},{name:"terrain",intType:t.IntType.Uint8}],booleans:[],strings:[]},a={numbers:[{name:"x",intType:t.IntType.Int16},{name:"y",intType:t.IntType.Int16},{name:"width",intType:t.IntType.Uint16},{name:"terrain",intType:t.IntType.Uint8}],booleans:[],strings:[]},I={numbers:[{name:"team",intType:t.IntType.Uint8},{name:"controlType",intType:t.IntType.Uint8},{name:"controlID",intType:t.IntType.Uint16},{name:"ping",intType:t.IntType.Uint16},{name:"status",intType:t.IntType.Uint8},{name:"fuel",intType:t.IntType.Uint8},{name:"ammo",intType:t.IntType.Uint8},{name:"health",intType:t.IntType.Uint8},{name:"bombs",intType:t.IntType.Uint8},{name:"frags",intType:t.IntType.Int16},{name:"score",intType:t.IntType.Int16},{name:"deaths",intType:t.IntType.Int16},{name:"precision",intType:t.IntType.Uint8}],booleans:[],strings:["name"]},m={numbers:[{name:"x",intType:t.IntType.Int16},{name:"y",intType:t.IntType.Int16},{name:"direction",intType:t.IntType.Uint8},{name:"team",intType:t.IntType.Uint8},{name:"health",intType:t.IntType.Uint8}],booleans:[],strings:[]},r={numbers:[{name:"x",intType:t.IntType.Int16},{name:"y",intType:t.IntType.Int16},{name:"direction",intType:t.IntType.Uint8},{name:"terrain",intType:t.IntType.Uint8}],booleans:[],strings:[]},s={numbers:[{name:"x",intType:t.IntType.Int16},{name:"y",intType:t.IntType.Int16},{name:"health",intType:t.IntType.Uint8},{name:"state",intType:t.IntType.Uint8},{name:"direction",intType:t.IntType.Uint8},{name:"team",intType:t.IntType.Uint8}],booleans:[],strings:[]},o={numbers:[{name:"x",intType:t.IntType.Int16},{name:"y",intType:t.IntType.Int16},{name:"width",intType:t.IntType.Uint16},{name:"direction",intType:t.IntType.Uint8}],booleans:[],strings:[]},l={numbers:[{name:"x",intType:t.IntType.Int16},{name:"y",intType:t.IntType.Int16}],booleans:[],strings:[]},b={numbers:[{name:"x",intType:t.IntType.Int16},{name:"y",intType:t.IntType.Int16},{name:"clientVX",intType:t.IntType.Int16},{name:"clientVY",intType:t.IntType.Int16},{name:"age",intType:t.IntType.Uint16}],booleans:[],strings:[]},U={numbers:[{name:"x",intType:t.IntType.Int16},{name:"y",intType:t.IntType.Int16},{name:"age",intType:t.IntType.Uint16},{name:"direction",intType:t.IntType.Uint8}],booleans:[],strings:[]};exports.schemaTypes=(e(n={},y.EntityType.Plane,i),e(n,y.EntityType.Ground,a),e(n,y.EntityType.Hill,T),e(n,y.EntityType.Flag,p),e(n,y.EntityType.Runway,m),e(n,y.EntityType.ControlTower,r),e(n,y.EntityType.Trooper,s),e(n,y.EntityType.Player,I),e(n,y.EntityType.Water,o),e(n,y.EntityType.Explosion,l),e(n,y.EntityType.Bullet,b),e(n,y.EntityType.Bomb,U),n);
},{"./types":"W8x0","../entity":"pF7b"}],"qewU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decodePacket=exports.encodePacket=exports.decodeCache=exports.encodeCache=void 0;var e=require("./types"),t=require("./schemas");function n(t,n){var a=0,r=n.numbers.length+n.booleans.length+n.strings.length,i=Math.ceil(r/8);n.numbers.forEach(function(n){void 0!==t[n.name]&&(a+=e.IntByteSizes[n.intType])}),n.strings.forEach(function(e){if(void 0!==t[e]){var n=1+(new TextEncoder).encode(t[e]).byteLength;a+=n}});var s=0;n.booleans.forEach(function(e){void 0!==t[e]&&(s+=1)});var c=Math.ceil(s/8);return 3+i+(a+=c)}function a(t,n,a,r){switch(r){case e.IntType.Uint8:t.setUint8(n,a);break;case e.IntType.Int8:t.setInt8(n,a);break;case e.IntType.Uint16:t.setUint16(n,a);break;case e.IntType.Int16:t.setInt16(n,a)}return e.IntByteSizes[r]}function r(t,n,a){var r=0;switch(a){case e.IntType.Uint8:r=t.getUint8(n);break;case e.IntType.Int8:r=t.getInt8(n);break;case e.IntType.Uint16:r=t.getUint16(n);break;case e.IntType.Int16:r=t.getInt16(n)}return r}function i(e,t,n,r){var i=r.numbers.length+r.booleans.length+r.strings.length,s=t+Math.ceil(i/8),c=t,o=0,u=0;r.numbers.forEach(function(t){void 0!==n[t.name]&&(u|=1<<o%8,e.setUint8(c,u),s+=a(e,s,n[t.name],t.intType)),++o%8==0&&(c++,u=0)});var f=0,y=0,p=0,h=s;return r.booleans.forEach(function(t){if(void 0!==n[t]){u|=1<<o%8,e.setUint8(c,u);var a=1==n[t]?1:0;y|=a<<p%8,e.setUint8(h,y),f++}++o%8==0&&(c++,u=0),++p%8==0&&(h++,y=0)}),s+=Math.ceil(f/8),r.strings.forEach(function(t){if(void 0!==n[t]){u|=1<<o%8,e.setUint8(c,u);var a=(new TextEncoder).encode(n[t]);e.setUint8(s++,a.byteLength),a.forEach(function(t){e.setUint8(s++,t)})}++o%8==0&&(c++,u=0)}),s}function s(e){var a=e.data,r=1;for(var s in a)for(var c in a[s]){r+=n(a[s][c],t.schemaTypes[s])}var o=0,u=new ArrayBuffer(r),f=new DataView(u);for(var y in f.setUint8(o,e.type),o++,a)for(var p in a[y]){var h=a[y][p],d=parseInt(p),g=parseInt(y);f.setUint8(o++,g),f.setUint16(o,d),o=i(f,o+=2,h,t.schemaTypes[g])}return u}function c(n){for(var a=0,i=new DataView(n),s={type:i.getUint8(a++),data:{}},c=i.byteLength,o=function(){var n=i.getUint8(a++),o=i.getUint16(a);a+=2,null==s.data[n]&&(s.data[n]={}),s.data[n][o]={type:n};var u=t.schemaTypes[n],f=u.numbers.length+u.booleans.length+u.strings.length,y=Math.ceil(f/8),p=0,h=a,d=i.getUint8(h);if(a+=y,u.numbers.forEach(function(t){if(1==(d>>p%8&1)){var c=r(i,a,t.intType);s.data[n][o][t.name]=c,a+=e.IntByteSizes[t.intType]}++p%8==0&&(h++,d=i.getUint8(h))}),a>=c)return"break";var g=0,U=0,v=a,l=i.getUint8(v);u.booleans.forEach(function(e){if(1==(d>>p%8&1)){var t=1==(l>>U%8&1);s.data[n][o][e]=t,g++}++p%8==0&&(h++,d=i.getUint8(h)),++U%8==0&&(v++,l=i.getUint8(v))}),a+=Math.ceil(g/8),u.strings.forEach(function(e){if(1==(d>>p%8&1)){for(var t=i.getUint8(a++),r=new TextDecoder,c=[],u=0;u<t;u++)c.push(i.getUint8(a++));var f=r.decode(new Uint8Array(c));s.data[n][o][e]=f}++p%8==0&&(h++,d=i.getUint8(h))})};a<c;){if("break"===o())break}return s}function o(e){var t=e.data,n=new ArrayBuffer(3),a=new DataView(n);return a.setUint8(0,e.type),a.setUint8(1,t.key),a.setUint8(2,t.isPressed?1:0),n}function u(e){var t=new DataView(e);return{type:t.getUint8(0),data:{key:t.getUint8(1),isPressed:1==t.getUint8(2)}}}function f(t){switch(t.type){case e.PacketType.FullSync:case e.PacketType.ChangeSync:return s(t);case e.PacketType.UserGameInput:return o(t);default:return JSON.stringify(t)}}function y(t){if("string"==typeof t)return JSON.parse(t);switch(new DataView(t).getUint8(0)){case e.PacketType.ChangeSync:case e.PacketType.FullSync:return c(t);case e.PacketType.UserGameInput:return u(t)}}exports.encodeCache=s,exports.decodeCache=c,exports.encodePacket=f,exports.decodePacket=y;
},{"./types":"W8x0","./schemas":"kZJw"}],"Gn3z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.processInputs=exports.trooperInput=exports.planeInput=void 0;var e=require("../entity"),t=require("../input");function s(e,s,r,a){for(var p in a){var n=parseInt(p),y=a[p];switch(n){case t.InputKey.Up:r.setKeyPressed(t.GameKey.PLANE_FLIP,y);break;case t.InputKey.Down:r.setKeyPressed(t.GameKey.PLANE_MOTOR,y);break;case t.InputKey.Jump:r.setKeyPressed(t.GameKey.PLANE_JUMP,y);break;case t.InputKey.Fire:r.setKeyPressed(t.GameKey.PLANE_SHOOT,y);break;case t.InputKey.Bomb:r.setKeyPressed(t.GameKey.PLANE_BOMB,y);break;case t.InputKey.Left:r.setKeyPressed(t.GameKey.PLANE_UP,y);break;case t.InputKey.Right:r.setKeyPressed(t.GameKey.PLANE_DOWN,y);break;case t.InputKey.Left:case t.InputKey.Right:}}}function r(e,s,r,a){for(var p in a){var n=parseInt(p),y=a[p];switch(n){case t.InputKey.Jump:r.setKeyPressed(t.GameKey.MAN_PARACHUTE,y);break;case t.InputKey.Bomb:r.setKeyPressed(t.GameKey.MAN_SUICIDE,y);break;case t.InputKey.Fire:r.setKeyPressed(t.GameKey.MAN_SHOOT,y);break;case t.InputKey.Left:r.setKeyPressed(t.GameKey.MAN_LEFT,y);break;case t.InputKey.Right:r.setKeyPressed(t.GameKey.MAN_RIGHT,y)}}}function a(t){for(var a in t.inputQueue){var p=parseInt(a),n=t.getObject(e.EntityType.Player,p);if(void 0===n)return;var y=n.controlID,u=n.controlType,K=t.getObject(u,y);if(void 0!==K)switch(u){case e.EntityType.Plane:s(t,n,K,t.inputQueue[p]);break;case e.EntityType.Trooper:r(t,n,K,t.inputQueue[p])}}t.inputQueue={}}exports.planeInput=s,exports.trooperInput=r,exports.processInputs=a;
},{"../entity":"pF7b","../input":"gjMS"}],"seT0":[function(require,module,exports) {
"use strict";function e(e){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.processCollision=void 0,exports.processCollision=e;
},{}],"yCEr":[function(require,module,exports) {
"use strict";function e(e,r){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=t(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return u=e.done,e},e:function(e){c=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(c)throw i}}}}function t(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.processTakeoffs=exports.doTakeoff=exports.requestTakeoff=void 0;var n=require("../entities/Plane"),o=require("../entities/PlayerInfo"),a=require("../entity"),i=require("../constants");function u(e,t,r){var o=t.team,i=r.plane,u=r.runway;n.teamPlanes[o].includes(i)&&(e.getObjectIndex(a.EntityType.Runway,u)>=0&&e.takeoffQueue.push({playerID:t.id,request:r}))}function c(e,t){var r=e.getObject(a.EntityType.Player,t.playerID);if(void 0!==r&&r.controlType===a.EntityType.None){var u=e.getObject(a.EntityType.Runway,t.request.runway);if(void 0!==u&&!(u.health<=0)&&u.reserveFor(1)){console.log("reservation done");var c=new n.Plane(e.nextID(a.EntityType.Plane),e,e.cache,t.request.plane,r,r.team,u);u.direction==i.FacingDirection.Right&&-1,c.init(),c.setFlipped(e.cache,u.direction==i.FacingDirection.Left);var f=u.direction==i.FacingDirection.Left?Math.round(i.ROTATION_DIRECTIONS/2):0;c.setDirection(e.cache,f),e.planes.push(c),r.setControl(e.cache,c.type,c.id),r.setStatus(e.cache,o.PlayerStatus.Playing)}}}function f(t){var r,n=e(t.takeoffQueue);try{for(n.s();!(r=n.n()).done;){c(t,r.value)}}catch(o){n.e(o)}finally{n.f()}t.takeoffQueue=[]}exports.requestTakeoff=u,exports.doTakeoff=c,exports.processTakeoffs=f;
},{"../entities/Plane":"OCWf","../entities/PlayerInfo":"F43/","../entity":"pF7b","../constants":"P1Jh"}],"aCuy":[function(require,module,exports) {
"use strict";function e(e,s){e.planes.forEach(function(o){o.tick(e.cache,s)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.processPlanes=void 0,exports.processPlanes=e;
},{}],"432Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.processBullets=void 0;var e=require("../entities/Bullet");function t(t,l){t.bullets.forEach(function(s){s.tick(t.cache,l),s.age,e.bulletGlobals.lifetime})}exports.processBullets=t;
},{"../entities/Bullet":"Y2wn"}],"qhkN":[function(require,module,exports) {
"use strict";function e(e,o){e.bombs.forEach(function(s){s.tick(e.cache,o)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.processBombs=void 0,exports.processBombs=e;
},{}],"9xOf":[function(require,module,exports) {
"use strict";function o(o,s){o.explosions.forEach(function(e){e.tick(o.cache,s)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.processExplosions=void 0,exports.processExplosions=o;
},{}],"Gnef":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.destroyTrooper=exports.processTroopers=void 0;var e=require("../entities/PlayerInfo"),r=require("../entity"),t=require("../physics/vector");function o(e,r,o){var n,a=e.troopers.filter(function(e){return e.team!=r.team}),i=1/0;if(a.forEach(function(e){var o=t.distance({x:e.x,y:e.y},{x:r.x,y:r.y});o<i&&(i=o,n=e)}),i<=o)return n;var s,c=e.planes.filter(function(e){return e.team!=r.team}),u=1/0;if(c.forEach(function(e){var o=t.distance({x:e.x,y:e.y},{x:r.x,y:r.y});o<u&&0==e.isAbandoned&&(u=o,s=e)}),u<=o)return s;var y,f=e.runways.filter(function(e){return e.team!=r.team}),l=1/0;return f.forEach(function(e){var o=t.distance({x:e.x,y:e.y},{x:r.x,y:r.y});o<l&&(l=o,y=e)}),l<=o?y:null}function n(e,r){e.troopers.forEach(function(t){t.tick(e.cache,r)})}function a(t,o,n){console.log("destroy");var a=t.getPlayerControlling(o);null!=a&&(a.setStatus(t.cache,e.PlayerStatus.Takeoff),a.setControl(t.cache,r.EntityType.None,0)),n&&t.createExplosion(o.x,o.y,o),t.removeEntity(o)}exports.processTroopers=n,exports.destroyTrooper=a;
},{"../entities/PlayerInfo":"F43/","../entity":"pF7b","../physics/vector":"HvmY"}],"uOd0":[function(require,module,exports) {
"use strict";function e(e,i){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=t(e))||i&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function t(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameWorld=void 0;var a=require("../entities/PlayerInfo"),l=require("../entities/Explosion"),u=require("../entity"),y=require("./input"),h=require("./collision"),c=require("./takeoff"),f=require("./plane"),p=require("./bullet"),v=require("./bomb"),d=require("./explosion"),b=require("./trooper"),g=function(){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(var o in r(this,t),this.cache={},this.ids={},this.objectArrays=(n(e={},u.EntityType.Player,"players"),n(e,u.EntityType.Flag,"flags"),n(e,u.EntityType.Ground,"grounds"),n(e,u.EntityType.Hill,"hills"),n(e,u.EntityType.Runway,"runways"),n(e,u.EntityType.ControlTower,"towers"),n(e,u.EntityType.Trooper,"troopers"),n(e,u.EntityType.Water,"waters"),n(e,u.EntityType.Plane,"planes"),n(e,u.EntityType.Explosion,"explosions"),n(e,u.EntityType.Bullet,"bullets"),n(e,u.EntityType.Bomb,"bombs"),e),this.idCounter=0,this.app=null,this.textures=null,this.resetWorld(),this.textures=i,this.app=s,u.EntityType)this.ids[o]=0}return o(t,[{key:"getImage",value:function(e){return this.textures[e]}},{key:"getEntities",value:function(){return[this.planes,this.troopers,this.bombs,this.bullets,this.runways,this.grounds,this.waters,this.players,this.towers,this.hills,this.flags,this.explosions]}},{key:"clearCache",value:function(){this.cache={}}},{key:"resetWorld",value:function(){this.clearCache(),this.takeoffQueue=[],this.inputQueue={},this.players=[],this.flags=[],this.grounds=[],this.hills=[],this.runways=[],this.towers=[],this.troopers=[],this.waters=[],this.planes=[],this.explosions=[],this.bullets=[],this.bombs=[]}},{key:"tick",value:function(e){return y.processInputs(this),c.processTakeoffs(this),f.processPlanes(this,e),p.processBullets(this,e),v.processBombs(this,e),b.processTroopers(this,e),d.processExplosions(this,e),h.processCollision(this),this.cache}},{key:"getPlayerControlling",value:function(t){var i,n=e(this.players);try{for(n.s();!(i=n.n()).done;){var r=i.value;if(r.controlID==t.id&&r.controlType==t.type)return r}}catch(s){n.e(s)}finally{n.f()}}},{key:"queueInput",value:function(e,t,i){void 0===this.inputQueue[e]&&(this.inputQueue[e]={}),this.inputQueue[e][t]=i}},{key:"addPlayer",value:function(e){var t=new a.PlayerInfo(this.nextID(u.EntityType.Player),this,this.cache);return t.set(this.cache,"team",e),this.addEntity(t),t}},{key:"removePlayer",value:function(e){var t=this.getObject(e.controlType,e.controlID);void 0!==t&&this.removeEntity(t),this.removeEntity(e)}},{key:"getObject",value:function(e,t){var i=this.getObjectIndex(e,t);if(!(i<0))return this[this.objectArrays[e]][i]}},{key:"createExplosion",value:function(e,t,i){var n=new l.Explosion(this.nextID(u.EntityType.Explosion),this,this.cache,i,e,t);this.explosions.push(n)}},{key:"addEntity",value:function(e){this[this.objectArrays[e.type]].push(e),this.cache[e.type][e.id]=e.getState()}},{key:"removeEntity",value:function(e){var t=this.getObjectIndex(e.type,e.id);if(!(t<0)){var i=e.type,n=e.id;this[this.objectArrays[e.type]].splice(t,1),e.removed=!0,null==this.cache[i]&&(this.cache[i]={}),this.cache[i][n]={type:i}}}},{key:"getObjectIndex",value:function(e,t){var i=-1;if(e===u.EntityType.None)return i;for(var n=this[this.objectArrays[e]],r=0;r<n.length;r++)if(n[r].id===t){i=r;break}return i}},{key:"nextID",value:function(e){var t=this.ids[e]++;return t>=65535&&(this.ids[e]=0),t}},{key:"died",value:function(e,t,i){var n=e.getPlayerInfo();n.setStatus(n.world.cache,a.PlayerStatus.Takeoff),n.setControl(n.world.cache,u.EntityType.None,0)}},{key:"landed",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var i=e.getPlayerInfo();i.setStatus(i.world.cache,a.PlayerStatus.Takeoff),i.setControl(i.world.cache,u.EntityType.None,0)}},{key:"getGameTimeLeft",value:function(){return-1}},{key:"adjustScore",value:function(e,t){}},{key:"isRoundOver",value:function(){return!1}},{key:"setRoundOver",value:function(e){}},{key:"killed",value:function(e,t,i){var n=e.getPlayerInfo();if(n.submitDeath(e),null==t||t.getPlayerInfo()==n){n.submitSuicide(e)}else{var r=t.getPlayerInfo();r.getTeam()==n.getTeam()?(1==i?2:5,r.submitTeamKill(t,e)):(1==i?3:6,r.submitKill(t,e))}}},{key:"killedWithoutAvatar",value:function(e,t){e.submitSuicide(null)}},{key:"isTeamBalance",value:function(){return!0}},{key:"setTeamBalance",value:function(e){}},{key:"getState",value:function(){var t=[this.players,this.flags,this.grounds,this.hills,this.runways,this.towers,this.waters,this.planes,this.explosions,this.troopers,this.bombs,this.bullets],i={};for(var n in t){var r,s=e(t[n]);try{for(s.s();!(r=s.n()).done;){var o=r.value;null==i[o.type]&&(i[o.type]={}),i[o.type][o.id]=o.getState()}}catch(a){s.e(a)}finally{s.f()}}return i}}]),t}();exports.GameWorld=g;
},{"../entities/PlayerInfo":"F43/","../entities/Explosion":"rk7a","../entity":"pF7b","./input":"Gn3z","./collision":"seT0","./takeoff":"yCEr","./plane":"aCuy","./bullet":"432Y","./bomb":"qhkN","./explosion":"9xOf","./trooper":"Gnef"}],"I4rR":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=a();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?f(e):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Flag=void 0;var s=require("../constants"),y=require("../entity"),p=function(t){o(u,y.Entity);var n=i(u);function u(t,r,o){var i,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s.Team.Centrals;return e(this,u),(i=n.call(this,t,r)).type=y.EntityType.Flag,i.setData(o,{x:c,y:f,team:a}),i}return r(u,[{key:"getState",value:function(){return{type:this.type,x:this.x,y:this.y,team:this.team}}}]),u}();exports.Flag=p;
},{"../constants":"P1Jh","../entity":"pF7b"}],"feL7":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=l();return function(){var n,r=a(t);if(e){var o=a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?f(e):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Hill=void 0;var y=require("../constants"),s=require("../entity"),p=function(t){o(i,s.Entity);var n=u(i);function i(t,r,o){var u,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:y.Terrain.Normal;return e(this,i),(u=n.call(this,t,r)).type=s.EntityType.Hill,u.setData(o,{x:c,y:f,terrain:l}),u}return r(i,[{key:"getState",value:function(){return{type:this.type,x:this.x,y:this.y,terrain:this.terrain}}}]),i}();exports.Hill=p;
},{"../constants":"P1Jh","../entity":"pF7b"}],"Som0":[function(require,module,exports) {
"use strict";function e(e,r){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=t(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,s=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw s}}}}function t(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseContinuedPiece=exports.parseLevelLayer=exports.loadStringMap=exports.loadMap=exports.classic2=exports.bunkers=exports.london=exports.katala=void 0;var n=require("../entities/Ground"),a=require("../entities/flag"),o=require("../entities/Hill"),s=require("../entities/Runway"),c=require("../entities/tower"),i=require("../entities/Water"),u=require("../entity"),l=require("../constants");function y(e,t){t.grounds.forEach(function(t){var r=new n.Ground(e.nextID(u.EntityType.Ground),e,e.cache);r.setData(e.cache,t),e.grounds.push(r)}),t.flags.forEach(function(t){var r=new a.Flag(e.nextID(u.EntityType.Flag),e,e.cache);r.setData(e.cache,t),e.flags.push(r)}),t.hills.forEach(function(t){var r=new o.Hill(e.nextID(u.EntityType.Hill),e,e.cache);r.setData(e.cache,t),e.hills.push(r)}),t.runways.forEach(function(t){var r=new s.Runway(e.nextID(u.EntityType.Runway),e,e.cache,null,0,0,1);r.setData(e.cache,t),e.runways.push(r)}),t.towers.forEach(function(t){var r=new c.Tower(e.nextID(u.EntityType.ControlTower),e,e.cache);r.setData(e.cache,t),e.towers.push(r)}),t.waters.forEach(function(t){var r=new i.Water(e.nextID(u.EntityType.Water),e,e.cache);r.setData(e.cache,t),e.waters.push(r)})}function p(t,r){var n,a=e(r);try{for(a.s();!(n=a.n()).done;){h(t,n.value)}}catch(o){a.e(o)}finally{a.f()}}function h(e,t){for(var r=100*-t.length/2,y=0;y<t.length;y++){var p=void 0,h=void 0;switch(t.charAt(y)){case"#":p=w(t,y,"#",r),h=new n.Ground(e.nextID(u.EntityType.Ground),e,e.cache,p[0]+p[1]/2,0,p[1],0),console.log("# = "+p[0]),e.grounds.push(h),y=p[2];break;case"_":p=w(t,y,"_",r),h=new n.Ground(e.nextID(u.EntityType.Ground),e,e.cache,p[0],0,p[1],1),e.grounds.push(h),y=p[2];break;case"/":p=w(t,y,"/",r),h=new i.Water(e.nextID(u.EntityType.Water),e,e.cache,p[0],-25,p[1],0),e.waters.push(h),y=p[2];break;case"\\":p=w(t,y,"\\",r),h=new i.Water(e.nextID(u.EntityType.Water),e,e.cache,p[0],-25,p[1],1),e.waters.push(h),y=p[2];break;case"(":p=w(t,y,"(",r),h=new i.Water(e.nextID(u.EntityType.Water),e,e.cache,p[0],-25,p[1],2),e.waters.push(h),y=p[2];break;case")":p=w(t,y,")",r),h=new i.Water(e.nextID(u.EntityType.Water),e,e.cache,p[0],-25,p[1],3),e.waters.push(h),y=p[2];break;case"<":case">":case"[":case"]":case".":break;case"H":h=new o.Hill(e.nextID(u.EntityType.Hill),e,e.cache,8*(r+100*y+50)/10,0,0),e.hills.push(h);break;case"S":h=new o.Hill(e.nextID(u.EntityType.Hill),e,e.cache,8*(r+100*y+50)/10,0,1),e.hills.push(h);break;case"L":h=new s.Runway(e.nextID(u.EntityType.Runway),e,e.cache,0,r+100*y+50,0,0),e.runways.push(h);break;case"R":h=new s.Runway(e.nextID(u.EntityType.Runway),e,e.cache,0,r+100*y+50,0,1),e.runways.push(h);break;case"l":h=new s.Runway(e.nextID(u.EntityType.Runway),e,e.cache,1,r+100*y+50,0,0),e.runways.push(h);break;case"r":h=new s.Runway(e.nextID(u.EntityType.Runway),e,e.cache,1,r+100*y+50,0,1),e.runways.push(h);break;case"T":h=new c.Tower(e.nextID(u.EntityType.ControlTower),e,e.cache,r+100*y+50,0,l.Terrain.Normal,0),e.towers.push(h);break;case"t":h=new c.Tower(e.nextID(u.EntityType.ControlTower),e,e.cache,r+100*y+50,0,l.Terrain.Normal,1),e.towers.push(h);break;case"D":h=new c.Tower(e.nextID(u.EntityType.ControlTower),e,e.cache,r+100*y+50,0,l.Terrain.Desert,0),e.towers.push(h);break;case"d":h=new c.Tower(e.nextID(u.EntityType.ControlTower),e,e.cache,r+100*y+50,0,l.Terrain.Desert,1),e.towers.push(h);break;case"F":h=new a.Flag(e.nextID(u.EntityType.ControlTower),e,e.cache,r+100*y+50,0,0),e.flags.push(h);break;case"f":h=new a.Flag(e.nextID(u.EntityType.ControlTower),e,e.cache,r+100*y+50,0,1),e.flags.push(h);break;default:console.log("def = "+t.charAt(0))}}}function w(e,t,r,n){var a=100,o=0;for(0==t?(o=43536,a+=22e3+n):o=100*t+n;t+1<e.length&&e.charAt(t+1)==r;)t++,a+=100;return t+1==e.length&&(a=22e3),[o,a,t]}exports.katala=["..HF..fH....................H......","...L..r.........................t..","\\<######>//////////////////////<#>/"],exports.london=["...H..........H...H...H....H...H...H.....H..........H....",".R..................i....l..i..r....i..................L.","F...F..........fft....ff..t...T..ff....Tff..........F...F","#####>////////<###########################>\\\\\\\\\\\\\\\\<#####"],exports.bunkers=["...Sp..S.p...........pP...........P..S..p.S...",".....D.F.R..........F..f.............f.d......","...R................I..i..........l.....l.....","([_________]((((((([____])))))))[___________])"],exports.classic2=["...H.....H.....H.....H.....H.....H.....H.....H.....H.....H...","...R.....................................................l...","........R....R.................................l....l........","........F....T.................................t....f........","\\<#########################################################>/"],exports.loadMap=y,exports.loadStringMap=p,exports.parseLevelLayer=h,exports.parseContinuedPiece=w;
},{"../entities/Ground":"FzLS","../entities/flag":"I4rR","../entities/Hill":"feL7","../entities/Runway":"Icoo","../entities/tower":"rXxr","../entities/Water":"D35m","../entity":"pF7b","../constants":"P1Jh"}],"RtQO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MAP_CLASSIC_2=void 0;var r=require("../constants");exports.MAP_CLASSIC_2={grounds:[{x:0,y:0,width:5700,terrain:r.Terrain.Normal}],flags:[{x:-2200,y:0,team:r.Team.Centrals},{x:2200,y:0,team:r.Team.Allies}],runways:[{x:-2696,y:0,direction:r.FacingDirection.Right,team:r.Team.Centrals},{x:-2196,y:0,direction:r.FacingDirection.Right,team:r.Team.Centrals},{x:-1696,y:0,direction:r.FacingDirection.Right,team:r.Team.Centrals},{x:1696,y:0,direction:r.FacingDirection.Left,team:r.Team.Allies},{x:2196,y:0,direction:r.FacingDirection.Left,team:r.Team.Allies},{x:2696,y:0,direction:r.FacingDirection.Left,team:r.Team.Allies}],waters:[{width:6e4,x:-3e4,y:-25,direction:r.FacingDirection.Right},{width:6e4,x:3e4,y:-25,direction:r.FacingDirection.Left}],towers:[{x:-1700,y:0,direction:r.FacingDirection.Right,terrain:r.Terrain.Normal},{x:1700,y:0,direction:r.FacingDirection.Left,terrain:r.Terrain.Normal}],hills:[{x:-2700,y:0,terrain:r.Terrain.Normal},{x:-2160,y:0,terrain:r.Terrain.Normal},{x:-1620,y:0,terrain:r.Terrain.Normal},{x:-1080,y:0,terrain:r.Terrain.Normal},{x:-540,y:0,terrain:r.Terrain.Normal},{x:0,y:0,terrain:r.Terrain.Normal},{x:540,y:0,terrain:r.Terrain.Normal},{x:1080,y:0,terrain:r.Terrain.Normal},{x:1620,y:0,terrain:r.Terrain.Normal},{x:2160,y:0,terrain:r.Terrain.Normal},{x:2700,y:0,terrain:r.Terrain.Normal}]};
},{"../constants":"P1Jh"}],"8TZu":[function(require,module,exports) {
"use strict";function e(e){var t=e.trim();return t.length>=exports.NAME_LENGTH_MIN&&t.length<=exports.NAME_LENGTH_MAX}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNameValid=exports.NAME_LENGTH_MAX=exports.NAME_LENGTH_MIN=void 0,exports.NAME_LENGTH_MIN=3,exports.NAME_LENGTH_MAX=15,exports.isNameValid=e;
},{}],"0tPW":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,a,r){return a&&t(e.prototype,a),r&&t(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ClientServer=void 0;var r=require("../../dogfight/src/world/world"),i=require("../../dogfight/src/network/types"),s=require("./teamSelector"),l=require("../../dogfight/src/constants"),o=require("../../dogfight/src/world/takeoff"),n=require("../../dogfight/src/world/map"),c=require("../../dogfight/src/maps/classic2"),d=require("../../dogfight/src/validation"),h=require("./clientState"),p=function(){function t(a,i){var s=this;e(this,t),this.startTime=Date.now(),this.lastTick=0,this.hasJoined=!1,console.log("Local game server started!"),this.serverMsg=a,h.ClientState.connection=h.ConnectionState.OPEN,this.world=new r.GameWorld(i),n.loadMap(this.world,c.MAP_CLASSIC_2),setInterval(function(){s.loop()},10)}return a(t,[{key:"packetRecieved",value:function(e){switch(e.type){case i.PacketType.UserGameInput:if(null==this.player)break;var t=e.data.key,a=!0===e.data.isPressed;this.player.inputState[t]=a,this.world.queueInput(this.player.id,t,a);break;case i.PacketType.RequestFullSync:var r=this.world.getState(),n={type:i.PacketType.FullSync,data:r};this.serverMsg(n),this.hasJoined=!0;break;case i.PacketType.RequestTakeoff:o.requestTakeoff(this.world,this.player,e.data);break;case i.PacketType.ChangeName:var c=e.data.name;console.log("processing",c),d.isNameValid(c)&&void 0!==this.player&&this.player.setName(this.world.cache,c);break;case i.PacketType.RequestJoinTeam:var h=e.data.team;switch(h){case s.TeamOption.Centrals:h=l.Team.Centrals;break;case s.TeamOption.Allies:h=l.Team.Allies;break;default:h=Math.random()<.5?l.Team.Centrals:l.Team.Allies}if(this.player=this.world.addPlayer(h),void 0!==e.data.name){var p=e.data.name;d.isNameValid(p)&&this.player.setName(this.world.cache,p)}console.log("Created new Player: id",this.player.id,l.Team[this.player.team]);var u={type:i.PacketType.AssignPlayer,data:{id:this.player.id,team:this.player.team,name:this.player.name}};this.serverMsg(u)}}},{key:"loop",value:function(){var e=Date.now()-this.startTime,t=e-this.lastTick,a=this.world.tick(t);if(this.world.clearCache(),Object.keys(a).length>0&&this.hasJoined){var r={type:i.PacketType.ChangeSync,data:a};this.serverMsg(r)}this.lastTick=e}}]),t}();exports.ClientServer=p;
},{"../../dogfight/src/world/world":"uOd0","../../dogfight/src/network/types":"W8x0","./teamSelector":"E2CC","../../dogfight/src/constants":"P1Jh","../../dogfight/src/world/takeoff":"yCEr","../../dogfight/src/world/map":"Som0","../../dogfight/src/maps/classic2":"RtQO","../../dogfight/src/validation":"8TZu","./clientState":"p6U9"}],"uM2Q":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NetworkHandler=void 0;var i=require("../../dogfight/src/network/types"),r=require("../../dogfight/src/network/encode"),o=require("./ClientServer"),s=require("../../dogfight/src/constants"),c=require("./clientState"),a="ws://"+location.host,l=function(){function t(n,r){var l=this;if(e(this,t),this.clientOnly="client"==s.BuildType.Client,this.onPacketRecieved=n,1==this.clientOnly){this.clientServer=new o.ClientServer(this.onPacketRecieved,r);var u={type:i.PacketType.RequestFullSync};this.send(u)}else this.ws=new WebSocket(a),this.ws.binaryType="arraybuffer",this.ws.onopen=function(){c.ClientState.connection=c.ConnectionState.OPEN;var e={type:i.PacketType.RequestFullSync};l.send(e)},this.ws.onclose=function(){c.ClientState.connection=c.ConnectionState.CLOSED},this.ws.onmessage=function(e){l.processServerMessage(e)}}return n(t,[{key:"send",value:function(e){var t=r.encodePacket(e);this.clientOnly?this.clientServer.packetRecieved(e):this.ws.send(t)}},{key:"processServerMessage",value:function(e){var t=r.decodePacket(e.data);this.onPacketRecieved(t)}}]),t}();exports.NetworkHandler=l;
},{"../../dogfight/src/network/types":"W8x0","../../dogfight/src/network/encode":"qewU","./ClientServer":"0tPW","../../dogfight/src/constants":"P1Jh","./clientState":"p6U9"}],"I3zv":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(){"use strict";var n=function(){this.init()};n.prototype={init:function(){var e=this||o;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||o;if(e=parseFloat(e),t.ctx||l(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||o;t.ctx||l(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var a=t._howls[n]._soundById(r[i]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||o,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||o,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,l()),e},codecs:function(e){return(this||o)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||o;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||o,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(a){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),i=r&&parseInt(r[0].split("/")[1],10)<33;return e._codecs={mp3:!(i||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||o;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var o=new Audio;o._unlocked=!0,e._releaseHtml5Audio(o)}catch(n){e.noAudio=!0;break}for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var i=e._howls[r]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[r]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||o;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||o;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&o.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&o.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var o=new n,r=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};r.prototype={init:function(e){var t=this;return o.ctx||l(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=o.usingWebAudio&&!t._html5,void 0!==o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=null;if(o.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var n,r;if(this._format&&this._format[t])n=this._format[t];else{if("string"!=typeof(r=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&o.codecs(n)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new i(this),this._webAudio&&s(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var i=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(i++,r=n._sounds[a]._id);1===i?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&o._autoResume();var d=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),_=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-d),l=1e3*_/Math.abs(s._rate),c=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var f=function(){s._paused=!1,s._seek=d,s._start=c,s._stop=p,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(d>=p)){var h=s._node;if(n._webAudio){var m=function(){n._playLock=!1,f(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;h.gain.setValueAtTime(e,o.ctx.currentTime),s._playStart=o.ctx.currentTime,void 0===h.bufferSource.start?s._loop?h.bufferSource.noteGrainOn(0,d,86400):h.bufferSource.noteGrainOn(0,d,_):s._loop?h.bufferSource.start(0,d,86400):h.bufferSource.start(0,d,_),l!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),l)),t||setTimeout(function(){n._emit("play",s._id),n._loadQueue()},0)};"running"===o.state&&"interrupted"!==o.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(s._id))}else{var v=function(){h.currentTime=d,h.muted=s._muted||n._muted||o._muted||h.muted,h.volume=s._volume*o.volume(),h.playbackRate=s._rate;try{var r=h.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,f(),r.then(function(){n._playLock=!1,h._unlocked=!0,t||(n._emit("play",s._id),n._loadQueue())}).catch(function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):t||(n._playLock=!1,f(),n._emit("play",s._id),n._loadQueue()),h.playbackRate=s._rate,h.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),l):(n._endTimers[s._id]=function(){n._ended(s),h.removeEventListener("ended",n._endTimers[s._id],!1)},h.addEventListener("ended",n._endTimers[s._id],!1))}catch(i){n._emit("playerror",s._id,i)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===h.src&&(h.src=n._src,h.load());var A=window&&window.ejecta||!h.readyState&&o._navigator.isCocoonJS;if(h.readyState>=3||A)v();else{n._playLock=!0;var y=function(){v(),h.removeEventListener(o._canPlayEvent,y,!1)};h.addEventListener(o._canPlayEvent,y,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),o=0;o<n.length;o++){t._clearTimer(n[o]);var r=t._soundById(n[o]);if(r&&!r._paused&&(r._seek=t.seek(n[o]),r._rateSeek=0,r._paused=!0,t._stopFade(n[o]),r._node))if(t._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),t._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||t._emit("pause",r?r._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var o=n._getSoundIds(e),r=0;r<o.length;r++){n._clearTimer(o[r]);var i=n._soundById(o[r]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(o[r]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),i=0;i<r.length;i++){var a=n._soundById(r[i]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,o.ctx.currentTime):a._node&&(a._node.muted=!!o._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&void 0===i[1]?r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0]):i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10)),!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)(n=r._soundById(t[a]))&&(n._volume=e,i[2]||r._stopFade(t[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,o.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*o.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,r)}}),i;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),i.volume(e,r);for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(r||i._stopFade(a[s]),i._webAudio&&!u._muted){var d=o.ctx.currentTime,_=d+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,d),u._node.gain.linearRampToValueAtTime(t,_)}i._startFadeInterval(u,e,t,n,a[s],void 0===r)}}return i},_startFadeInterval:function(e,t,n,o,r,i){var a=this,s=t,u=n-t,d=Math.abs(u/.01),_=Math.max(4,d>0?o/d:o),l=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var r=(Date.now()-l)/o;l=Date.now(),s+=u*r,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))},_)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,o=arguments;if(0===o.length)return this._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=this._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],this._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var r=this._getSoundIds(t),i=0;i<r.length;i++)(n=this._soundById(r[i]))&&(n._loop=e,this._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return this},rate:function(){var e,t,n,r=this,i=arguments;if(0===i.length)t=r._sounds[0]._id;else if(1===i.length){r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)if(n=r._soundById(t[a])){r.playing(t[a])&&(n._rateSeek=r.seek(t[a]),n._playStart=r._webAudio?o.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,o.ctx.currentTime):n._node&&(n._node.playbackRate=e);var s=r.seek(t[a]),u=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!r._endTimers[t[a]]&&n._paused||(r._clearTimer(t[a]),r._endTimers[t[a]]=setTimeout(r._ended.bind(r,n),u)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)t=n._sounds[0]._id;else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return n;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var i=n._soundById(t);if(i){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var a=n.playing(t)?o.ctx.currentTime-i._playStart:0,s=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(s+a*Math.abs(i._rate))}return i._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),i._seek=e,i._ended=!1,n._clearTimer(t),n._webAudio||!i._node||isNaN(i._node.duration)||(i._node.currentTime=e);var d=function(){n._emit("seek",t),u&&n.play(t,!0)};if(u&&!n._webAudio){var _=function(){n._playLock?setTimeout(_,0):d()};setTimeout(_,0)}else d()}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(o._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),o._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=o._howls.indexOf(e);r>=0&&o._howls.splice(r,1);var i=!0;for(n=0;n<o._howls.length;n++)if(o._howls[n]._src===e._src||e._src.indexOf(o._howls[n]._src)>=0){i=!1;break}return a&&i&&delete a[e._src],o.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,o){var r=this["_on"+e];return"function"==typeof t&&r.push(o?{id:n,fn:t,once:o}:{id:n,fn:t}),this},off:function(e,t,n){var o=this["_on"+e],r=0;if("number"==typeof t&&(n=t,t=null),t||n)for(r=0;r<o.length;r++){var i=n===o[r].id;if(t===o[r].fn&&i||!t&&i){o.splice(r,1);break}}else if(e)this["_on"+e]=[];else{var a=Object.keys(this);for(r=0;r<a.length;r++)0===a[r].indexOf("_on")&&Array.isArray(this[a[r]])&&(this[a[r]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var o=this["_on"+e],r=o.length-1;r>=0;r--)o[r].id&&o[r].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,o[r].fn),0),o[r].once&&this.off(e,o[r].fn,o[r].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=o.ctx.currentTime;var r=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),r)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),o._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new i(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=o.ctx.createBufferSource(),e._node.bufferSource.buffer=a[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,o.ctx.currentTime),this},_cleanBuffer:function(e){var t=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=o._scratchBuffer}catch(n){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=o._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),this._node.gain.setValueAtTime(t,o.ctx.currentTime),this._node.paused=!0,this._node.connect(o.masterGain)):o.noAudio||(this._node=o._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(o._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=e._src,this._node.preload=!0===e._preload?"auto":e._preload,this._node.volume=t*o.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++o._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(o._canPlayEvent,this._loadFn,!1)},_endListener:function(){var e=this._parent;e._duration===1/0&&(e._duration=Math.ceil(10*this._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}};var a={},s=function(e){var t=e._src;if(a[t])return e._duration=a[t].duration,void _(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),o=new Uint8Array(n.length),r=0;r<n.length;++r)o[r]=n.charCodeAt(r);d(o.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){i.setRequestHeader(t,e._xhr.headers[t])}),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?d(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete a[t],e.load())},u(i)}},u=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(a[t._src]=e,_(t,e)):n()};"undefined"!=typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(e).then(r).catch(n):o.ctx.decodeAudioData(e,r,n)},_=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},l=function(){if(o.usingWebAudio){try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(i){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),t=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!r&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};"function"==typeof e&&e.amd&&e([],function(){return{Howler:o,Howl:r}}),"undefined"!=typeof exports&&(exports.Howler=o,exports.Howl=r),void 0!==t?(t.HowlerGlobal=n,t.Howler=o,t.Howl=r,t.Sound=i):"undefined"!=typeof window&&(window.HowlerGlobal=n,window.Howler=o,window.Howl=r,window.Sound=i)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof e?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,n,o,r,i){if(!this.ctx||!this.ctx.listener)return this;var a=this._orientation;return t="number"!=typeof t?a[1]:t,n="number"!=typeof n?a[2]:n,o="number"!=typeof o?a[3]:o,r="number"!=typeof r?a[4]:r,i="number"!=typeof i?a[5]:i,"number"!=typeof e?a:(this._orientation=[e,t,n,o,r,i],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,o,r,i),this)},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"stereo",action:function(){o.stereo(e,n)}}),o;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return o._stereo;o._stereo=e,o._pos=[e,0,0]}for(var i=o._getSoundIds(n),a=0;a<i.length;a++){var s=o._soundById(i[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,r),"spatial"===r?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),o._emit("stereo",s._id)}}return o},Howl.prototype.pos=function(e,n,o,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,o,r)}}),i;if(n="number"!=typeof n?0:n,o="number"!=typeof o?-.5:o,void 0===r){if("number"!=typeof e)return i._pos;i._pos=[e,n,o]}for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,o],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setPosition(e,n,o)),i._emit("pos",u._id)}}return i},Howl.prototype.orientation=function(e,n,o,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,o,r)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,o="number"!=typeof o?i._orientation[2]:o,void 0===r){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,o]}for(var a=i._getSoundIds(r),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,o],u._node&&(u._panner||(u._pos||(u._pos=i._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,o)),i._emit("orientation",u._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,o,r=arguments;if(!this._webAudio)return this;if(0===r.length)return this._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return(o=this._soundById(parseInt(r[0],10)))?o._pannerAttr:this._pannerAttr;e=r[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:this._panningModel})}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var i=this._getSoundIds(n),a=0;a<i.length;a++)if(o=this._soundById(i[a])){var s=o._pannerAttr;s={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:s.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:s.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:s.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:s.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:s.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:s.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:s.panningModel};var u=o._panner;u?(u.coneInnerAngle=s.coneInnerAngle,u.coneOuterAngle=s.coneOuterAngle,u.coneOuterGain=s.coneOuterGain,u.distanceModel=s.distanceModel,u.maxDistance=s.maxDistance,u.refDistance=s.refDistance,u.rolloffFactor=s.rolloffFactor,u.panningModel=s.panningModel):(o._pos||(o._pos=this._pos||[0,0,-.5]),t(o,"spatial"))}return this},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}();
},{}],"diBc":[function(require,module,exports) {
"use strict";function e(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function o(e,o){for(var a=0;a<o.length;a++){var n=o[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,a,n){return a&&o(e.prototype,a),n&&o(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AudioManager=void 0;var n=require("howler"),s=function(){function o(){e(this,o),this.engine=new n.Howl({src:["assets/audio/motor.mp3","assets/audio/motor.wav"],volume:0,loop:!0})}return a(o,[{key:"playEngine",value:function(e){e?this.engine.play():this.engine.stop()}},{key:"playExplosion",value:function(){new n.Howl({src:["assets/audio/explosion.mp3","assets/audio/explosion.wav"]}).play()}},{key:"playBullet",value:function(){new n.Howl({src:["assets/audio/m16.mp3","assets/audio/m16.wav"]}).play()}},{key:"playBomb",value:function(){new n.Howl({src:["assets/audio/bombdrop.mp3","assets/audio/bombdrop.wav"]}).play()}}]),o}();exports.AudioManager=s;
},{"howler":"I3zv"}],"y+Uf":[function(require,module,exports) {
module.exports={frames:{"beach-l.gif":{frame:{x:1416,y:32,w:110,h:37},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:110,h:37},sourceSize:{w:110,h:37}},"beach-l_desert.gif":{frame:{x:1528,y:32,w:114,h:37},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:114,h:37},sourceSize:{w:114,h:37}},"beach-r_desert.gif":{frame:{x:2,y:32,w:114,h:34},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:114,h:34},sourceSize:{w:114,h:34}},"bomb.gif":{frame:{x:13,y:2,w:11,h:5},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:11,h:5},sourceSize:{w:11,h:5}},"bullet.gif":{frame:{x:2,y:2,w:2,h:2},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:2,h:2},sourceSize:{w:2,h:2}},"carrybomb.gif":{frame:{x:26,y:2,w:7,h:10},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:7,h:10},sourceSize:{w:7,h:10}},"controlTower.gif":{frame:{x:2,y:150,w:100,h:92},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:92},sourceSize:{w:100,h:92}},"controlTowerDesert.gif":{frame:{x:620,y:150,w:119,h:105},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:119,h:105},sourceSize:{w:119,h:105}},"droppedbomb.gif":{frame:{x:35,y:2,w:7,h:10},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:7,h:10},sourceSize:{w:7,h:10}},"explosion0001.gif":{frame:{x:2,y:399,w:130,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:130,h:130},sourceSize:{w:130,h:130}},"explosion0002.gif":{frame:{x:134,y:399,w:130,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:130,h:130},sourceSize:{w:130,h:130}},"explosion0003.gif":{frame:{x:266,y:399,w:130,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:130,h:130},sourceSize:{w:130,h:130}},"explosion0004.gif":{frame:{x:398,y:399,w:130,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:130,h:130},sourceSize:{w:130,h:130}},"explosion0005.gif":{frame:{x:530,y:399,w:130,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:130,h:130},sourceSize:{w:130,h:130}},"explosion0006.gif":{frame:{x:662,y:399,w:130,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:130,h:130},sourceSize:{w:130,h:130}},"explosion0007.gif":{frame:{x:794,y:399,w:130,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:130,h:130},sourceSize:{w:130,h:130}},"explosion0008.gif":{frame:{x:926,y:399,w:130,h:130},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:130,h:130},sourceSize:{w:130,h:130}},"flag_ger_1.gif":{frame:{x:1092,y:150,w:50,h:110},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:50,h:110},sourceSize:{w:50,h:110}},"flag_ger_2.gif":{frame:{x:1144,y:150,w:50,h:110},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:50,h:110},sourceSize:{w:50,h:110}},"flag_ger_3.gif":{frame:{x:1196,y:150,w:50,h:110},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:50,h:110},sourceSize:{w:50,h:110}},"flag_raf_1.gif":{frame:{x:1248,y:150,w:50,h:110},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:50,h:110},sourceSize:{w:50,h:110}},"flag_raf_2.gif":{frame:{x:1300,y:150,w:50,h:110},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:50,h:110},sourceSize:{w:50,h:110}},"flag_raf_3.gif":{frame:{x:1352,y:150,w:50,h:110},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:50,h:110},sourceSize:{w:50,h:110}},"germanflag.jpg":{frame:{x:104,y:150,w:170,h:100},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:170,h:100},sourceSize:{w:170,h:100}},"germanflag_small.gif":{frame:{x:1090,y:2,w:34,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:34,h:20},sourceSize:{w:34,h:20}},"ground1.gif":{frame:{x:2,y:71,w:800,h:37},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:800,h:37},sourceSize:{w:800,h:37}},"groundDesert.gif":{frame:{x:804,y:71,w:800,h:37},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:800,h:37},sourceSize:{w:800,h:37}},"headquarter_broke.gif":{frame:{x:1320,y:2,w:62,h:25},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:62,h:25},sourceSize:{w:62,h:25}},"headquarter_germans.gif":{frame:{x:1384,y:2,w:62,h:25},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:62,h:25},sourceSize:{w:62,h:25}},"headquarter_raf.gif":{frame:{x:1448,y:2,w:62,h:25},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:62,h:25},sourceSize:{w:62,h:25}},"hill1.gif":{frame:{x:741,y:150,w:349,h:106},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:349,h:106},sourceSize:{w:349,h:106}},"info_box.gif":{frame:{x:744,y:551,w:500,h:190},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:500,h:190},sourceSize:{w:500,h:190}},"man_icon.gif":{frame:{x:56,y:2,w:24,h:11},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:11},sourceSize:{w:24,h:11}},"mdl_page.jpg":{frame:{x:2,y:864,w:740,h:550},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:740,h:550},sourceSize:{w:740,h:550}},"metalpanel.jpg":{frame:{x:1058,y:399,w:740,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:740,h:150},sourceSize:{w:740,h:150}},"palmtree.gif":{frame:{x:1767,y:71,w:55,h:77},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:55,h:77},sourceSize:{w:55,h:77}},"parachuter0.gif":{frame:{x:118,y:32,w:24,h:34},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:34},sourceSize:{w:24,h:34}},"parachuter1.gif":{frame:{x:144,y:32,w:24,h:34},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:34},sourceSize:{w:24,h:34}},"parachuter2.gif":{frame:{x:170,y:32,w:24,h:34},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:34},sourceSize:{w:24,h:34}},"parachuter3.gif":{frame:{x:196,y:32,w:24,h:34},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:34},sourceSize:{w:24,h:34}},"pic_plane4.gif":{frame:{x:2,y:271,w:292,h:126},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:292,h:126},sourceSize:{w:292,h:126}},"pic_plane5.gif":{frame:{x:296,y:271,w:292,h:126},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:292,h:126},sourceSize:{w:292,h:126}},"pic_plane6.gif":{frame:{x:590,y:271,w:292,h:126},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:292,h:126},sourceSize:{w:292,h:126}},"pic_plane7.gif":{frame:{x:884,y:271,w:292,h:126},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:292,h:126},sourceSize:{w:292,h:126}},"pic_plane8.gif":{frame:{x:1178,y:271,w:292,h:126},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:292,h:126},sourceSize:{w:292,h:126}},"pic_plane9.gif":{frame:{x:1472,y:271,w:292,h:126},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:292,h:126},sourceSize:{w:292,h:126}},"plane4.gif":{frame:{x:864,y:2,w:30,h:16},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:30,h:16},sourceSize:{w:30,h:16}},"plane4_flip1.gif":{frame:{x:1578,y:2,w:30,h:27},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:30,h:27},sourceSize:{w:30,h:27}},"plane4_flip2.gif":{frame:{x:1649,y:2,w:30,h:28},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:30,h:28},sourceSize:{w:30,h:28}},"plane5.gif":{frame:{x:970,y:2,w:42,h:19},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:42,h:19},sourceSize:{w:42,h:19}},"plane5_flip1.gif":{frame:{x:1277,y:2,w:41,h:23},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:41,h:23},sourceSize:{w:41,h:23}},"plane5_flip2.gif":{frame:{x:1606,y:71,w:42,h:37},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:42,h:37},sourceSize:{w:42,h:37}},"plane6.gif":{frame:{x:1126,y:2,w:38,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:38,h:20},sourceSize:{w:38,h:20}},"plane6_flip1.gif":{frame:{x:1681,y:2,w:37,h:28},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:37,h:28},sourceSize:{w:37,h:28}},"plane6_flip2.gif":{frame:{x:1688,y:71,w:38,h:40},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:38,h:40},sourceSize:{w:38,h:40}},"plane7.gif":{frame:{x:1014,y:2,w:36,h:19},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:36,h:19},sourceSize:{w:36,h:19}},"plane7_flip1.gif":{frame:{x:1052,y:2,w:36,h:19},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:36,h:19},sourceSize:{w:36,h:19}},"plane7_flip2.gif":{frame:{x:1650,y:71,w:36,h:38},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:36,h:38},sourceSize:{w:36,h:38}},"plane8.gif":{frame:{x:822,y:2,w:40,h:15},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:15},sourceSize:{w:40,h:15}},"plane8_flip1.gif":{frame:{x:928,y:2,w:40,h:18},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:18},sourceSize:{w:40,h:18}},"plane8_flip2.gif":{frame:{x:222,y:32,w:40,h:35},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:40,h:35},sourceSize:{w:40,h:35}},"plane9.gif":{frame:{x:1166,y:2,w:37,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:37,h:20},sourceSize:{w:37,h:20}},"plane9_flip1.gif":{frame:{x:1610,y:2,w:37,h:27},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:37,h:27},sourceSize:{w:37,h:27}},"plane9_flip2.gif":{frame:{x:1728,y:71,w:37,h:44},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:37,h:44},sourceSize:{w:37,h:44}},"plane_big.gif":{frame:{x:1512,y:2,w:50,h:26},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:50,h:26},sourceSize:{w:50,h:26}},"plane_icon.gif":{frame:{x:82,y:2,w:24,h:11},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:24,h:11},sourceSize:{w:24,h:11}},"plane_small.gif":{frame:{x:896,y:2,w:30,h:16},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:30,h:16},sourceSize:{w:30,h:16}},"raf_flag_small.gif":{frame:{x:1205,y:2,w:34,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:34,h:20},sourceSize:{w:34,h:20}},"randomflag.jpg":{frame:{x:276,y:150,w:170,h:100},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:170,h:100},sourceSize:{w:170,h:100}},"randomflag_small.gif":{frame:{x:1241,y:2,w:34,h:20},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:34,h:20},sourceSize:{w:34,h:20}},"royalairforcesflag.jpg":{frame:{x:448,y:150,w:170,h:100},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:170,h:100},sourceSize:{w:170,h:100}},"runway.gif":{frame:{x:264,y:32,w:290,h:36},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:290,h:36},sourceSize:{w:290,h:36}},"runway2.gif":{frame:{x:556,y:32,w:282,h:36},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:282,h:36},sourceSize:{w:282,h:36}},"runway2_broke.gif":{frame:{x:840,y:32,w:282,h:36},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:282,h:36},sourceSize:{w:282,h:36}},"runway2b.gif":{frame:{x:1564,y:2,w:12,h:26},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:12,h:26},sourceSize:{w:12,h:26}},"runway_broke.gif":{frame:{x:1124,y:32,w:290,h:36},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:290,h:36},sourceSize:{w:290,h:36}},"sandhill.gif":{frame:{x:1404,y:150,w:412,h:119},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:412,h:119},sourceSize:{w:412,h:119}},"selectionScreen.gif":{frame:{x:1246,y:551,w:305,h:311},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:305,h:311},sourceSize:{w:305,h:311}},"sky3b.jpg":{frame:{x:744,y:864,w:800,h:800},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:800,h:800},sourceSize:{w:800,h:800}},"smoke1.gif":{frame:{x:6,y:2,w:5,h:4},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:5,h:4},sourceSize:{w:5,h:4}},"smoke2.gif":{frame:{x:44,y:2,w:10,h:10},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:10,h:10},sourceSize:{w:10,h:10}},"wave-l_1.gif":{frame:{x:108,y:2,w:100,h:12},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:12},sourceSize:{w:100,h:12}},"wave-l_2.gif":{frame:{x:210,y:2,w:100,h:12},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:12},sourceSize:{w:100,h:12}},"wave-l_3.gif":{frame:{x:312,y:2,w:100,h:12},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:12},sourceSize:{w:100,h:12}},"wave-l_4.gif":{frame:{x:414,y:2,w:100,h:12},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:12},sourceSize:{w:100,h:12}},"wave-l_5.gif":{frame:{x:516,y:2,w:100,h:12},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:12},sourceSize:{w:100,h:12}},"wave-l_6.gif":{frame:{x:618,y:2,w:100,h:12},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:12},sourceSize:{w:100,h:12}},"wave-l_7.gif":{frame:{x:720,y:2,w:100,h:12},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:100,h:12},sourceSize:{w:100,h:12}},"woodpanel.jpg":{frame:{x:2,y:551,w:740,h:150},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:740,h:150},sourceSize:{w:740,h:150}}},animations:{explosion:["explosion0001.gif","explosion0002.gif","explosion0003.gif","explosion0004.gif","explosion0005.gif","explosion0006.gif","explosion0007.gif","explosion0008.gif"],flag_ger:["flag_ger_1.gif","flag_ger_2.gif","flag_ger_3.gif"],flag_raf:["flag_raf_1.gif","flag_raf_2.gif","flag_raf_3.gif"],parachuter:["parachuter0.gif","parachuter1.gif","parachuter2.gif","parachuter3.gif"],pic_plane:["pic_plane4.gif","pic_plane5.gif","pic_plane6.gif","pic_plane7.gif","pic_plane8.gif","pic_plane9.gif"],plane:["plane4.gif","plane5.gif","plane6.gif","plane7.gif","plane8.gif","plane9.gif"],plane4_flip:["plane4_flip1.gif","plane4_flip2.gif"],plane5_flip:["plane5_flip1.gif","plane5_flip2.gif"],plane6_flip:["plane6_flip1.gif","plane6_flip2.gif"],plane7_flip:["plane7_flip1.gif","plane7_flip2.gif"],plane8_flip:["plane8_flip1.gif","plane8_flip2.gif"],plane9_flip:["plane9_flip1.gif","plane9_flip2.gif"],smoke:["smoke1.gif","smoke2.gif"],"wave-l":["wave-l_1.gif","wave-l_2.gif","wave-l_3.gif","wave-l_4.gif","wave-l_5.gif","wave-l_6.gif","wave-l_7.gif"]},meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"images.png",format:"RGBA8888",size:{w:1824,h:1666},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:7b76f2b7d61bef50242d6fc1d8867ede:2312179b2049d8410310476bd9ec10ae:02ab132358d6d8b512e80119463a8329$"}};
},{}],"5oEN":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.BufferedImage=void 0;var i=function(){function t(n,i){e(this,t),this.data=n,this.info=i,this.width=this.info.w,this.height=this.info.h}return n(t,[{key:"getWidth",value:function(){return this.info.w}},{key:"getHeight",value:function(){return this.info.h}},{key:"getDataLength",value:function(){return this.getWidth()*this.getHeight()}}]),t}();exports.BufferedImage=i;
},{}],"8IKA":[function(require,module,exports) {
function e(e){return e&&e.__esModule?e:{default:e}}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"FlpK":[function(require,module,exports) {
function o(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(module.exports=o=function(o){return typeof o},module.exports.default=module.exports,module.exports.__esModule=!0):(module.exports=o=function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},module.exports.default=module.exports,module.exports.__esModule=!0),o(e)}module.exports=o,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"uVGF":[function(require,module,exports) {
var e=require("@babel/runtime/helpers/typeof").default;function t(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return t=function(){return e},e}function r(r){if(r&&r.__esModule)return r;if(null===r||"object"!==e(r)&&"function"!=typeof r)return{default:r};var o=t();if(o&&o.has(r))return o.get(r);var n={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in r)if(Object.prototype.hasOwnProperty.call(r,f)){var l=u?Object.getOwnPropertyDescriptor(r,f):null;l&&(l.get||l.set)?Object.defineProperty(n,f,l):n[f]=r[f]}return n.default=r,o&&o.set(r,n),n}module.exports=r,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime/helpers/typeof":"FlpK"}],"LGpM":[function(require,module,exports) {
function e(e,o){(null==o||o>e.length)&&(o=e.length);for(var l=0,r=new Array(o);l<o;l++)r[l]=e[l];return r}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"o3SL":[function(require,module,exports) {
var r=require("./arrayLikeToArray.js");function e(e){if(Array.isArray(e))return r(e)}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"./arrayLikeToArray.js":"LGpM"}],"lZpU":[function(require,module,exports) {
function e(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"Vzqv":[function(require,module,exports) {
var r=require("./arrayLikeToArray.js");function e(e,t){if(e){if("string"==typeof e)return r(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,t):void 0}}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"./arrayLikeToArray.js":"LGpM"}],"NCaH":[function(require,module,exports) {
function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"I9dH":[function(require,module,exports) {
var e=require("./arrayWithoutHoles.js"),r=require("./iterableToArray.js"),o=require("./unsupportedIterableToArray.js"),u=require("./nonIterableSpread.js");function t(t){return e(t)||r(t)||o(t)||u()}module.exports=t,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"./arrayWithoutHoles.js":"o3SL","./iterableToArray.js":"lZpU","./unsupportedIterableToArray.js":"Vzqv","./nonIterableSpread.js":"NCaH"}],"6x3D":[function(require,module,exports) {
function e(e,o,r){return o in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"dEOc":[function(require,module,exports) {
function e(e){if(Array.isArray(e))return e}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"RonT":[function(require,module,exports) {
function e(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var o=[],r=!0,l=!1,n=void 0;try{for(var u,d=e[Symbol.iterator]();!(r=(u=d.next()).done)&&(o.push(u.value),!t||o.length!==t);r=!0);}catch(i){l=!0,n=i}finally{try{r||null==d.return||d.return()}finally{if(l)throw n}}return o}}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"sa4T":[function(require,module,exports) {
function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"xkYc":[function(require,module,exports) {
var e=require("./arrayWithHoles.js"),r=require("./iterableToArrayLimit.js"),o=require("./unsupportedIterableToArray.js"),t=require("./nonIterableRest.js");function u(u,s){return e(u)||r(u,s)||o(u,s)||t()}module.exports=u,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"./arrayWithHoles.js":"dEOc","./iterableToArrayLimit.js":"RonT","./unsupportedIterableToArray.js":"Vzqv","./nonIterableRest.js":"sa4T"}],"+Omx":[function(require,module,exports) {
function e(o,t){return module.exports=e=Object.setPrototypeOf||function(e,o){return e.__proto__=o,e},module.exports.default=module.exports,module.exports.__esModule=!0,e(o,t)}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"BSLJ":[function(require,module,exports) {
function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"NPDK":[function(require,module,exports) {
var e=require("./setPrototypeOf.js"),o=require("./isNativeReflectConstruct.js");function t(u,l,r){return o()?(module.exports=t=Reflect.construct,module.exports.default=module.exports,module.exports.__esModule=!0):(module.exports=t=function(o,t,u){var l=[null];l.push.apply(l,t);var r=new(Function.bind.apply(o,l));return u&&e(r,u.prototype),r},module.exports.default=module.exports,module.exports.__esModule=!0),t.apply(null,arguments)}module.exports=t,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"./setPrototypeOf.js":"+Omx","./isNativeReflectConstruct.js":"BSLJ"}],"kUj2":[function(require,module,exports) {
function o(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}module.exports=o,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"dMjH":[function(require,module,exports) {
function e(e,o){for(var r=0;r<o.length;r++){var t=o[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function o(o,r,t){return r&&e(o.prototype,r),t&&e(o,t),o}module.exports=o,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"oXBW":[function(require,module,exports) {
function e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"3cbG":[function(require,module,exports) {
var e=require("@babel/runtime/helpers/typeof").default,t=require("./assertThisInitialized.js");function o(o,r){return!r||"object"!==e(r)&&"function"!=typeof r?t(o):r}module.exports=o,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"@babel/runtime/helpers/typeof":"FlpK","./assertThisInitialized.js":"oXBW"}],"XApn":[function(require,module,exports) {
function e(o){return module.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},module.exports.default=module.exports,module.exports.__esModule=!0,e(o)}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"1PhT":[function(require,module,exports) {
var e=require("./setPrototypeOf.js");function o(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),t&&e(o,t)}module.exports=o,module.exports.default=module.exports,module.exports.__esModule=!0;
},{"./setPrototypeOf.js":"+Omx"}],"N2bG":[function(require,module,exports) {

},{}],"rH1J":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"FHml":[function(require,module,exports) {
var process = require("process");
var r=require("process");function t(r,t){for(var e=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function e(r){"string"!=typeof r&&(r+="");var t,e=0,n=-1,o=!0;for(t=r.length-1;t>=0;--t)if(47===r.charCodeAt(t)){if(!o){e=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":r.slice(e,n)}function n(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var e="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var i=s>=0?arguments[s]:r.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,o="/"===i.charAt(0))}return(o?"/":"")+(e=t(n(e.split("/"),function(r){return!!r}),!o).join("/"))||"."},exports.normalize=function(r){var e=exports.isAbsolute(r),s="/"===o(r,-1);return(r=t(n(r.split("/"),function(r){return!!r}),!e).join("/"))||e||(r="."),r&&s&&(r+="/"),(e?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(n(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),o=e(t.split("/")),s=Math.min(n.length,o.length),i=s,u=0;u<s;u++)if(n[u]!==o[u]){i=u;break}var f=[];for(u=i;u<n.length;u++)f.push("..");return(f=f.concat(o.slice(i))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){if("string"!=typeof r&&(r+=""),0===r.length)return".";for(var t=r.charCodeAt(0),e=47===t,n=-1,o=!0,s=r.length-1;s>=1;--s)if(47===(t=r.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?e?"/":".":e&&1===n?"/":r.slice(0,n)},exports.basename=function(r,t){var n=e(r);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},exports.extname=function(r){"string"!=typeof r&&(r+="");for(var t=-1,e=0,n=-1,o=!0,s=0,i=r.length-1;i>=0;--i){var u=r.charCodeAt(i);if(47!==u)-1===n&&(o=!1,n=i+1),46===u?-1===t?t=i:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){e=i+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===e+1?"":r.slice(t,n)};var o="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
},{"process":"rH1J"}],"LMQS":[function(require,module,exports) {
"use strict";var e,t="object"==typeof Reflect?Reflect:null,n=t&&"function"==typeof t.apply?t.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function r(e){console&&console.warn&&console.warn(e)}e=t&&"function"==typeof t.ownKeys?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}module.exports=o,module.exports.once=m,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,i){var o,s,c;if(u(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),c=s[t]),void 0===c)c=s[t]=n,++e._eventsCount;else if("function"==typeof c?c=s[t]=i?[n,c]:[c,n]:i?c.unshift(n):c.push(n),(o=f(e))>0&&c.length>o&&!c.warned){c.warned=!0;var v=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");v.name="MaxListenersExceededWarning",v.emitter=e,v.type=t,v.count=c.length,r(v)}return e}function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=v.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?d(i):h(i,i.length)}function a(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function d(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function m(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&L(e,i,{once:!0})})}function L(e,t,n){"function"==typeof e.on&&g(e,"error",t,n)}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var f=o[e];if(void 0===f)return!1;if("function"==typeof f)n(f,this,t);else{var c=f.length,v=h(f,c);for(r=0;r<c;++r)n(v[r],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return u(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():y(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):a.call(e,t)},o.prototype.listenerCount=a,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]};
},{}],"VuXv":[function(require,module,exports) {
var define;
var t,r=function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{u({},"")}catch(P){u=function(t,r,e){return t[r]=e}}function h(t,r,e,n){var o=r&&r.prototype instanceof d?r:d,i=Object.create(o.prototype),a=new G(n||[]);return i._invoke=function(t,r,e){var n=l;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===y){if("throw"===o)throw i;return F()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=j(a,e);if(c){if(c===v)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===l)throw n=y,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=p;var u=f(t,r,e);if("normal"===u.type){if(n=e.done?y:s,u.arg===v)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=y,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function f(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(P){return{type:"throw",arg:P}}}t.wrap=h;var l="suspendedStart",s="suspendedYield",p="executing",y="completed",v={};function d(){}function g(){}function m(){}var w={};w[i]=function(){return this};var L=Object.getPrototypeOf,x=L&&L(L(N([])));x&&x!==e&&n.call(x,i)&&(w=x);var b=m.prototype=d.prototype=Object.create(w);function E(t){["next","throw","return"].forEach(function(r){u(t,r,function(t){return this._invoke(r,t)})})}function _(t,r){var e;this._invoke=function(o,i){function a(){return new r(function(e,a){!function e(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var h=u.arg,l=h.value;return l&&"object"==typeof l&&n.call(l,"__await")?r.resolve(l.__await).then(function(t){e("next",t,a,c)},function(t){e("throw",t,a,c)}):r.resolve(l).then(function(t){h.value=t,a(h)},function(t){return e("throw",t,a,c)})}c(u.arg)}(o,i,e,a)})}return e=e?e.then(a,a):a()}}function j(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,j(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function O(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function k(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function G(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function N(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:F}}function F(){return{value:r,done:!0}}return g.prototype=b.constructor=m,m.constructor=g,g.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===g||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(_.prototype),_.prototype[a]=function(){return this},t.AsyncIterator=_,t.async=function(r,e,n,o,i){void 0===i&&(i=Promise);var a=new _(h(r,e,n,o),i);return t.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},E(b),u(b,c,"Generator"),b[i]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,G.prototype={constructor:G,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),v},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),k(e),v}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;k(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:N(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),v}},t}("object"==typeof module?module.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}
},{}],"y2KZ":[function(require,module,exports) {
module.exports=require("regenerator-runtime");
},{"regenerator-runtime":"VuXv"}],"O8K0":[function(require,module,exports) {
"use strict";var r=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNodePattern=n,exports.throwError=a,exports.scan=o,exports.scanIterator=u;var e=r(require("@babel/runtime/regenerator")),t=e.default.mark(u);function n(r){if(void 0===r)return!1;if("function"!=typeof r)throw new TypeError("Callback must be a function");return!0}function a(r,e){if("string"==typeof r&&(r=new Error(r)),"function"==typeof e)return e.call(this,r);throw r}function o(r,e,t,n,a,o){e=Math.round(e),t=Math.round(t),n=Math.round(n),a=Math.round(a);for(var u=t;u<t+a;u++)for(var i=e;i<e+n;i++){var s=r.bitmap.width*u+i<<2;o.call(r,i,u,s)}return r}function u(r,n,a,o,u){var i,s,c;return e.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Math.round(n),a=Math.round(a),o=Math.round(o),u=Math.round(u),i=a;case 5:if(!(i<a+u)){e.next=17;break}s=n;case 7:if(!(s<n+o)){e.next=14;break}return c=r.bitmap.width*i+s<<2,e.next=11,{x:s,y:i,idx:c,image:r};case 11:s++,e.next=7;break;case 14:i++,e.next=5;break;case 17:case"end":return e.stop()}},t)}
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/regenerator":"y2KZ"}],"4Adl":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t&&e&&t.length&&e.length))throw new Error("Bad alphabet");this.srcAlphabet=t,this.dstAlphabet=e}t.prototype.convert=function(t){var e,r,h,i={},s=this.srcAlphabet.length,n=this.dstAlphabet.length,l=t.length,o="string"==typeof t?"":[];if(!this.isValid(t))throw new Error('Number "'+t+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return t;for(e=0;e<l;e++)i[e]=this.srcAlphabet.indexOf(t[e]);do{for(r=0,h=0,e=0;e<l;e++)(r=r*s+i[e])>=n?(i[h++]=parseInt(r/n,10),r%=n):h>0&&(i[h++]=0);l=h,o=this.dstAlphabet.slice(r,r+1).concat(o)}while(0!==h);return o},t.prototype.isValid=function(t){for(var e=0;e<t.length;++e)if(-1===this.srcAlphabet.indexOf(t[e]))return!1;return!0},module.exports=t;
},{}],"N6Vs":[function(require,module,exports) {
var r=require("./src/converter");function e(e,n){var t=new r(e,n);return function(r){return t.convert(r)}}e.BIN="01",e.OCT="01234567",e.DEC="0123456789",e.HEX="0123456789abcdef",module.exports=e;
},{"./src/converter":"4Adl"}],"3ONk":[function(require,module,exports) {
var e=require("path"),r=require("fs"),t=parseInt("0777",8);function n(o,i,c,a){"function"==typeof i?(c=i,i={}):i&&"object"==typeof i||(i={mode:i});var u=i.mode,d=i.fs||r;void 0===u&&(u=t),a||(a=null);var f=c||function(){};o=e.resolve(o),d.mkdir(o,u,function(r){if(!r)return f(null,a=a||o);switch(r.code){case"ENOENT":if(e.dirname(o)===o)return f(r);n(e.dirname(o),i,function(e,r){e?f(e,r):n(o,i,f,r)});break;default:d.stat(o,function(e,t){e||!t.isDirectory()?f(r,a):f(null,a)})}})}module.exports=n.mkdirp=n.mkdirP=n,n.sync=function n(o,i,c){i&&"object"==typeof i||(i={mode:i});var a=i.mode,u=i.fs||r;void 0===a&&(a=t),c||(c=null),o=e.resolve(o);try{u.mkdirSync(o,a),c=c||o}catch(f){switch(f.code){case"ENOENT":c=n(e.dirname(o),i,c),n(o,i,c);break;default:var d;try{d=u.statSync(o)}catch(s){throw f}if(!d.isDirectory())throw f}}return c};
},{"path":"FHml","fs":"N2bG"}],"WGEV":[function(require,module,exports) {
"use strict";function r(r,u,i,e,c,v){v||(v={});for(var h=void 0===v.threshold?.1:v.threshold,s=35215*h*h,d=0,l=0;l<c;l++)for(var m=0;m<e;m++){var M=4*(l*e+m);if(t(r,u,M,M)>s)v.includeAA||!n(r,m,l,e,c,u)&&!n(u,m,l,e,c,r)?(i&&o(i,M,255,0,0),d++):i&&o(i,M,255,255,0);else if(i){var x=f(a(r,M),.1);o(i,M,x,x,x)}}return d}function n(r,u,i,e,f,o){for(var a,c,v,h,s=Math.max(u-1,0),d=Math.max(i-1,0),l=Math.min(u+1,e-1),m=Math.min(i+1,f-1),M=4*(i*e+u),x=0,A=0,p=0,b=0,g=0,j=s;j<=l;j++)for(var k=d;k<=m;k++)if(j!==u||k!==i){var q=t(r,r,M,4*(k*e+j),!0);if(0===q?x++:q<0?p++:q>0&&A++,x>2)return!1;o&&(q<b&&(b=q,a=j,c=k),q>g&&(g=q,v=j,h=k))}return!o||0!==p&&0!==A&&(!n(r,a,c,e,f)&&!n(o,a,c,e,f)||!n(r,v,h,e,f)&&!n(o,v,h,e,f))}function t(r,n,t,o,a){var c=r[t+3]/255,v=n[o+3]/255,h=f(r[t+0],c),s=f(r[t+1],c),d=f(r[t+2],c),l=f(n[o+0],v),m=f(n[o+1],v),M=f(n[o+2],v),x=u(h,s,d)-u(l,m,M);if(a)return x;var A=i(h,s,d)-i(l,m,M),p=e(h,s,d)-e(l,m,M);return.5053*x*x+.299*A*A+.1957*p*p}function u(r,n,t){return.29889531*r+.58662247*n+.11448223*t}function i(r,n,t){return.59597799*r-.2741761*n-.32180189*t}function e(r,n,t){return.21147017*r-.52261711*n+.31114694*t}function f(r,n){return 255+(r-255)*n}function o(r,n,t,u,i){r[n+0]=t,r[n+1]=u,r[n+2]=i,r[n+3]=255}function a(r,n){var t=r[n+3]/255;return u(f(r[n+0],t),f(r[n+1],t),f(r[n+2],t))}module.exports=r;
},{}],"ZdXS":[function(require,module,exports) {
var define;
var t;!function(r){var e=/^\s+/,n=/\s+$/,a=0,i=r.round,s=r.min,o=r.max,f=r.random;function h(t,f){if(f=f||{},(t=t||"")instanceof h)return t;if(!(this instanceof h))return new h(t,f);var u=function(t){var a={r:0,g:0,b:0},i=1,f=null,h=null,u=null,l=!1,c=!1;"string"==typeof t&&(t=function(t){t=t.replace(e,"").replace(n,"").toLowerCase();var r,a=!1;if(R[t])t=R[t],a=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(r=P.rgb.exec(t))return{r:r[1],g:r[2],b:r[3]};if(r=P.rgba.exec(t))return{r:r[1],g:r[2],b:r[3],a:r[4]};if(r=P.hsl.exec(t))return{h:r[1],s:r[2],l:r[3]};if(r=P.hsla.exec(t))return{h:r[1],s:r[2],l:r[3],a:r[4]};if(r=P.hsv.exec(t))return{h:r[1],s:r[2],v:r[3]};if(r=P.hsva.exec(t))return{h:r[1],s:r[2],v:r[3],a:r[4]};if(r=P.hex8.exec(t))return{r:I(r[1]),g:I(r[2]),b:I(r[3]),a:E(r[4]),format:a?"name":"hex8"};if(r=P.hex6.exec(t))return{r:I(r[1]),g:I(r[2]),b:I(r[3]),format:a?"name":"hex"};if(r=P.hex4.exec(t))return{r:I(r[1]+""+r[1]),g:I(r[2]+""+r[2]),b:I(r[3]+""+r[3]),a:E(r[4]+""+r[4]),format:a?"name":"hex8"};if(r=P.hex3.exec(t))return{r:I(r[1]+""+r[1]),g:I(r[2]+""+r[2]),b:I(r[3]+""+r[3]),format:a?"name":"hex"};return!1}(t));"object"==typeof t&&($(t.r)&&$(t.g)&&$(t.b)?(g=t.r,b=t.g,d=t.b,a={r:255*q(g,255),g:255*q(b,255),b:255*q(d,255)},l=!0,c="%"===String(t.r).substr(-1)?"prgb":"rgb"):$(t.h)&&$(t.s)&&$(t.v)?(f=N(t.s),h=N(t.v),a=function(t,e,n){t=6*q(t,360),e=q(e,100),n=q(n,100);var a=r.floor(t),i=t-a,s=n*(1-e),o=n*(1-i*e),f=n*(1-(1-i)*e),h=a%6;return{r:255*[n,o,s,s,f,n][h],g:255*[f,n,n,o,s,s][h],b:255*[s,s,f,n,n,o][h]}}(t.h,f,h),l=!0,c="hsv"):$(t.h)&&$(t.s)&&$(t.l)&&(f=N(t.s),u=N(t.l),a=function(t,r,e){var n,a,i;function s(t,r,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(r-t)*e:e<.5?r:e<2/3?t+(r-t)*(2/3-e)*6:t}if(t=q(t,360),r=q(r,100),e=q(e,100),0===r)n=a=i=e;else{var o=e<.5?e*(1+r):e+r-e*r,f=2*e-o;n=s(f,o,t+1/3),a=s(f,o,t),i=s(f,o,t-1/3)}return{r:255*n,g:255*a,b:255*i}}(t.h,f,u),l=!0,c="hsl"),t.hasOwnProperty("a")&&(i=t.a));var g,b,d;return i=C(i),{ok:l,format:t.format||c,r:s(255,o(a.r,0)),g:s(255,o(a.g,0)),b:s(255,o(a.b,0)),a:i}}(t);this._originalInput=t,this._r=u.r,this._g=u.g,this._b=u.b,this._a=u.a,this._roundA=i(100*this._a)/100,this._format=f.format||u.format,this._gradientType=f.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=u.ok,this._tc_id=a++}function u(t,r,e){t=q(t,255),r=q(r,255),e=q(e,255);var n,a,i=o(t,r,e),f=s(t,r,e),h=(i+f)/2;if(i==f)n=a=0;else{var u=i-f;switch(a=h>.5?u/(2-i-f):u/(i+f),i){case t:n=(r-e)/u+(r<e?6:0);break;case r:n=(e-t)/u+2;break;case e:n=(t-r)/u+4}n/=6}return{h:n,s:a,l:h}}function l(t,r,e){t=q(t,255),r=q(r,255),e=q(e,255);var n,a,i=o(t,r,e),f=s(t,r,e),h=i,u=i-f;if(a=0===i?0:u/i,i==f)n=0;else{switch(i){case t:n=(r-e)/u+(r<e?6:0);break;case r:n=(e-t)/u+2;break;case e:n=(t-r)/u+4}n/=6}return{h:n,s:a,v:h}}function c(t,r,e,n){var a=[L(i(t).toString(16)),L(i(r).toString(16)),L(i(e).toString(16))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function g(t,r,e,n){return[L(z(n)),L(i(t).toString(16)),L(i(r).toString(16)),L(i(e).toString(16))].join("")}function b(t,r){r=0===r?0:r||10;var e=h(t).toHsl();return e.s-=r/100,e.s=M(e.s),h(e)}function d(t,r){r=0===r?0:r||10;var e=h(t).toHsl();return e.s+=r/100,e.s=M(e.s),h(e)}function _(t){return h(t).desaturate(100)}function p(t,r){r=0===r?0:r||10;var e=h(t).toHsl();return e.l+=r/100,e.l=M(e.l),h(e)}function m(t,r){r=0===r?0:r||10;var e=h(t).toRgb();return e.r=o(0,s(255,e.r-i(-r/100*255))),e.g=o(0,s(255,e.g-i(-r/100*255))),e.b=o(0,s(255,e.b-i(-r/100*255))),h(e)}function v(t,r){r=0===r?0:r||10;var e=h(t).toHsl();return e.l-=r/100,e.l=M(e.l),h(e)}function y(t,r){var e=h(t).toHsl(),n=(e.h+r)%360;return e.h=n<0?360+n:n,h(e)}function A(t){var r=h(t).toHsl();return r.h=(r.h+180)%360,h(r)}function x(t){var r=h(t).toHsl(),e=r.h;return[h(t),h({h:(e+120)%360,s:r.s,l:r.l}),h({h:(e+240)%360,s:r.s,l:r.l})]}function k(t){var r=h(t).toHsl(),e=r.h;return[h(t),h({h:(e+90)%360,s:r.s,l:r.l}),h({h:(e+180)%360,s:r.s,l:r.l}),h({h:(e+270)%360,s:r.s,l:r.l})]}function w(t){var r=h(t).toHsl(),e=r.h;return[h(t),h({h:(e+72)%360,s:r.s,l:r.l}),h({h:(e+216)%360,s:r.s,l:r.l})]}function S(t,r,e){r=r||6,e=e||30;var n=h(t).toHsl(),a=360/e,i=[h(t)];for(n.h=(n.h-(a*r>>1)+720)%360;--r;)n.h=(n.h+a)%360,i.push(h(n));return i}function H(t,r){r=r||6;for(var e=h(t).toHsv(),n=e.h,a=e.s,i=e.v,s=[],o=1/r;r--;)s.push(h({h:n,s:a,v:i})),i=(i+o)%1;return s}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,a=this.toRgb();return t=a.r/255,e=a.g/255,n=a.b/255,.2126*(t<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:r.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=C(t),this._roundA=i(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),r=i(360*t.h),e=i(100*t.s),n=i(100*t.v);return 1==this._a?"hsv("+r+", "+e+"%, "+n+"%)":"hsva("+r+", "+e+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=u(this._r,this._g,this._b),r=i(360*t.h),e=i(100*t.s),n=i(100*t.l);return 1==this._a?"hsl("+r+", "+e+"%, "+n+"%)":"hsla("+r+", "+e+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return c(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,r,e,n,a){var s=[L(i(t).toString(16)),L(i(r).toString(16)),L(i(e).toString(16)),L(z(n))];if(a&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1))return s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0);return s.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(100*q(this._r,255))+"%",g:i(100*q(this._g,255))+"%",b:i(100*q(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+i(100*q(this._r,255))+"%, "+i(100*q(this._g,255))+"%, "+i(100*q(this._b,255))+"%)":"rgba("+i(100*q(this._r,255))+"%, "+i(100*q(this._g,255))+"%, "+i(100*q(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(F[c(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var r="#"+g(this._r,this._g,this._b,this._a),e=r,n=this._gradientType?"GradientType = 1, ":"";if(t){var a=h(t);e="#"+g(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+r+",endColorstr="+e+")"},toString:function(t){var r=!!t;t=t||this._format;var e=!1,n=this._a<1&&this._a>=0;return r||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(e=this.toRgbString()),"prgb"===t&&(e=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(e=this.toHexString()),"hex3"===t&&(e=this.toHexString(!0)),"hex4"===t&&(e=this.toHex8String(!0)),"hex8"===t&&(e=this.toHex8String()),"name"===t&&(e=this.toName()),"hsl"===t&&(e=this.toHslString()),"hsv"===t&&(e=this.toHsvString()),e||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(t,r){var e=t.apply(null,[this].concat([].slice.call(r)));return this._r=e._r,this._g=e._g,this._b=e._b,this.setAlpha(e._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(_,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(t,r){return t.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(A,arguments)},monochromatic:function(){return this._applyCombination(H,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},h.fromRatio=function(t,r){if("object"==typeof t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]="a"===n?t[n]:N(t[n]));t=e}return h(t,r)},h.equals=function(t,r){return!(!t||!r)&&h(t).toRgbString()==h(r).toRgbString()},h.random=function(){return h.fromRatio({r:f(),g:f(),b:f()})},h.mix=function(t,r,e){e=0===e?0:e||50;var n=h(t).toRgb(),a=h(r).toRgb(),i=e/100;return h({r:(a.r-n.r)*i+n.r,g:(a.g-n.g)*i+n.g,b:(a.b-n.b)*i+n.b,a:(a.a-n.a)*i+n.a})},h.readability=function(t,e){var n=h(t),a=h(e);return(r.max(n.getLuminance(),a.getLuminance())+.05)/(r.min(n.getLuminance(),a.getLuminance())+.05)},h.isReadable=function(t,r,e){var n,a,i=h.readability(t,r);switch(a=!1,(n=function(t){var r,e;r=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),e=(t.size||"small").toLowerCase(),"AA"!==r&&"AAA"!==r&&(r="AA");"small"!==e&&"large"!==e&&(e="small");return{level:r,size:e}}(e)).level+n.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7}return a},h.mostReadable=function(t,r,e){var n,a,i,s,o=null,f=0;a=(e=e||{}).includeFallbackColors,i=e.level,s=e.size;for(var u=0;u<r.length;u++)(n=h.readability(t,r[u]))>f&&(f=n,o=h(r[u]));return h.isReadable(t,o,{level:i,size:s})||!a?o:(e.includeFallbackColors=!1,h.mostReadable(t,["#fff","#000"],e))};var R=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=h.hexNames=function(t){var r={};for(var e in t)t.hasOwnProperty(e)&&(r[t[e]]=e);return r}(R);function C(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function q(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=s(e,o(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),r.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function M(t){return s(1,o(0,t))}function I(t){return parseInt(t,16)}function L(t){return 1==t.length?"0"+t:""+t}function N(t){return t<=1&&(t=100*t+"%"),t}function z(t){return r.round(255*parseFloat(t)).toString(16)}function E(t){return I(t)/255}var T,j,O,P=(j="[\\s|\\(]+("+(T="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+T+")[,|\\s]+("+T+")\\s*\\)?",O="[\\s|\\(]+("+T+")[,|\\s]+("+T+")[,|\\s]+("+T+")[,|\\s]+("+T+")\\s*\\)?",{CSS_UNIT:new RegExp(T),rgb:new RegExp("rgb"+j),rgba:new RegExp("rgba"+O),hsl:new RegExp("hsl"+j),hsla:new RegExp("hsla"+O),hsv:new RegExp("hsv"+j),hsva:new RegExp("hsva"+O),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function $(t){return!!P.CSS_UNIT.exec(t)}"undefined"!=typeof module&&module.exports?module.exports=h:"function"==typeof t&&t.amd?t(function(){return h}):window.tinycolor=h}(Math);
},{}],"JHy5":[function(require,module,exports) {
"use strict";function t(t,r){this.size=this.size||t,this.smallerSize=this.smallerSize||r,a(this.size)}function r(t){var r={};return r.r=Math.floor(t/Math.pow(256,3)),r.g=Math.floor((t-r.r*Math.pow(256,3))/Math.pow(256,2)),r.b=Math.floor((t-r.r*Math.pow(256,3)-r.g*Math.pow(256,2))/Math.pow(256,1)),r.a=Math.floor((t-r.r*Math.pow(256,3)-r.g*Math.pow(256,2)-r.b*Math.pow(256,1))/Math.pow(256,0)),r}t.prototype.size=32,t.prototype.smallerSize=8,t.prototype.distance=function(t,r){for(var o=0,a=0;a<t.length;a++)t[a]!==r[a]&&o++;return o/t.length},t.prototype.getHash=function(t){(t=t.clone().resize(this.size,this.size)).grayscale();for(var o=[],a=0;a<t.bitmap.width;a++){o[a]=[];for(var i=0;i<t.bitmap.height;i++)o[a][i]=r(t.getPixelColor(a,i)).b}for(var s=e(o,this.size),h=0,l=0;l<this.smallerSize;l++)for(var f=0;f<this.smallerSize;f++)h+=s[l][f];for(var p=h/(this.smallerSize*this.smallerSize),n="",M=0;M<this.smallerSize;M++)for(var z=0;z<this.smallerSize;z++)n+=s[M][z]>p?"1":"0";return n};var o=[];function a(t){for(var r=1;r<t;r++)o[r]=1;o[0]=1/Math.sqrt(2)}function e(t,r){for(var a=r,e=[],i=0;i<a;i++){e[i]=[];for(var s=0;s<a;s++){for(var h=0,l=0;l<a;l++)for(var f=0;f<a;f++)h+=Math.cos((2*l+1)/(2*a)*i*Math.PI)*Math.cos((2*f+1)/(2*a)*s*Math.PI)*t[l][f];h*=o[i]*o[s]/4,e[i][s]=h}}return e}module.exports=t;
},{}],"cJ8j":[function(require,module,exports) {
function e(){return module.exports=e=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},module.exports.default=module.exports,module.exports.__esModule=!0,e.apply(this,arguments)}module.exports=e,module.exports.default=module.exports,module.exports.__esModule=!0;
},{}],"5QAn":[function(require,module,exports) {
"use strict";exports.byteLength=u,exports.toByteArray=i,exports.fromByteArray=d;for(var r=[],t=[],e="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=n.length;o<a;++o)r[o]=n[o],t[n.charCodeAt(o)]=o;function h(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function u(r){var t=h(r),e=t[0],n=t[1];return 3*(e+n)/4-n}function c(r,t,e){return 3*(t+e)/4-e}function i(r){var n,o,a=h(r),u=a[0],i=a[1],f=new e(c(r,u,i)),A=0,d=i>0?u-4:u;for(o=0;o<d;o+=4)n=t[r.charCodeAt(o)]<<18|t[r.charCodeAt(o+1)]<<12|t[r.charCodeAt(o+2)]<<6|t[r.charCodeAt(o+3)],f[A++]=n>>16&255,f[A++]=n>>8&255,f[A++]=255&n;return 2===i&&(n=t[r.charCodeAt(o)]<<2|t[r.charCodeAt(o+1)]>>4,f[A++]=255&n),1===i&&(n=t[r.charCodeAt(o)]<<10|t[r.charCodeAt(o+1)]<<4|t[r.charCodeAt(o+2)]>>2,f[A++]=n>>8&255,f[A++]=255&n),f}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function A(r,t,e){for(var n,o=[],a=t;a<e;a+=3)n=(r[a]<<16&16711680)+(r[a+1]<<8&65280)+(255&r[a+2]),o.push(f(n));return o.join("")}function d(t){for(var e,n=t.length,o=n%3,a=[],h=0,u=n-o;h<u;h+=16383)a.push(A(t,h,h+16383>u?u:h+16383));return 1===o?(e=t[n-1],a.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],a.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),a.join("")}t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;
},{}],"O1Qa":[function(require,module,exports) {
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],"ZCp3":[function(require,module,exports) {
var r={}.toString;module.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)};
},{}],"VjIL":[function(require,module,exports) {

var global = arguments[3];
var t=arguments[3],r=require("base64-js"),e=require("ieee754"),n=require("isarray");function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function o(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,r){if(o()<r)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=f.prototype:(null===t&&(t=new f(r)),t.length=r),t}function f(t,r,e){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?g(t,r,e,n):"string"==typeof r?l(t,r,e):y(t,r)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,r,e,n){return h(r),r<=0?u(t,r):void 0!==e?"string"==typeof n?u(t,r).fill(e,n):u(t,r).fill(e):u(t,r)}function c(t,r){if(h(r),t=u(t,r<0?0:0|w(r)),!f.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function l(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!f.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|v(r,e),i=(t=u(t,n)).write(r,e);return i!==n&&(t=t.slice(0,i)),t}function p(t,r){var e=r.length<0?0:0|w(r.length);t=u(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function g(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),f.TYPED_ARRAY_SUPPORT?(t=r).__proto__=f.prototype:t=p(t,r),t}function y(t,r){if(f.isBuffer(r)){var e=0|w(r.length);return 0===(t=u(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?u(t,0):p(t,r);if("Buffer"===r.type&&n(r.data))return p(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function w(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t){return+t!=t&&(t=0),f.alloc(+t)}function v(t,r){if(f.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(n)return $(t).length;r=(""+r).toLowerCase(),n=!0}}function E(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,r,e);case"utf8":case"utf-8":return Y(this,r,e);case"ascii":return L(this,r,e);case"latin1":case"binary":return D(this,r,e);case"base64":return S(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function R(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=f.from(r,n)),f.isBuffer(r))return 0===r.length?-1:_(t,r,e,n,i);if("number"==typeof r)return r&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):_(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function _(t,r,e,n,i){var o,u=1,f=t.length,s=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,f/=2,s/=2,e/=2}function h(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(i){var a=-1;for(o=e;o<f;o++)if(h(t,o)===h(r,-1===a?0:o-a)){if(-1===a&&(a=o),o-a+1===s)return a*u}else-1!==a&&(o-=o-a),a=-1}else for(e+s>f&&(e=f-s),o=e;o>=0;o--){for(var c=!0,l=0;l<s;l++)if(h(t,o+l)!==h(r,l)){c=!1;break}if(c)return o}return-1}function A(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var u=0;u<n;++u){var f=parseInt(r.substr(2*u,2),16);if(isNaN(f))return u;t[e+u]=f}return u}function m(t,r,e,n){return Q($(r,t.length-e),t,e,n)}function P(t,r,e,n){return Q(G(r),t,e,n)}function T(t,r,e,n){return P(t,r,e,n)}function B(t,r,e,n){return Q(K(r),t,e,n)}function U(t,r,e,n){return Q(H(r,t.length-e),t,e,n)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function Y(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var o,u,f,s,h=t[i],a=null,c=h>239?4:h>223?3:h>191?2:1;if(i+c<=e)switch(c){case 1:h<128&&(a=h);break;case 2:128==(192&(o=t[i+1]))&&(s=(31&h)<<6|63&o)>127&&(a=s);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(s=(15&h)<<12|(63&o)<<6|63&u)>2047&&(s<55296||s>57343)&&(a=s);break;case 4:o=t[i+1],u=t[i+2],f=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&f)&&(s=(15&h)<<18|(63&o)<<12|(63&u)<<6|63&f)>65535&&s<1114112&&(a=s)}null===a?(a=65533,c=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=c}return O(n)}exports.Buffer=f,exports.SlowBuffer=d,exports.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:i(),exports.kMaxLength=o(),f.poolSize=8192,f._augment=function(t){return t.__proto__=f.prototype,t},f.from=function(t,r,e){return s(null,t,r,e)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(t,r,e){return a(null,t,r,e)},f.allocUnsafe=function(t){return c(null,t)},f.allocUnsafeSlow=function(t){return c(null,t)},f.isBuffer=function(t){return!(null==t||!t._isBuffer)},f.compare=function(t,r){if(!f.isBuffer(t)||!f.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,o=Math.min(e,n);i<o;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,r){if(!n(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var i=f.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!f.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},f.byteLength=v,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)b(this,r,r+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)b(this,r,r+3),b(this,r+1,r+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)b(this,r,r+7),b(this,r+1,r+6),b(this,r+2,r+5),b(this,r+3,r+4);return this},f.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?Y(this,0,t):E.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",r=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},f.prototype.compare=function(t,r,e,n,i){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),s=Math.min(o,u),h=this.slice(n,i),a=t.slice(r,e),c=0;c<s;++c)if(h[c]!==a[c]){o=h[c],u=a[c];break}return o<u?-1:u<o?1:0},f.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},f.prototype.indexOf=function(t,r,e){return R(this,t,r,e,!0)},f.prototype.lastIndexOf=function(t,r,e){return R(this,t,r,e,!1)},f.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return A(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return P(this,t,r,e);case"latin1":case"binary":return T(this,t,r,e);case"base64":return B(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function O(t){var r=t.length;if(r<=I)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=I));return e}function L(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function D(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function x(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=r;o<e;++o)i+=Z(t[o]);return i}function C(t,r,e){for(var n=t.slice(r,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function k(t,r,e,n,i,o){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function N(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(t.length-e,2);i<o;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function z(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(t.length-e,4);i<o;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,o){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function j(t,r,n,i,o){return o||F(t,r,n,4,3.4028234663852886e38,-3.4028234663852886e38),e.write(t,r,n,i,23,4),n+4}function q(t,r,n,i,o){return o||F(t,r,n,8,1.7976931348623157e308,-1.7976931348623157e308),e.write(t,r,n,i,52,8),n+8}f.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),f.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=f.prototype;else{var i=r-t;e=new f(i,void 0);for(var o=0;o<i;++o)e[o]=this[o+t]}return e},f.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n},f.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},f.prototype.readUInt8=function(t,r){return r||M(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,r){return r||M(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,r){return r||M(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,r){return r||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,r){return r||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=this[t],i=1,o=0;++o<r&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},f.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||M(t,r,this.length);for(var n=r,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},f.prototype.readInt8=function(t,r){return r||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,r){r||M(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt16BE=function(t,r){r||M(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},f.prototype.readInt32LE=function(t,r){return r||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,r){return r||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,r){return r||M(t,4,this.length),e.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,r){return r||M(t,8,this.length),e.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[r]=255&t;++o<e&&(i*=256);)this[r+o]=t/i&255;return r+e},f.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||k(this,t,r,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[r+i]=255&t;--i>=0&&(o*=256);)this[r+i]=t/o&255;return r+e},f.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,255,0),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},f.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):z(this,t,r,!0),r+4},f.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=0,u=1,f=0;for(this[r]=255&t;++o<e&&(u*=256);)t<0&&0===f&&0!==this[r+o-1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);k(this,t,r,e,i-1,-i)}var o=e-1,u=1,f=0;for(this[r+o]=255&t;--o>=0&&(u*=256);)t<0&&0===f&&0!==this[r+o+1]&&(f=1),this[r+o]=(t/u>>0)-f&255;return r+e},f.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,1,127,-128),f.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},f.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},f.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},f.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):z(this,t,r,!0),r+4},f.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||k(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),f.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):z(this,t,r,!1),r+4},f.prototype.writeFloatLE=function(t,r,e){return j(this,t,r,!0,e)},f.prototype.writeFloatBE=function(t,r,e){return j(this,t,r,!1,e)},f.prototype.writeDoubleLE=function(t,r,e){return q(this,t,r,!0,e)},f.prototype.writeDoubleBE=function(t,r,e){return q(this,t,r,!1,e)},f.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,o=n-e;if(this===t&&e<r&&r<n)for(i=o-1;i>=0;--i)t[i+r]=this[i+e];else if(o<1e3||!f.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+o),r);return o},f.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var o;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(o=r;o<e;++o)this[o]=t;else{var u=f.isBuffer(t)?t:$(new f(t,n).toString()),s=u.length;for(o=0;o<e-r;++o)this[o+r]=u[o%s]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function X(t){if((t=J(t).replace(V,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,r){var e;r=r||1/0;for(var n=t.length,i=null,o=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;o.push(e)}else if(e<2048){if((r-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function G(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function H(t,r){for(var e,n,i,o=[],u=0;u<t.length&&!((r-=2)<0);++u)n=(e=t.charCodeAt(u))>>8,i=e%256,o.push(i),o.push(n);return o}function K(t){return r.toByteArray(X(t))}function Q(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function W(t){return t!=t}
},{"base64-js":"5QAn","ieee754":"O1Qa","isarray":"ZCp3","buffer":"VjIL"}],"gfX+":[function(require,module,exports) {
var process = require("process");
var Buffer = require("buffer").Buffer;
var e=require("process"),r=require("buffer").Buffer,t=require("@babel/runtime/helpers/interopRequireDefault"),n=t(require("@babel/runtime/helpers/defineProperty")),o=t(require("@babel/runtime/helpers/extends"));function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(t,!0).forEach(function(r){(0,n.default)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}module.exports=function(e,t){var n=new XMLHttpRequest;n.open("GET",e.url,!0),n.responseType="arraybuffer",n.addEventListener("load",function(){if(n.status<400)try{var o=r.from(this.response);t(null,n,o)}catch(u){return t(new Error("Response is not a buffer for url "+e.url+". Error: "+u.message))}else t(new Error("HTTP Status "+n.status+" for url "+e.url))}),n.addEventListener("error",function(e){t(e)}),n.send()};
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/defineProperty":"6x3D","@babel/runtime/helpers/extends":"cJ8j","process":"rH1J","buffer":"VjIL"}],"mnY3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EDGE_CROP=exports.EDGE_WRAP=exports.EDGE_EXTEND=exports.BLEND_EXCLUSION=exports.BLEND_DIFFERENCE=exports.BLEND_HARDLIGHT=exports.BLEND_LIGHTEN=exports.BLEND_DARKEN=exports.BLEND_OVERLAY=exports.BLEND_SCREEN=exports.BLEND_ADD=exports.BLEND_MULTIPLY=exports.BLEND_DESTINATION_OVER=exports.BLEND_SOURCE_OVER=exports.VERTICAL_ALIGN_BOTTOM=exports.VERTICAL_ALIGN_MIDDLE=exports.VERTICAL_ALIGN_TOP=exports.HORIZONTAL_ALIGN_RIGHT=exports.HORIZONTAL_ALIGN_CENTER=exports.HORIZONTAL_ALIGN_LEFT=exports.AUTO=void 0;var E=-1;exports.AUTO=E;var r=1;exports.HORIZONTAL_ALIGN_LEFT=r;var L=2;exports.HORIZONTAL_ALIGN_CENTER=L;var e=4;exports.HORIZONTAL_ALIGN_RIGHT=e;var N=8;exports.VERTICAL_ALIGN_TOP=N;var _=16;exports.VERTICAL_ALIGN_MIDDLE=_;var t=32;exports.VERTICAL_ALIGN_BOTTOM=t;var s="srcOver";exports.BLEND_SOURCE_OVER=s;var o="dstOver";exports.BLEND_DESTINATION_OVER=o;var D="multiply";exports.BLEND_MULTIPLY=D;var p="add";exports.BLEND_ADD=p;var x="screen";exports.BLEND_SCREEN=x;var I="overlay";exports.BLEND_OVERLAY=I;var A="darken";exports.BLEND_DARKEN=A;var T="lighten";exports.BLEND_LIGHTEN=T;var O="hardLight";exports.BLEND_HARDLIGHT=O;var R="difference";exports.BLEND_DIFFERENCE=R;var a="exclusion";exports.BLEND_EXCLUSION=a;var v=1;exports.EDGE_EXTEND=v;var B=2;exports.EDGE_WRAP=B;var G=3;exports.EDGE_CROP=G;
},{}],"ATQB":[function(require,module,exports) {
"use strict";function a(a,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;a.a*=t;var n=r.a+a.a-r.a*a.a;return{r:(a.r*a.a+r.r*r.a*(1-a.a))/n,g:(a.g*a.a+r.g*r.a*(1-a.a))/n,b:(a.b*a.a+r.b*r.a*(1-a.a))/n,a:n}}function r(a,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;a.a*=t;var n=r.a+a.a-r.a*a.a;return{r:(r.r*r.a+a.r*a.a*(1-r.a))/n,g:(r.g*r.a+a.g*a.a*(1-r.a))/n,b:(r.b*r.a+a.b*a.a*(1-r.a))/n,a:n}}function t(a,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;a.a*=t;var n=r.a+a.a-r.a*a.a,e=a.r*a.a,g=a.g*a.a,o=a.b*a.a,v=r.r*r.a,i=r.g*r.a,b=r.b*r.a;return{r:(e*v+e*(1-r.a)+v*(1-a.a))/n,g:(g*i+g*(1-r.a)+i*(1-a.a))/n,b:(o*b+o*(1-r.a)+b*(1-a.a))/n,a:n}}function n(a,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;a.a*=t;var n=r.a+a.a-r.a*a.a,e=a.r*a.a,g=a.g*a.a,o=a.b*a.a;return{r:(e+r.r*r.a)/n,g:(g+r.g*r.a)/n,b:(o+r.b*r.a)/n,a:n}}function e(a,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;a.a*=t;var n=r.a+a.a-r.a*a.a,e=a.r*a.a,g=a.g*a.a,o=a.b*a.a,v=r.r*r.a,i=r.g*r.a,b=r.b*r.a;return{r:(e*r.a+v*a.a-e*v+e*(1-r.a)+v*(1-a.a))/n,g:(g*r.a+i*a.a-g*i+g*(1-r.a)+i*(1-a.a))/n,b:(o*r.a+b*a.a-o*b+o*(1-r.a)+b*(1-a.a))/n,a:n}}function g(a,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;a.a*=t;var n=r.a+a.a-r.a*a.a,e=a.r*a.a,g=a.g*a.a,o=a.b*a.a,v=r.r*r.a,i=r.g*r.a,b=r.b*r.a;return{r:(2*v<=r.a?2*e*v+e*(1-r.a)+v*(1-a.a):e*(1+r.a)+v*(1+a.a)-2*v*e-r.a*a.a)/n,g:(2*i<=r.a?2*g*i+g*(1-r.a)+i*(1-a.a):g*(1+r.a)+i*(1+a.a)-2*i*g-r.a*a.a)/n,b:(2*b<=r.a?2*o*b+o*(1-r.a)+b*(1-a.a):o*(1+r.a)+b*(1+a.a)-2*b*o-r.a*a.a)/n,a:n}}function o(a,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;a.a*=t;var n=r.a+a.a-r.a*a.a,e=a.r*a.a,g=a.g*a.a,o=a.b*a.a,v=r.r*r.a,i=r.g*r.a,b=r.b*r.a;return{r:(Math.min(e*r.a,v*a.a)+e*(1-r.a)+v*(1-a.a))/n,g:(Math.min(g*r.a,i*a.a)+g*(1-r.a)+i*(1-a.a))/n,b:(Math.min(o*r.a,b*a.a)+o*(1-r.a)+b*(1-a.a))/n,a:n}}function v(a,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;a.a*=t;var n=r.a+a.a-r.a*a.a,e=a.r*a.a,g=a.g*a.a,o=a.b*a.a,v=r.r*r.a,i=r.g*r.a,b=r.b*r.a;return{r:(Math.max(e*r.a,v*a.a)+e*(1-r.a)+v*(1-a.a))/n,g:(Math.max(g*r.a,i*a.a)+g*(1-r.a)+i*(1-a.a))/n,b:(Math.max(o*r.a,b*a.a)+o*(1-r.a)+b*(1-a.a))/n,a:n}}function i(a,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;a.a*=t;var n=r.a+a.a-r.a*a.a,e=a.r*a.a,g=a.g*a.a,o=a.b*a.a,v=r.r*r.a,i=r.g*r.a,b=r.b*r.a;return{r:(2*e<=a.a?2*e*v+e*(1-r.a)+v*(1-a.a):e*(1+r.a)+v*(1+a.a)-2*v*e-r.a*a.a)/n,g:(2*g<=a.a?2*g*i+g*(1-r.a)+i*(1-a.a):g*(1+r.a)+i*(1+a.a)-2*i*g-r.a*a.a)/n,b:(2*o<=a.a?2*o*b+o*(1-r.a)+b*(1-a.a):o*(1+r.a)+b*(1+a.a)-2*b*o-r.a*a.a)/n,a:n}}function b(a,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;a.a*=t;var n=r.a+a.a-r.a*a.a,e=a.r*a.a,g=a.g*a.a,o=a.b*a.a,v=r.r*r.a,i=r.g*r.a,b=r.b*r.a;return{r:(e+v-2*Math.min(e*r.a,v*a.a))/n,g:(g+i-2*Math.min(g*r.a,i*a.a))/n,b:(o+b-2*Math.min(o*r.a,b*a.a))/n,a:n}}function u(a,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;a.a*=t;var n=r.a+a.a-r.a*a.a,e=a.r*a.a,g=a.g*a.a,o=a.b*a.a,v=r.r*r.a,i=r.g*r.a,b=r.b*r.a;return{r:(e*r.a+v*a.a-2*e*v+e*(1-r.a)+v*(1-a.a))/n,g:(g*r.a+i*a.a-2*g*i+g*(1-r.a)+i*(1-a.a))/n,b:(o*r.a+b*a.a-2*o*b+o*(1-r.a)+b*(1-a.a))/n,a:n}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.srcOver=a,exports.dstOver=r,exports.multiply=t,exports.add=n,exports.screen=e,exports.overlay=g,exports.darken=o,exports.lighten=v,exports.hardLight=i,exports.difference=b,exports.exclusion=u;
},{}],"s/s4":[function(require,module,exports) {
"use strict";var t=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;var i=require("@jimp/utils"),a=t(require("../constants")),r=t(require("./composite-modes"));function e(t,e,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4?arguments[4]:void 0;if("function"==typeof s&&(n=s,s={}),!(t instanceof this.constructor))return i.throwError.call(this,"The source must be a Jimp image",n);if("number"!=typeof e||"number"!=typeof o)return i.throwError.call(this,"x and y must be numbers",n);var u=s,m=u.mode,p=u.opacitySource,c=u.opacityDest;m||(m=a.BLEND_SOURCE_OVER),("number"!=typeof p||p<0||p>1)&&(p=1),("number"!=typeof c||c<0||c>1)&&(c=1);var b=r[m];e=Math.round(e),o=Math.round(o);var d=this;return 1!==c&&d.opacity(c),t.scanQuiet(0,0,t.bitmap.width,t.bitmap.height,function(t,i,r){var s=d.getPixelIndex(e+t,o+i,a.EDGE_CROP),n=b({r:this.bitmap.data[r+0]/255,g:this.bitmap.data[r+1]/255,b:this.bitmap.data[r+2]/255,a:this.bitmap.data[r+3]/255},{r:d.bitmap.data[s+0]/255,g:d.bitmap.data[s+1]/255,b:d.bitmap.data[s+2]/255,a:d.bitmap.data[s+3]/255},p);d.bitmap.data[s+0]=this.constructor.limit255(255*n.r),d.bitmap.data[s+1]=this.constructor.limit255(255*n.g),d.bitmap.data[s+2]=this.constructor.limit255(255*n.b),d.bitmap.data[s+3]=this.constructor.limit255(255*n.a)}),(0,i.isNodePattern)(n)&&n.call(this,null,this),this}
},{"@babel/runtime/helpers/interopRequireWildcard":"uVGF","@jimp/utils":"O8K0","../constants":"mnY3","./composite-modes":"ATQB"}],"G6GM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e,r){for(var t=arguments.length,n=new Array(t>2?t-2:0),o=2;o<t;o++)n[o-2]=arguments[o];return new Promise(function(t,o){n.push(function(e,r){e&&o(e),t(r)}),e.bind(r).apply(void 0,n)})},r=e;exports.default=r;
},{}],"SjGS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getExtension=exports.getType=exports.addType=void 0;var e={},t=function(t){return Object.entries(e).find(function(e){return e[1].includes(t)})||[]},r=function(t,r){e[t]=r};exports.addType=r;var n=function(e){var r=e.split("/").slice(-1),n=r[r.length-1].split(".").pop();return t(n)[0]};exports.getType=n;var o=function(t){return(e[t.toLowerCase()]||[])[0]};exports.getExtension=o;
},{}],"YaAo":[function(require,module,exports) {
"use strict";function e(e){return m(e)||r(e)||i(e)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return f(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(e,t):void 0}}function r(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function m(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var o=function(t){return e(t).map(function(e){return e.charCodeAt(0)})},n=o("META-INF/mozilla.rsa"),a=o("[Content_Types].xml"),p=o("_rels/.rels");module.exports=function(t){var i=t instanceof Uint8Array?t:new Uint8Array(t);if(!(i&&i.length>1))return null;var r=function(e,t){t=Object.assign({offset:0},t);for(var r=0;r<e.length;r++)if(t.mask){if(e[r]!==(t.mask[r]&i[r+t.offset]))return!1}else if(e[r]!==i[r+t.offset])return!1;return!0},m=function(e,t){return r(o(e),t)};if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(r([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((r([73,73,42,0])||r([77,77,0,42]))&&r([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r([73,73,42,0])||r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(r([80,75,3,4])){if(r([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(r(n,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(m("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(m("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(m("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.findIndex(function(e,i,r){return i>=t&&80===r[i]&&75===r[i+1]&&3===r[i+2]&&4===r[i+3]})},u=0,s=!1,x=null;do{var c=u+30;if(s||(s=r(a,{offset:c})||r(p,{offset:c})),x||(m("word/",{offset:c})?x={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:m("ppt/",{offset:c})?x={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:m("xl/",{offset:c})&&(x={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),s&&x)return x;u=f(i,c)}while(u>=0);if(x)return x}if(r([80,75])&&(3===i[2]||5===i[2]||7===i[2])&&(4===i[3]||6===i[3]||8===i[3]))return{ext:"zip",mime:"application/zip"};if(r([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(r([82,97,114,33,26,7])&&(0===i[6]||1===i[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([51,103,112,53])||r([0,0,0])&&r([102,116,121,112],{offset:4})&&(r([109,112,52,49],{offset:8})||r([109,112,52,50],{offset:8})||r([105,115,111,109],{offset:8})||r([105,115,111,50],{offset:8})||r([109,109,112,52],{offset:8})||r([77,52,86],{offset:8})||r([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(r([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(r([26,69,223,163])){var l=i.subarray(4,4100),d=l.findIndex(function(e,t,i){return 66===i[t]&&130===i[t+1]});if(-1!==d){var g=d+3,v=function(t){return e(t).every(function(e,t){return l[g+t]===e.charCodeAt(0)})};if(v("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(v("webm"))return{ext:"webm",mime:"video/webm"}}}if(r([0,0,0,20,102,116,121,112,113,116,32,32])||r([102,114,101,101],{offset:4})||r([102,116,121,112,113,116,32,32],{offset:4})||r([109,100,97,116],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(r([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(r([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var b=0;b<2&&b<i.length-16;b++){if(r([73,68,51],{offset:b})||r([255,226],{offset:b,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([255,228],{offset:b,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,248],{offset:b,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,240],{offset:b,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(r([102,116,121,112,77,52,65],{offset:4})||r([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(r([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(r([79,103,103,83]))return r([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:r([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:r([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:r([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:r([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(r([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(r([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(r([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(r([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(r([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===i[0]||70===i[0])&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([119,79,70,70])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(r([119,79,70,50])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(r([37,33]))return{ext:"ps",mime:"application/postscript"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(r([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(r([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(r([77,83,67,70])||r([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(r([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(r([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(r([0,0,0,12,106,80,32,32,13,10,135,10])){if(r([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(r([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(r([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(r([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(r([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(m("<?xml "))return{ext:"xml",mime:"application/xml"};if(r([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(r([102,116,121,112],{offset:4})){if(r([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(r([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(r([104,101,105,99],{offset:8})||r([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(r([104,101,118,99],{offset:8})||r([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return r([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null};
},{}],"m2VV":[function(require,module,exports) {
module.exports={parseSections:function(e,n){var t,a;for(e.setBigEndian(!0);e.remainingLength()>0&&218!==a;){if(255!==e.nextUInt8())throw new Error("Invalid JPEG section offset");t=(a=e.nextUInt8())>=208&&a<=217||218===a?0:e.nextUInt16()-2,n(a,e.branch(0,t)),e.skip(t)}},getSizeFromSOFSection:function(e){return e.skip(1),{height:e.nextUInt16(),width:e.nextUInt16()}},getSectionName:function(e){var n,t;switch(e){case 216:n="SOI";break;case 196:n="DHT";break;case 219:n="DQT";break;case 221:n="DRI";break;case 218:n="SOS";break;case 254:n="COM";break;case 217:n="EOI";break;default:e>=224&&e<=239?(n="APP",t=e-224):e>=192&&e<=207&&196!==e&&200!==e&&204!==e?(n="SOF",t=e-192):e>=208&&e<=215&&(n="RST",t=e-208)}var a={name:n};return"number"==typeof t&&(a.index=t),a}};
},{}],"3/vi":[function(require,module,exports) {
function e(e,t){switch(e){case 1:return t.nextUInt8();case 3:return t.nextUInt16();case 4:return t.nextUInt32();case 5:return[t.nextUInt32(),t.nextUInt32()];case 6:return t.nextInt8();case 8:return t.nextUInt16();case 9:return t.nextUInt32();case 10:return[t.nextInt32(),t.nextInt32()];case 11:return t.nextFloat();case 12:return t.nextDouble();default:throw new Error("Invalid format while decoding: "+e)}}function t(e){switch(e){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function n(n,r){var a,i,s=r.nextUInt16(),f=r.nextUInt16(),u=t(f),I=r.nextUInt32(),c=u*I;if(c>4&&(r=n.openWithOffset(r.nextUInt32())),2===f){var o=(a=r.nextString(I)).indexOf("\0");-1!==o&&(a=a.substr(0,o))}else if(7===f)a=r.nextBuffer(I);else if(0!==f)for(a=[],i=0;i<I;++i)a.push(e(f,r));return c<4&&r.skip(4-c),[s,a,f]}function r(e,t,r){var a,i,s=t.nextUInt16();for(i=0;i<s;++i)r((a=n(e,t))[0],a[1],a[2])}function a(e){if("Exif\0\0"!==e.nextString(6))throw new Error("Invalid EXIF header");var t=e.mark(),n=e.nextUInt16();if(18761===n)e.setBigEndian(!1);else{if(19789!==n)throw new Error("Invalid TIFF header");e.setBigEndian(!0)}if(42!==e.nextUInt16())throw new Error("Invalid TIFF data");return t}module.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(e,t){var n,i,s,f;try{n=a(e)}catch(F){return!1}var u=n.openWithOffset(e.nextUInt32()),I=this.IFD0;r(n,u,function(e,n,r){switch(e){case 34853:s=n[0];break;case 34665:i=n[0];break;default:t(I,e,n,r)}});var c=u.nextUInt32();if(0!==c){var o=n.openWithOffset(c);r(n,o,t.bind(null,this.IFD1))}if(s){var x=n.openWithOffset(s);r(n,x,t.bind(null,this.GPSIFD))}if(i){var h=n.openWithOffset(i),l=this.InteropIFD;r(n,h,function(e,n,r){40965===e?f=n[0]:t(l,e,n,r)})}if(f){var d=n.openWithOffset(f);r(n,d,t.bind(null,this.InteropIFD))}return!0}};
},{}],"LxJa":[function(require,module,exports) {
function t(t){return parseInt(t,10)}var r=3600,e=60;function a(r,e){r=r.map(t),e=e.map(t);var a=r[0],n=r[1]-1,i=r[2],s=e[0],p=e[1],u=e[2];return Date.UTC(a,n,i,s,p,u,0)/1e3}function n(n){var i=n.substr(0,10).split("-"),s=n.substr(11,8).split(":"),p=n.substr(19,6).split(":").map(t),u=p[0]*r+p[1]*e,o=a(i,s);if("number"==typeof(o-=u)&&!isNaN(o))return o}function i(t){var r=t.split(" "),e=a(r[0].split(":"),r[1].split(":"));if("number"==typeof e&&!isNaN(e))return e}function s(t){var r=19===t.length&&":"===t.charAt(4);return 25===t.length&&"T"===t.charAt(10)?n(t):r?i(t):void 0}module.exports={parseDateWithSpecFormat:i,parseDateWithTimezoneFormat:n,parseExifDate:s};
},{}],"+bLK":[function(require,module,exports) {
var e=require("./exif"),t=require("./date"),a=[{section:e.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:e.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],i=[{section:e.SubIFD,type:306,name:"ModifyDate"},{section:e.SubIFD,type:36867,name:"DateTimeOriginal"},{section:e.SubIFD,type:36868,name:"CreateDate"},{section:e.SubIFD,type:306,name:"ModifyDate"}];module.exports={castDegreeValues:function(e,t){a.forEach(function(a){var i=e(a);if(i){var n=e({section:a.section,type:a.refType,name:a.refName})===a.posVal?1:-1,r=(i[0]+i[1]/60+i[2]/3600)*n;t(a,r)}})},castDateValues:function(e,a){i.forEach(function(i){var n=e(i);if(n){var r=t.parseExifDate(n);void 0!==r&&a(i,r)}})},simplifyValue:function(e,t){return Array.isArray(e)&&1===(e=e.map(function(e){return 10===t||5===t?e[0]/e[1]:e})).length&&(e=e[0]),e}};
},{"./exif":"3/vi","./date":"LxJa"}],"vJiu":[function(require,module,exports) {
module.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65000:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}};
},{}],"DOLU":[function(require,module,exports) {
var e=require("./jpeg"),t=require("./exif"),i=require("./simplify");function n(e,t,i,n,s,a,r){this.startMarker=e,this.tags=t,this.imageSize=i,this.thumbnailOffset=n,this.thumbnailLength=s,this.thumbnailType=a,this.app1Offset=r}function s(e){this.stream=e,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}n.prototype={hasThumbnail:function(e){return!(!this.thumbnailOffset||!this.thumbnailLength)&&("string"!=typeof e||("image/jpeg"===e.toLowerCase().trim()?6===this.thumbnailType:"image/tiff"===e.toLowerCase().trim()&&1===this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var t,i=this._getThumbnailStream();return e.parseSections(i,function(i,n){"SOF"===e.getSectionName(i).name&&(t=e.getSizeFromSOFSection(n))}),t}},s.prototype={enableBinaryFields:function(e){return this.flags.readBinaryTags=!!e,this},enablePointers:function(e){return this.flags.hidePointers=!e,this},enableTagNames:function(e){return this.flags.resolveTagNames=!!e,this},enableImageSize:function(e){return this.flags.imageSize=!!e,this},enableReturnTags:function(e){return this.flags.returnTags=!!e,this},enableSimpleValues:function(e){return this.flags.simplifyValues=!!e,this},parse:function(){var s,a,r,u,f,h,o,l,m,g=this.stream.mark(),c=g.openWithOffset(0),p=this.flags;return p.resolveTagNames&&(o=require("./exif-tags")),p.resolveTagNames?(s={},l=function(e){return s[e.name]},m=function(e,t){s[e.name]=t}):(s=[],l=function(e){var t;for(t=0;t<s.length;++t)if(s[t].type===e.type&&s[t].section===e.section)return s.value},m=function(e,t){var i;for(i=0;i<s.length;++i)if(s[i].type===e.type&&s[i].section===e.section)return void(s.value=t)}),e.parseSections(c,function(n,l){var m=l.offsetFrom(g);225===n?t.parseTags(l,function(e,n,a,h){if(p.readBinaryTags||7!==h){if(513===n){if(r=a[0],p.hidePointers)return}else if(514===n){if(u=a[0],p.hidePointers)return}else if(259===n&&(f=a[0],p.hidePointers))return;if(p.returnTags)if(p.simplifyValues&&(a=i.simplifyValue(a,h)),p.resolveTagNames){var l=(e===t.GPSIFD?o.gps:o.exif)[n];l||(l=o.exif[n]),s.hasOwnProperty(l)||(s[l]=a)}else s.push({section:e,type:n,value:a})}})&&(h=m):p.imageSize&&"SOF"===e.getSectionName(n).name&&(a=e.getSizeFromSOFSection(l))}),p.simplifyValues&&(i.castDegreeValues(l,m),i.castDateValues(l,m)),new n(g,s,a,r,u,f,h)}},module.exports=s;
},{"./jpeg":"m2VV","./exif":"3/vi","./simplify":"+bLK","./exif-tags":"vJiu"}],"2BNO":[function(require,module,exports) {

function t(t,e,i,f,n,s){this.global=n,e=e||0,i=i||t.byteLength-e,this.arrayBuffer=t.slice(e,e+i),this.view=new n.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(f),this.offset=0,this.parentOffset=(s||0)+e}t.prototype={setBigEndian:function(t){this.littleEndian=!t},nextUInt8:function(){var t=this.view.getUint8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.view.getInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},nextUInt32:function(){var t=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},nextInt16:function(){var t=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},nextInt32:function(){var t=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},nextFloat:function(){var t=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},nextDouble:function(){var t=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},nextBuffer:function(t){var e=this.arrayBuffer.slice(this.offset,this.offset+t);return this.offset+=t,e},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(t){var e=this.arrayBuffer.slice(this.offset,this.offset+t);return e=String.fromCharCode.apply(null,new this.global.Uint8Array(e)),this.offset+=t,e},mark:function(){var e=this;return{openWithOffset:function(i){return i=(i||0)+this.offset,new t(e.arrayBuffer,i,e.arrayBuffer.byteLength-i,!e.littleEndian,e.global,e.parentOffset)},offset:this.offset,getParentOffset:function(){return e.parentOffset}}},offsetFrom:function(t){return this.parentOffset+this.offset-(t.offset+t.getParentOffset())},skip:function(t){this.offset+=t},branch:function(e,i){return i="number"==typeof i?i:this.arrayBuffer.byteLength-(this.offset+e),new t(this.arrayBuffer,this.offset+e,i,!this.littleEndian,this.global,this.parentOffset)}},module.exports=t;
},{}],"9lhY":[function(require,module,exports) {
function t(t,f,e,i){this.buffer=t,this.offset=f||0,e="number"==typeof e?e:t.length,this.endPosition=this.offset+e,this.setBigEndian(i)}t.prototype={setBigEndian:function(t){this.bigEndian=!!t},nextUInt8:function(){var t=this.buffer.readUInt8(this.offset);return this.offset+=1,t},nextInt8:function(){var t=this.buffer.readInt8(this.offset);return this.offset+=1,t},nextUInt16:function(){var t=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,t},nextUInt32:function(){var t=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,t},nextInt16:function(){var t=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,t},nextInt32:function(){var t=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,t},nextFloat:function(){var t=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,t},nextDouble:function(){var t=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,t},nextBuffer:function(t){var f=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,f},remainingLength:function(){return this.endPosition-this.offset},nextString:function(t){var f=this.buffer.toString("utf8",this.offset,this.offset+t);return this.offset+=t,f},mark:function(){var f=this;return{openWithOffset:function(e){return e=(e||0)+this.offset,new t(f.buffer,e,f.endPosition-e,f.bigEndian)},offset:this.offset}},offsetFrom:function(t){return this.offset-t.offset},skip:function(t){this.offset+=t},branch:function(f,e){return e="number"==typeof e?e:this.endPosition-(this.offset+f),new t(this.buffer,this.offset+f,e,this.bigEndian)}},module.exports=t;
},{}],"mSDs":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3],r=require("./lib/parser");function n(){return(0,eval)("this")}module.exports={create:function(e,t){if(e instanceof(t=t||n()).ArrayBuffer){var u=require("./lib/dom-bufferstream");return new r(new u(e,0,e.byteLength,!0,t))}var a=require("./lib/bufferstream");return new r(new a(e,0,e.length,!0))}};
},{"./lib/parser":"DOLU","./lib/dom-bufferstream":"2BNO","./lib/bufferstream":"9lhY"}],"1v7z":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,r=require("@babel/runtime/helpers/interopRequireWildcard"),e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseBitmap=m,exports.getBuffer=g,exports.getBufferAsync=w;var i=e(require("@babel/runtime/helpers/slicedToArray")),n=e(require("file-type")),u=e(require("exif-parser")),a=require("@jimp/utils"),s=r(require("../constants")),o=r(require("./mime")),c=e(require("./promisify"));function h(t,r){var e=(0,n.default)(t);return e?e.mime:r?o.getType(r):null}function f(t){return t._exif&&t._exif.tags&&t._exif.tags.Orientation||1}function l(t){var r=t.getWidth(),e=t.getHeight();switch(f(t)){case 1:return null;case 2:return function(t,e){return[r-t-1,e]};case 3:return function(t,i){return[r-t-1,e-i-1]};case 4:return function(t,r){return[t,e-r-1]};case 5:return function(t,r){return[r,t]};case 6:return function(t,r){return[r,e-t-1]};case 7:return function(t,i){return[r-i-1,e-t-1]};case 8:return function(t,e){return[r-e-1,t]};default:return null}}function p(r,e,n,u){for(var a=r.bitmap.data,s=r.bitmap.width,o=t.alloc(a.length),c=0;c<e;c++)for(var h=0;h<n;h++){var f=u(c,h),l=(0,i.default)(f,2),p=l[0],d=e*h+c<<2,m=s*l[1]+p<<2,b=a.readUInt32BE(m);o.writeUInt32BE(b,d)}r.bitmap.data=o,r.bitmap.width=e,r.bitmap.height=n}function d(t){if(!(f(t)<2)){var r=l(t),e=f(t)>4;p(t,e?t.bitmap.height:t.bitmap.width,e?t.bitmap.width:t.bitmap.height,r)}}function m(t,r,e){var i=h(t,r);if("string"!=typeof i)return e(new Error("Could not find MIME for Buffer <"+r+">"));this._originalMime=i.toLowerCase();try{var n=this.getMIME();if(!this.constructor.decoders[n])return a.throwError.call(this,"Unsupported MIME type: "+n,e);this.bitmap=this.constructor.decoders[n](t)}catch(s){return e.call(this,s,this)}try{this._exif=u.default.create(t).parse(),d(this)}catch(s){}return e.call(this,null,this),this}function b(t,r){return new t(r.bitmap.width,r.bitmap.height,r._background).composite(r,0,0).bitmap}function g(r,e){if(r===s.AUTO&&(r=this.getMIME()),"string"!=typeof r)return a.throwError.call(this,"mime must be a string",e);if("function"!=typeof e)return a.throwError.call(this,"cb must be a function",e);if(r=r.toLowerCase(),this._rgba&&this.constructor.hasAlpha[r]?this.bitmap.data=t.from(this.bitmap.data):this.bitmap.data=b(this.constructor,this).data,this.constructor.encoders[r]){var i=this.constructor.encoders[r](this);e.call(this,null,i)}else e.call(this,"Unsupported MIME type: "+r);return this}function w(t){return(0,c.default)(g,this,t)}
},{"@babel/runtime/helpers/interopRequireWildcard":"uVGF","@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/slicedToArray":"xkYc","file-type":"YaAo","exif-parser":"mSDs","@jimp/utils":"O8K0","../constants":"mnY3","./mime":"SjGS","./promisify":"G6GM","buffer":"VjIL"}],"9Bx2":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,e=require("@babel/runtime/helpers/interopRequireWildcard"),r=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.addConstants=J,exports.addJimpMethods=W,exports.jimpEvMethod=z,exports.jimpEvChange=L,Object.defineProperty(exports,"addType",{enumerable:!0,get:function(){return q.addType}}),exports.default=void 0;for(var a=r(require("@babel/runtime/helpers/construct")),i=r(require("@babel/runtime/helpers/slicedToArray")),n=r(require("@babel/runtime/helpers/classCallCheck")),u=r(require("@babel/runtime/helpers/createClass")),o=r(require("@babel/runtime/helpers/possibleConstructorReturn")),l=r(require("@babel/runtime/helpers/getPrototypeOf")),f=r(require("@babel/runtime/helpers/assertThisInitialized")),h=r(require("@babel/runtime/helpers/inherits")),s=r(require("@babel/runtime/helpers/defineProperty")),c=r(require("@babel/runtime/helpers/typeof")),d=r(require("fs")),p=r(require("path")),m=r(require("events")),b=require("@jimp/utils"),g=r(require("any-base")),y=r(require("mkdirp")),w=r(require("pixelmatch")),v=r(require("tinycolor2")),E=r(require("./modules/phash")),M=r(require("./request")),x=r(require("./composite")),_=r(require("./utils/promisify")),q=e(require("./utils/mime")),k=require("./utils/image-bitmap"),P=e(require("./constants")),B="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",N=[NaN,NaN],C=2;C<65;C++){var I=(0,g.default)(g.default.BIN,B.slice(0,C))(new Array(65).join("1"));N.push(I.length)}function A(){}function T(t){return Object.prototype.toString.call(t).toLowerCase().indexOf("arraybuffer")>-1}function j(e){for(var r=t.alloc(e.byteLength),a=new Uint8Array(e),i=0;i<r.length;++i)r[i]=a[i];return r}function H(e,r){(0,M.default)(e,function(a,i,n){if(a)return r(a);if("headers"in i&&"location"in i.headers)return e.url=i.headers.location,H(e,r);if("object"===(0,c.default)(n)&&t.isBuffer(n))return r(null,n);var u="Could not load Buffer from <"+e.url+"> (HTTP: "+i.statusCode+")";return new Error(u)})}function O(t,e){d.default&&"function"==typeof d.default.readFile&&!t.match(/^(http|ftp)s?:\/\/./)?d.default.readFile(t,e):H({url:t},e)}function U(e){return e&&"object"===(0,c.default)(e)&&"number"==typeof e.width&&"number"==typeof e.height&&(t.isBuffer(e.data)||e.data instanceof Uint8Array||"function"==typeof Uint8ClampedArray&&e.data instanceof Uint8ClampedArray)&&(e.data.length===e.width*e.height*4||e.data.length===e.width*e.height*3)}function G(e){if(e.length%3!=0)throw new Error("Buffer length is incorrect");for(var r=t.allocUnsafe(e.length/3*4),a=0,i=0;i<e.length;i++)r[a]=e[i],(i+1)%3==0&&(r[++a]=255),a++;return r}var D,R={data:null,width:null,height:null},S=function(e){function r(){for(var e,a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];(0,n.default)(this,r),e=(0,o.default)(this,(0,l.default)(r).call(this)),(0,s.default)((0,f.default)(e),"bitmap",R),(0,s.default)((0,f.default)(e),"_background",0),(0,s.default)((0,f.default)(e),"_originalMime",r.MIME_PNG),(0,s.default)((0,f.default)(e),"_exif",null),(0,s.default)((0,f.default)(e),"_rgba",!0),(0,s.default)((0,f.default)(e),"writeAsync",function(t){return(0,_.default)(e.write,(0,f.default)(e),t)}),(0,s.default)((0,f.default)(e),"getBase64Async",function(t){return(0,_.default)(e.getBase64,(0,f.default)(e),t)}),(0,s.default)((0,f.default)(e),"getBuffer",k.getBuffer),(0,s.default)((0,f.default)(e),"getBufferAsync",k.getBufferAsync),(0,s.default)((0,f.default)(e),"getPixelColour",e.getPixelColor),(0,s.default)((0,f.default)(e),"setPixelColour",e.setPixelColor);var h=(0,f.default)(e),d=A;function p(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var a=e[0];(a||{}).methodName="constructor",setTimeout(function(){var t;a&&d===A?h.emitError("constructor",a):a||h.emitMulti("constructor","initialized"),(t=d).call.apply(t,[h].concat(e))},1)}if(T(i[0])&&(i[0]=j(i[0])),"number"==typeof i[0]&&"number"==typeof i[1]||parseInt(i[0],10)&&parseInt(i[1],10)){var m=parseInt(i[0],10),g=parseInt(i[1],10);if(d=i[2],"number"==typeof i[2]&&(e._background=i[2],d=i[3]),"string"==typeof i[2]&&(e._background=r.cssColorToHex(i[2]),d=i[3]),void 0===d&&(d=A),"function"!=typeof d)return(0,o.default)(e,b.throwError.call((0,f.default)(e),"cb must be a function",p));e.bitmap={data:t.alloc(m*g*4),width:m,height:g};for(var y=0;y<e.bitmap.data.length;y+=4)e.bitmap.data.writeUInt32BE(e._background,y);p(null,(0,f.default)(e))}else if("object"===(0,c.default)(i[0])&&i[0].url){if("function"!=typeof(d=i[1]||A))return(0,o.default)(e,b.throwError.call((0,f.default)(e),"cb must be a function",p));H(i[0],function(t,r){if(t)return b.throwError.call((0,f.default)(e),t,p);e.parseBitmap(r,i[0].url,p)})}else if(i[0]instanceof r){var w=i[0];if(void 0===(d=i[1])&&(d=A),"function"!=typeof d)return(0,o.default)(e,b.throwError.call((0,f.default)(e),"cb must be a function",p));e.bitmap={data:t.from(w.bitmap.data),width:w.bitmap.width,height:w.bitmap.height},e._quality=w._quality,e._deflateLevel=w._deflateLevel,e._deflateStrategy=w._deflateStrategy,e._filterType=w._filterType,e._rgba=w._rgba,e._background=w._background,e._originalMime=w._originalMime,p(null,(0,f.default)(e))}else if(U(i[0])){var v=i[0];d=i[1]||A;var E=v.width*v.height*4===v.data.length?t.from(v.data):G(v.data);e.bitmap={data:E,width:v.width,height:v.height},p(null,(0,f.default)(e))}else if("string"==typeof i[0]){var M=i[0];if(void 0===(d=i[1])&&(d=A),"function"!=typeof d)return(0,o.default)(e,b.throwError.call((0,f.default)(e),"cb must be a function",p));O(M,function(t,r){if(t)return b.throwError.call((0,f.default)(e),t,p);e.parseBitmap(r,M,p)})}else if("object"===(0,c.default)(i[0])&&t.isBuffer(i[0])){var x=i[0];if("function"!=typeof(d=i[1]))return(0,o.default)(e,b.throwError.call((0,f.default)(e),"cb must be a function",p));e.parseBitmap(x,null,p)}else{"function"!=typeof(d=i[i.length-1])&&"function"!=typeof(d=i[i.length-2])&&(d=A);var q=r.__extraConstructors.find(function(t){return t.test.apply(t,i)});if(!q)return(0,o.default)(e,b.throwError.call((0,f.default)(e),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",p));new Promise(function(t,r){var a;return(a=q.run).call.apply(a,[(0,f.default)(e),t,r].concat(i))}).then(function(){return p(null,(0,f.default)(e))}).catch(p)}return e}return(0,h.default)(r,e),(0,u.default)(r,[{key:"parseBitmap",value:function(t,e,r){k.parseBitmap.call(this,t,null,r)}},{key:"rgba",value:function(t,e){return"boolean"!=typeof t?b.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",e):(this._rgba=t,(0,b.isNodePattern)(e)&&e.call(this,null,this),this)}},{key:"emitMulti",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r=Object.assign(r,{methodName:t,eventName:e}),this.emit("any",r),t&&this.emit(t,r),this.emit(e,r)}},{key:"emitError",value:function(t,e){this.emitMulti(t,"error",e)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===R?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){return this._originalMime||r.MIME_PNG}},{key:"getExtension",value:function(){var t=this.getMIME();return q.getExtension(t)}},{key:"write",value:function(t,e){var r=this;if(!d.default||!d.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if("string"!=typeof t)return b.throwError.call(this,"path must be a string",e);if(void 0===e&&(e=A),"function"!=typeof e)return b.throwError.call(this,"cb must be a function",e);var a=q.getType(t)||this.getMIME(),i=p.default.parse(t);return i.dir&&y.default.sync(i.dir),this.getBuffer(a,function(a,i){if(a)return b.throwError.call(r,a,e);var n=d.default.createWriteStream(t);n.on("open",function(){n.write(i),n.end()}).on("error",function(t){return b.throwError.call(r,t,e)}),n.on("finish",function(){e.call(r,null,r)})}),this}},{key:"getBase64",value:function(t,e){return t===r.AUTO&&(t=this.getMIME()),"string"!=typeof t?b.throwError.call(this,"mime must be a string",e):"function"!=typeof e?b.throwError.call(this,"cb must be a function",e):(this.getBuffer(t,function(r,a){if(r)return b.throwError.call(this,r,e);var i="data:"+t+";base64,"+a.toString("base64");e.call(this,null,i)}),this)}},{key:"hash",value:function(t,e){if("function"==typeof(t=t||64)&&(e=t,t=64),"number"!=typeof t)return b.throwError.call(this,"base must be a number",e);if(t<2||t>64)return b.throwError.call(this,"base must be a number between 2 and 64",e);var r=this.pHash();for(r=(0,g.default)(g.default.BIN,B.slice(0,t))(r);r.length<N[t];)r="0"+r;return(0,b.isNodePattern)(e)&&e.call(this,null,r),r}},{key:"pHash",value:function(){var t=new E.default;return t.getHash(this)}},{key:"distanceFromHash",value:function(t){var e=new E.default,r=e.getHash(this);return e.distance(r,t)}},{key:"getPixelIndex",value:function(t,e,a,i){var n,u;if("function"==typeof a&&void 0===i&&(i=a,a=null),a||(a=r.EDGE_EXTEND),"number"!=typeof t||"number"!=typeof e)return b.throwError.call(this,"x and y must be numbers",i);n=t=Math.round(t),u=e=Math.round(e),a===r.EDGE_EXTEND&&(t<0&&(n=0),t>=this.bitmap.width&&(n=this.bitmap.width-1),e<0&&(u=0),e>=this.bitmap.height&&(u=this.bitmap.height-1)),a===r.EDGE_WRAP&&(t<0&&(n=this.bitmap.width+t),t>=this.bitmap.width&&(n=t%this.bitmap.width),e<0&&(n=this.bitmap.height+e),e>=this.bitmap.height&&(u=e%this.bitmap.height));var o=this.bitmap.width*u+n<<2;return(n<0||n>=this.bitmap.width)&&(o=-1),(u<0||u>=this.bitmap.height)&&(o=-1),(0,b.isNodePattern)(i)&&i.call(this,null,o),o}},{key:"getPixelColor",value:function(t,e,r){if("number"!=typeof t||"number"!=typeof e)return b.throwError.call(this,"x and y must be numbers",r);t=Math.round(t),e=Math.round(e);var a=this.getPixelIndex(t,e),i=this.bitmap.data.readUInt32BE(a);return(0,b.isNodePattern)(r)&&r.call(this,null,i),i}},{key:"setPixelColor",value:function(t,e,r,a){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof r)return b.throwError.call(this,"hex, x and y must be numbers",a);e=Math.round(e),r=Math.round(r);var i=this.getPixelIndex(e,r);return this.bitmap.data.writeUInt32BE(t,i),(0,b.isNodePattern)(a)&&a.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var t=0;t<this.bitmap.height;t++)for(var e=0;e<this.bitmap.width;e++){var r=this.bitmap.width*t+e<<2;if(255!==this.bitmap.data[r+3])return!0}return!1}},{key:"scanIterator",value:function(t,e,r,a){return"number"!=typeof t||"number"!=typeof e?b.throwError.call(this,"x and y must be numbers"):"number"!=typeof r||"number"!=typeof a?b.throwError.call(this,"w and h must be numbers"):(0,b.scanIterator)(this,t,e,r,a)}}]),r}(m.default);function J(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;Object.entries(t).forEach(function(t){var r=(0,i.default)(t,2),a=r[0],n=r[1];e[a]=n})}function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;Object.entries(t).forEach(function(t){var r=(0,i.default)(t,2),a=r[0],n=r[1];e.prototype[a]=n})}function z(t,e,r){var a="before-"+e,i=e.replace(/e$/,"")+"ed";S.prototype[t]=function(){for(var e,n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];var l,f=u[r.length-1],h=this;"function"==typeof f?(e=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var n=r[0],u=r[1];n?h.emitError(t,n):h.emitMulti(t,i,(0,s.default)({},t,u)),f.apply(this,r)},u[u.length-1]=e):e=!1,this.emitMulti(t,a);try{l=r.apply(this,u),e||this.emitMulti(t,i,(0,s.default)({},t,l))}catch(c){c.methodName=t,this.emitError(t,c)}return l},S.prototype[t+"Quiet"]=r}function L(t,e){z(t,"change",e)}J(P),W({composite:x.default}),S.__extraConstructors=[],S.appendConstructorOption=function(t,e,r){S.__extraConstructors.push({name:t,test:e,run:r})},S.read=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return new Promise(function(t,r){(0,a.default)(S,e.concat([function(e,a){e?r(e):t(a)}]))})},S.create=S.read,S.rgbaToInt=function(t,e,r,a,i){if("number"!=typeof t||"number"!=typeof e||"number"!=typeof r||"number"!=typeof a)return b.throwError.call(this,"r, g, b and a must be numbers",i);if(t<0||t>255)return b.throwError.call(this,"r must be between 0 and 255",i);if((e<0||e>255)&&b.throwError.call(this,"g must be between 0 and 255",i),r<0||r>255)return b.throwError.call(this,"b must be between 0 and 255",i);if(a<0||a>255)return b.throwError.call(this,"a must be between 0 and 255",i);t=Math.round(t),r=Math.round(r),e=Math.round(e),a=Math.round(a);var n=t*Math.pow(256,3)+e*Math.pow(256,2)+r*Math.pow(256,1)+a*Math.pow(256,0);return(0,b.isNodePattern)(i)&&i.call(this,null,n),n},S.intToRGBA=function(t,e){if("number"!=typeof t)return b.throwError.call(this,"i must be a number",e);var r={};return r.r=Math.floor(t/Math.pow(256,3)),r.g=Math.floor((t-r.r*Math.pow(256,3))/Math.pow(256,2)),r.b=Math.floor((t-r.r*Math.pow(256,3)-r.g*Math.pow(256,2))/Math.pow(256,1)),r.a=Math.floor((t-r.r*Math.pow(256,3)-r.g*Math.pow(256,2)-r.b*Math.pow(256,1))/Math.pow(256,0)),(0,b.isNodePattern)(e)&&e.call(this,null,r),r},S.cssColorToHex=function(t){return"number"==typeof(t=t||0)?Number(t):parseInt((0,v.default)(t).toHex8(),16)},S.limit255=function(t){return t=Math.max(t,0),t=Math.min(t,255)},S.diff=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;if(!(t instanceof S&&e instanceof S))return b.throwError.call(this,"img1 and img2 must be an Jimp images");var a=t.bitmap,i=e.bitmap;if(a.width===i.width&&a.height===i.height||(a.width*a.height>i.width*i.height?t=t.cloneQuiet().resize(i.width,i.height):e=e.cloneQuiet().resize(a.width,a.height)),"number"!=typeof r||r<0||r>1)return b.throwError.call(this,"threshold must be a number between 0 and 1");var n=new S(a.width,a.height,4294967295);return{percent:(0,w.default)(a.data,i.data,n.bitmap.data,n.bitmap.width,n.bitmap.height,{threshold:r})/(n.bitmap.width*n.bitmap.height),image:n}},S.distance=function(t,e){var r=new E.default,a=r.getHash(t),i=r.getHash(e);return r.distance(a,i)},S.compareHashes=function(t,e){return(new E.default).distance(t,e)},S.colorDiff=function(t,e){var r=function(t){return Math.pow(t,2)},a=Math.max;return 0===t.a||t.a||(t.a=255),0===e.a||e.a||(e.a=255),(a(r(t.r-e.r),r(t.r-e.r-t.a+e.a))+a(r(t.g-e.g),r(t.g-e.g-t.a+e.a))+a(r(t.b-e.b),r(t.b-e.b-t.a+e.a)))/195075},z("clone","clone",function(t){var e=new S(this);return(0,b.isNodePattern)(t)&&t.call(e,null,e),e}),L("background",function(t,e){return"number"!=typeof t?b.throwError.call(this,"hex must be a hexadecimal rgba value",e):(this._background=t,(0,b.isNodePattern)(e)&&e.call(this,null,this),this)}),L("scan",function(t,e,r,a,i,n){if("number"!=typeof t||"number"!=typeof e)return b.throwError.call(this,"x and y must be numbers",n);if("number"!=typeof r||"number"!=typeof a)return b.throwError.call(this,"w and h must be numbers",n);if("function"!=typeof i)return b.throwError.call(this,"f must be a function",n);var u=(0,b.scan)(this,t,e,r,a,i);return(0,b.isNodePattern)(n)&&n.call(this,null,u),u});var F=S;exports.default=F;
},{"@babel/runtime/helpers/interopRequireWildcard":"uVGF","@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/construct":"NPDK","@babel/runtime/helpers/slicedToArray":"xkYc","@babel/runtime/helpers/classCallCheck":"kUj2","@babel/runtime/helpers/createClass":"dMjH","@babel/runtime/helpers/possibleConstructorReturn":"3cbG","@babel/runtime/helpers/getPrototypeOf":"XApn","@babel/runtime/helpers/assertThisInitialized":"oXBW","@babel/runtime/helpers/inherits":"1PhT","@babel/runtime/helpers/defineProperty":"6x3D","@babel/runtime/helpers/typeof":"FlpK","fs":"N2bG","path":"FHml","events":"LMQS","@jimp/utils":"O8K0","any-base":"N6Vs","mkdirp":"3ONk","pixelmatch":"WGEV","tinycolor2":"ZdXS","./modules/phash":"JHy5","./request":"gfX+","./composite":"s/s4","./utils/promisify":"G6GM","./utils/mime":"SjGS","./utils/image-bitmap":"1v7z","./constants":"mnY3","buffer":"VjIL"}],"63J6":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireWildcard"),r=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=c;var t=r(require("@babel/runtime/helpers/toConsumableArray")),n=r(require("@babel/runtime/helpers/defineProperty")),a=r(require("@babel/runtime/helpers/slicedToArray")),o=e(require("@jimp/core"));function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(t,!0).forEach(function(r){(0,n.default)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function c(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default,n={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function s(e){Object.entries(e).forEach(function(e){var r=(0,a.default)(e,2),t=r[0],o=r[1];n[t]=i({},n[t],{},o)})}return e.types&&(e.types.forEach(function(e){var r=e();Array.isArray(r.mime)?o.addType.apply(void 0,(0,t.default)(r.mime)):Object.entries(r.mime).forEach(function(e){return o.addType.apply(void 0,(0,t.default)(e))}),delete r.mime,s(r)}),r.decoders=i({},r.decoders,{},n.decoders),r.encoders=i({},r.encoders,{},n.encoders),r.hasAlpha=i({},r.hasAlpha,{},n.hasAlpha)),e.plugins&&e.plugins.forEach(function(e){var r=e(o.jimpEvChange)||{};r.class||r.constants?s(r):s({class:r})}),(0,o.addJimpMethods)(n.class,r),(0,o.addConstants)(n.constants,r),o.default}
},{"@babel/runtime/helpers/interopRequireWildcard":"uVGF","@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/toConsumableArray":"I9dH","@babel/runtime/helpers/defineProperty":"6x3D","@babel/runtime/helpers/slicedToArray":"xkYc","@jimp/core":"9Bx2"}],"EyTc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clone=l,exports.addLast=u,exports.addFirst=s,exports.removeLast=i,exports.removeFirst=a,exports.insert=f,exports.removeAt=p,exports.replaceAt=d,exports.getIn=g,exports.set=h,exports.setIn=y,exports.update=A,exports.updateIn=m,exports.merge=v,exports.mergeDeep=b,exports.mergeIn=I,exports.omit=O,exports.addDefaults=j,exports.default=void 0;const t="INVALID_ARGS",e=!1;function n(t){throw new Error(t)}function r(t){const e=Object.keys(t);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e}const o={}.hasOwnProperty;function l(t){if(Array.isArray(t))return t.slice();const e=t,n=r(e),o={};for(let r=0;r<n.length;r++){const t=n[r];o[t]=e[t]}return o}function c(t){return null!=t&&"object"==typeof t}function u(t,e){return Array.isArray(e)?t.concat(e):t.concat([e])}function s(t,e){return Array.isArray(e)?e.concat(t):[e].concat(t)}function i(t){return t.length?t.slice(0,t.length-1):t}function a(t){return t.length?t.slice(1):t}function f(t,e,n){return t.slice(0,e).concat(Array.isArray(n)?n:[n]).concat(t.slice(e))}function p(t,e){return e>=t.length||e<0?t:t.slice(0,e).concat(t.slice(e+1))}function d(t,e,n){if(t[e]===n)return t;const r=t.length,o=Array(r);for(let l=0;l<r;l++)o[l]=t[l];return o[e]=n,o}function g(r,o){if(Array.isArray(o)||n(e?"A path array should be provided when calling getIn()":t),null==r)return;let l=r;for(let t=0;t<o.length;t++){const e=o[t];if(void 0===(l=null!=l?l[e]:void 0))return l}return l}function h(t,e,n){let r=t;if(null==r&&(r="number"==typeof e?[]:{}),r[e]===n)return r;const o=l(r);return o[e]=n,o}function y(t,e,n){return e.length?x(t,e,n,0):n}function x(t,e,n,r){let o;const l=e[r];if(r===e.length-1)o=n;else{o=x(c(t)&&c(t[l])?t[l]:"number"==typeof e[r+1]?[]:{},e,n,r+1)}return h(t,l,o)}function A(t,e,n){return h(t,e,n(null==t?void 0:t[e]))}function m(t,e,n){return y(t,e,n(g(t,e)))}function v(t,e,n,r,o,l,...c){return c.length?w.call(null,!1,!1,t,e,n,r,o,l,...c):w(!1,!1,t,e,n,r,o,l)}function b(t,e,n,r,o,l,...c){return c.length?w.call(null,!1,!0,t,e,n,r,o,l,...c):w(!1,!0,t,e,n,r,o,l)}function I(t,e,n,r,o,l,c,...u){let s,i=g(t,e);return null==i&&(i={}),y(t,e,s=u.length?w.call(null,!1,!1,i,n,r,o,l,c,...u):w(!1,!1,i,n,r,o,l,c))}function O(t,e){const n=Array.isArray(e)?e:[e];let l=!1;for(let r=0;r<n.length;r++)if(o.call(t,n[r])){l=!0;break}if(!l)return t;const c={},u=r(t);for(let r=0;r<u.length;r++){const e=u[r];n.indexOf(e)>=0||(c[e]=t[e])}return c}function j(t,e,n,r,o,l,...c){return c.length?w.call(null,!0,!1,t,e,n,r,o,l,...c):w(!0,!1,t,e,n,r,o,l)}function w(o,u,s,...i){let a=s;null==a&&n(e?"At least one object should be provided to merge()":t);let f=!1;for(let t=0;t<i.length;t++){const e=i[t];if(null==e)continue;const n=r(e);if(n.length)for(let t=0;t<=n.length;t++){const r=n[t];if(o&&void 0!==a[r])continue;let s=e[r];u&&c(a[r])&&c(s)&&(s=w(o,u,a[r],s)),void 0!==s&&s!==a[r]&&(f||(f=!0,a=l(a)),a[r]=s)}}return a}const D={clone:l,addLast:u,addFirst:s,removeLast:i,removeFirst:a,insert:f,removeAt:p,replaceAt:d,getIn:g,set:h,setIn:y,update:A,updateIn:m,merge:v,mergeDeep:b,mergeIn:I,omit:O,addDefaults:j};var L=D;exports.default=L;
},{}],"xgpY":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,n=n||function(n){return r.from(n).toString("base64")};function e(n){Math.round;var e,o,a,t,f,i=Math.floor,v=new Array(64),u=new Array(64),d=new Array(64),w=new Array(64),h=new Array(65535),c=new Array(65535),g=new Array(64),y=new Array(64),m=[],A=0,l=7,s=new Array(64),p=new Array(64),j=new Array(64),D=new Array(256),M=new Array(2048),x=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],b=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(r,n){for(var e=0,o=0,a=new Array,t=1;t<=16;t++){for(var f=1;f<=r[t];f++)a[n[o]]=[],a[n[o]][0]=e,a[n[o]][1]=t,o++,e++;e*=2}return a}function N(r){for(var n=r[0],e=r[1]-1;e>=0;)n&1<<e&&(A|=1<<l),e--,--l<0&&(255==A?(U(255),U(0)):U(A),l=7,A=0)}function U(r){m.push(r)}function k(r){U(r>>8&255),U(255&r)}function z(r,n,e,o,a){for(var t,f=a[0],i=a[240],v=function(r,n){var e,o,a,t,f,i,v,u,d,w,h=0;for(d=0;d<8;++d){e=r[h],o=r[h+1],a=r[h+2],t=r[h+3],f=r[h+4],i=r[h+5],v=r[h+6];var c=e+(u=r[h+7]),y=e-u,m=o+v,A=o-v,l=a+i,s=a-i,p=t+f,j=t-f,D=c+p,M=c-p,x=m+l,B=m-l;r[h]=D+x,r[h+4]=D-x;var C=.707106781*(B+M);r[h+2]=M+C,r[h+6]=M-C;var I=.382683433*((D=j+s)-(B=A+y)),T=.5411961*D+I,b=1.306562965*B+I,E=.707106781*(x=s+A),S=y+E,_=y-E;r[h+5]=_+T,r[h+3]=_-T,r[h+1]=S+b,r[h+7]=S-b,h+=8}for(h=0,d=0;d<8;++d){e=r[h],o=r[h+8],a=r[h+16],t=r[h+24],f=r[h+32],i=r[h+40],v=r[h+48];var q=e+(u=r[h+56]),N=e-u,U=o+v,k=o-v,z=a+i,F=a-i,G=t+f,H=t-f,J=q+G,K=q-G,L=U+z,O=U-z;r[h]=J+L,r[h+32]=J-L;var P=.707106781*(O+K);r[h+16]=K+P,r[h+48]=K-P;var Q=.382683433*((J=H+F)-(O=k+N)),R=.5411961*J+Q,V=1.306562965*O+Q,W=.707106781*(L=F+k),X=N+W,Y=N-W;r[h+40]=Y+R,r[h+24]=Y-R,r[h+8]=X+V,r[h+56]=X-V,h++}for(d=0;d<64;++d)w=r[d]*n[d],g[d]=w>0?w+.5|0:w-.5|0;return g}(r,n),u=0;u<64;++u)y[x[u]]=v[u];var d=y[0]-e;e=y[0],0==d?N(o[0]):(N(o[c[t=32767+d]]),N(h[t]));for(var w=63;w>0&&0==y[w];w--);if(0==w)return N(f),e;for(var m,A=1;A<=w;){for(var l=A;0==y[A]&&A<=w;++A);var s=A-l;if(s>=16){m=s>>4;for(var p=1;p<=m;++p)N(i);s&=15}t=32767+y[A],N(a[(s<<4)+c[t]]),N(h[t]),A++}return 63!=w&&N(f),e}function F(r){if(r<=0&&(r=1),r>100&&(r=100),f!=r){(function(r){for(var n=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],e=0;e<64;e++){var o=i((n[e]*r+50)/100);o<1?o=1:o>255&&(o=255),v[x[e]]=o}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],t=0;t<64;t++){var f=i((a[t]*r+50)/100);f<1?f=1:f>255&&(f=255),u[x[t]]=f}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],c=0,g=0;g<8;g++)for(var y=0;y<8;y++)d[c]=1/(v[x[c]]*h[g]*h[y]*8),w[c]=1/(u[x[c]]*h[g]*h[y]*8),c++})(r<50?Math.floor(5e3/r):Math.floor(200-2*r)),f=r}}this.encode=function(n,f){(new Date).getTime();f&&F(f),m=new Array,A=0,l=7,k(65496),k(65504),k(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),k(1),k(1),U(0),U(0),function(r){if(r){k(65505),69===r[0]&&120===r[1]&&105===r[2]&&102===r[3]?k(r.length+2):(k(r.length+5+2),U(69),U(120),U(105),U(102),U(0));for(var n=0;n<r.length;n++)U(r[n])}}(n.exifBuffer),function(){k(65499),k(132),U(0);for(var r=0;r<64;r++)U(v[r]);U(1);for(var n=0;n<64;n++)U(u[n])}(),function(r,n){k(65472),k(17),U(8),k(n),k(r),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)}(n.width,n.height),function(){k(65476),k(418),U(0);for(var r=0;r<16;r++)U(B[r+1]);for(var n=0;n<=11;n++)U(C[n]);U(16);for(var e=0;e<16;e++)U(I[e+1]);for(var o=0;o<=161;o++)U(T[o]);U(1);for(var a=0;a<16;a++)U(b[a+1]);for(var t=0;t<=11;t++)U(E[t]);U(17);for(var f=0;f<16;f++)U(S[f+1]);for(var i=0;i<=161;i++)U(_[i])}(),k(65498),k(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0);var i=0,h=0,c=0;A=0,l=7,this.encode.displayName="_encode_";for(var g,y,D,x,q,G,H,J,K,L=n.data,O=n.width,P=n.height,Q=4*O,R=0;R<P;){for(g=0;g<Q;){for(G=q=Q*R+g,H=-1,J=0,K=0;K<64;K++)G=q+(J=K>>3)*Q+(H=4*(7&K)),R+J>=P&&(G-=Q*(R+1+J-P)),g+H>=Q&&(G-=g+H-Q+4),y=L[G++],D=L[G++],x=L[G++],s[K]=(M[y]+M[D+256>>0]+M[x+512>>0]>>16)-128,p[K]=(M[y+768>>0]+M[D+1024>>0]+M[x+1280>>0]>>16)-128,j[K]=(M[y+1280>>0]+M[D+1536>>0]+M[x+1792>>0]>>16)-128;i=z(s,d,i,e,a),h=z(p,w,h,o,t),c=z(j,w,c,o,t),g+=32}R+=8}if(l>=0){var V=[];V[1]=l+1,V[0]=(1<<l+1)-1,N(V)}return k(65497),"undefined"==typeof module?new Uint8Array(m):r.from(m)},function(){(new Date).getTime();n||(n=50),function(){for(var r=String.fromCharCode,n=0;n<256;n++)D[n]=r(n)}(),e=q(B,C),o=q(b,E),a=q(I,T),t=q(S,_),function(){for(var r=1,n=2,e=1;e<=15;e++){for(var o=r;o<n;o++)c[32767+o]=e,h[32767+o]=[],h[32767+o][1]=e,h[32767+o][0]=o;for(var a=-(n-1);a<=-r;a++)c[32767+a]=e,h[32767+a]=[],h[32767+a][1]=e,h[32767+a][0]=n-1+a;r<<=1,n<<=1}}(),function(){for(var r=0;r<256;r++)M[r]=19595*r,M[r+256>>0]=38470*r,M[r+512>>0]=7471*r+32768,M[r+768>>0]=-11059*r,M[r+1024>>0]=-21709*r,M[r+1280>>0]=32768*r+8421375,M[r+1536>>0]=-27439*r,M[r+1792>>0]=-5329*r}(),F(n),(new Date).getTime()}()}function o(r,n){return void 0===n&&(n=50),{data:new e(n).encode(r,n),width:r.width,height:r.height}}function a(r){var n="string"==typeof r?document.getElementById(r):r,e=document.createElement("canvas");e.width=n.width,e.height=n.height;var o=e.getContext("2d");return o.drawImage(n,0,0),o.getImageData(0,0,e.width,e.height)}"undefined"!=typeof module?module.exports=o:"undefined"!=typeof window&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].encode=o);
},{"buffer":"VjIL"}],"abiU":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=function(){"use strict";var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),r=4017,n=799,o=3406,a=2276,s=1567,t=3784,i=5793,c=2896;function f(){}function l(e,r){for(var n,o,a=0,s=[],t=16;t>0&&!e[t-1];)t--;s.push({children:[],index:0});var i,c=s[0];for(n=0;n<t;n++){for(o=0;o<e[n];o++){for((c=s.pop()).children[c.index]=r[a];c.index>0;){if(0===s.length)throw new Error("Could not recreate Huffman Table");c=s.pop()}for(c.index++,s.push(c);s.length<=n;)s.push(i={children:[],index:0}),c.children[c.index]=i.children,c=i;a++}n+1<t&&(s.push(i={children:[],index:0}),c.children[c.index]=i.children,c=i)}return s[0].children}function h(r,n,o,a,s,t,i,c,f,l){o.precision,o.samplesPerLine,o.scanLines;var h=o.mcusPerLine,u=o.progressive,m=(o.maxH,o.maxV,n),d=0,p=0;function v(){if(p>0)return d>>--p&1;if(255==(d=r[n++])){var e=r[n++];if(e)throw new Error("unexpected marker: "+(d<<8|e).toString(16))}return p=7,d>>>7}function b(e){for(var r,n=e;null!==(r=v());){if("number"==typeof(n=n[r]))return n;if("object"!=typeof n)throw new Error("invalid huffman sequence")}return null}function w(e){for(var r=0;e>0;){var n=v();if(null===n)return;r=r<<1|n,e--}return r}function g(e){var r=w(e);return r>=1<<e-1?r:r+(-1<<e)+1}var y=0;var k,x=0;function A(e,r,n,o,a){var s=n%h,t=(n/h|0)*e.v+o,i=s*e.h+a;void 0===e.blocks[t]&&l.tolerantDecoding||r(e,e.blocks[t][i])}function M(e,r,n){var o=n/e.blocksPerLine|0,a=n%e.blocksPerLine;void 0===e.blocks[o]&&l.tolerantDecoding||r(e,e.blocks[o][a])}var P,T,C,L,E,X,U=a.length;X=u?0===t?0===c?function(e,r){var n=b(e.huffmanTableDC),o=0===n?0:g(n)<<f;r[0]=e.pred+=o}:function(e,r){r[0]|=v()<<f}:0===c?function(r,n){if(y>0)y--;else for(var o=t,a=i;o<=a;){var s=b(r.huffmanTableAC),c=15&s,l=s>>4;if(0!==c)n[e[o+=l]]=g(c)*(1<<f),o++;else{if(l<15){y=w(l)+(1<<l)-1;break}o+=16}}}:function(r,n){for(var o=t,a=i,s=0;o<=a;){var c=e[o],l=n[c]<0?-1:1;switch(x){case 0:var h=b(r.huffmanTableAC),u=15&h;if(s=h>>4,0===u)s<15?(y=w(s)+(1<<s),x=4):(s=16,x=1);else{if(1!==u)throw new Error("invalid ACn encoding");k=g(u),x=s?2:3}continue;case 1:case 2:n[c]?n[c]+=(v()<<f)*l:0==--s&&(x=2==x?3:0);break;case 3:n[c]?n[c]+=(v()<<f)*l:(n[c]=k<<f,x=0);break;case 4:n[c]&&(n[c]+=(v()<<f)*l)}o++}4===x&&0==--y&&(x=0)}:function(r,n){var o=b(r.huffmanTableDC),a=0===o?0:g(o);n[0]=r.pred+=a;for(var s=1;s<64;){var t=b(r.huffmanTableAC),i=15&t,c=t>>4;if(0!==i)n[e[s+=c]]=g(i),s++;else{if(c<15)break;s+=16}}};var I,D,B,q,Y=0;for(D=1==U?a[0].blocksPerLine*a[0].blocksPerColumn:h*o.mcusPerColumn,s||(s=D);Y<D;){for(T=0;T<U;T++)a[T].pred=0;if(y=0,1==U)for(P=a[0],E=0;E<s;E++)M(P,X,Y),Y++;else for(E=0;E<s;E++){for(T=0;T<U;T++)for(B=(P=a[T]).h,q=P.v,C=0;C<q;C++)for(L=0;L<B;L++)A(P,X,Y,C,L);if(++Y===D)break}if(Y===D)do{if(255===r[n]&&0!==r[n+1])break;n+=1}while(n<r.length-2);if(p=0,(I=r[n]<<8|r[n+1])<65280)throw new Error("marker was not found");if(!(I>=65488&&I<=65495))break;n+=2}return n-m}function u(e,f){var l,h,u=[],m=f.blocksPerLine,d=f.blocksPerColumn,p=m<<3,b=new Int32Array(64),w=new Uint8Array(64);function g(e,l,h){var u,m,d,p,v,b,w,g,y,k,x=f.quantizationTable,A=h;for(k=0;k<64;k++)A[k]=e[k]*x[k];for(k=0;k<8;++k){var M=8*k;0!=A[1+M]||0!=A[2+M]||0!=A[3+M]||0!=A[4+M]||0!=A[5+M]||0!=A[6+M]||0!=A[7+M]?(u=i*A[0+M]+128>>8,m=i*A[4+M]+128>>8,d=A[2+M],p=A[6+M],v=c*(A[1+M]-A[7+M])+128>>8,g=c*(A[1+M]+A[7+M])+128>>8,b=A[3+M]<<4,w=A[5+M]<<4,y=u-m+1>>1,u=u+m+1>>1,m=y,y=d*t+p*s+128>>8,d=d*s-p*t+128>>8,p=y,y=v-w+1>>1,v=v+w+1>>1,w=y,y=g+b+1>>1,b=g-b+1>>1,g=y,y=u-p+1>>1,u=u+p+1>>1,p=y,y=m-d+1>>1,m=m+d+1>>1,d=y,y=v*a+g*o+2048>>12,v=v*o-g*a+2048>>12,g=y,y=b*n+w*r+2048>>12,b=b*r-w*n+2048>>12,w=y,A[0+M]=u+g,A[7+M]=u-g,A[1+M]=m+w,A[6+M]=m-w,A[2+M]=d+b,A[5+M]=d-b,A[3+M]=p+v,A[4+M]=p-v):(y=i*A[0+M]+512>>10,A[0+M]=y,A[1+M]=y,A[2+M]=y,A[3+M]=y,A[4+M]=y,A[5+M]=y,A[6+M]=y,A[7+M]=y)}for(k=0;k<8;++k){var P=k;0!=A[8+P]||0!=A[16+P]||0!=A[24+P]||0!=A[32+P]||0!=A[40+P]||0!=A[48+P]||0!=A[56+P]?(u=i*A[0+P]+2048>>12,m=i*A[32+P]+2048>>12,d=A[16+P],p=A[48+P],v=c*(A[8+P]-A[56+P])+2048>>12,g=c*(A[8+P]+A[56+P])+2048>>12,b=A[24+P],w=A[40+P],y=u-m+1>>1,u=u+m+1>>1,m=y,y=d*t+p*s+2048>>12,d=d*s-p*t+2048>>12,p=y,y=v-w+1>>1,v=v+w+1>>1,w=y,y=g+b+1>>1,b=g-b+1>>1,g=y,y=u-p+1>>1,u=u+p+1>>1,p=y,y=m-d+1>>1,m=m+d+1>>1,d=y,y=v*a+g*o+2048>>12,v=v*o-g*a+2048>>12,g=y,y=b*n+w*r+2048>>12,b=b*r-w*n+2048>>12,w=y,A[0+P]=u+g,A[56+P]=u-g,A[8+P]=m+w,A[48+P]=m-w,A[16+P]=d+b,A[40+P]=d-b,A[24+P]=p+v,A[32+P]=p-v):(y=i*h[k+0]+8192>>14,A[0+P]=y,A[8+P]=y,A[16+P]=y,A[24+P]=y,A[32+P]=y,A[40+P]=y,A[48+P]=y,A[56+P]=y)}for(k=0;k<64;++k){var T=128+(A[k]+8>>4);l[k]=T<0?0:T>255?255:T}}v(p*d*8);for(var y=0;y<d;y++){var k=y<<3;for(l=0;l<8;l++)u.push(new Uint8Array(p));for(var x=0;x<m;x++){g(f.blocks[y][x],w,b);var A=0,M=x<<3;for(h=0;h<8;h++){var P=u[k+h];for(l=0;l<8;l++)P[M+l]=w[A++]}}}return u}function m(e){return e<0?0:e>255?255:e}f.prototype={load:function(e){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){var e=new Uint8Array(r.response||r.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}.bind(this),r.send(null)},parse:function(r){var n=1e3*this.opts.maxResolutionInMP*1e3,o=0;r.length;function a(){var e=r[o]<<8|r[o+1];return o+=2,e}function s(){var e=a(),n=r.subarray(o,o+e-2);return o+=n.length,n}function t(e){var r,n,o=0,a=0;for(n in e.components)e.components.hasOwnProperty(n)&&(o<(r=e.components[n]).h&&(o=r.h),a<r.v&&(a=r.v));var s=Math.ceil(e.samplesPerLine/8/o),t=Math.ceil(e.scanLines/8/a);for(n in e.components)if(e.components.hasOwnProperty(n)){r=e.components[n];var i=Math.ceil(Math.ceil(e.samplesPerLine/8)*r.h/o),c=Math.ceil(Math.ceil(e.scanLines/8)*r.v/a),f=s*r.h,l=t*r.v,h=[];v(256*(l*f));for(var u=0;u<l;u++){for(var m=[],d=0;d<f;d++)m.push(new Int32Array(64));h.push(m)}r.blocksPerLine=i,r.blocksPerColumn=c,r.blocks=h}e.maxH=o,e.maxV=a,e.mcusPerLine=s,e.mcusPerColumn=t}var i,c,f=null,m=null,d=[],p=[],b=[],w=[],g=a();if(this.comments=[],65496!=g)throw new Error("SOI not found");for(g=a();65497!=g;){switch(g){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var y=s();if(65534===g){var k=String.fromCharCode.apply(null,y);this.comments.push(k)}65504===g&&74===y[0]&&70===y[1]&&73===y[2]&&70===y[3]&&0===y[4]&&(f={version:{major:y[5],minor:y[6]},densityUnits:y[7],xDensity:y[8]<<8|y[9],yDensity:y[10]<<8|y[11],thumbWidth:y[12],thumbHeight:y[13],thumbData:y.subarray(14,14+3*y[12]*y[13])}),65505===g&&69===y[0]&&120===y[1]&&105===y[2]&&102===y[3]&&0===y[4]&&(this.exifBuffer=y.subarray(5,y.length)),65518===g&&65===y[0]&&100===y[1]&&111===y[2]&&98===y[3]&&101===y[4]&&0===y[5]&&(m={version:y[6],flags0:y[7]<<8|y[8],flags1:y[9]<<8|y[10],transformCode:y[11]});break;case 65499:for(var x=a()+o-2;o<x;){var A=r[o++];v(256);var M=new Int32Array(64);if(A>>4==0)for($=0;$<64;$++){M[e[$]]=r[o++]}else{if(A>>4!=1)throw new Error("DQT: invalid table spec");for($=0;$<64;$++){M[e[$]]=a()}}d[15&A]=M}break;case 65472:case 65473:case 65474:a(),(i={}).extended=65473===g,i.progressive=65474===g,i.precision=r[o++],i.scanLines=a(),i.samplesPerLine=a(),i.components={},i.componentsOrder=[];var P=i.scanLines*i.samplesPerLine;if(P>n){var T=Math.ceil((P-n)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${T}MP`)}var C,L=r[o++];for(V=0;V<L;V++){C=r[o];var E=r[o+1]>>4,X=15&r[o+1],U=r[o+2];i.componentsOrder.push(C),i.components[C]={h:E,v:X,quantizationIdx:U},o+=3}t(i),p.push(i);break;case 65476:var I=a();for(V=2;V<I;){var D=r[o++],B=new Uint8Array(16),q=0;for($=0;$<16;$++,o++)q+=B[$]=r[o];v(16+q);var Y=new Uint8Array(q);for($=0;$<q;$++,o++)Y[$]=r[o];V+=17+q,(D>>4==0?w:b)[15&D]=l(B,Y)}break;case 65501:a(),c=a();break;case 65500:a(),a();break;case 65498:a();var R=r[o++],j=[];for(V=0;V<R;V++){Q=i.components[r[o++]];var O=r[o++];Q.huffmanTableDC=w[O>>4],Q.huffmanTableAC=b[15&O],j.push(Q)}var z=r[o++],G=r[o++],H=r[o++],S=h(r,o,i,j,c,z,G,H>>4,15&H,this.opts);o+=S;break;case 65535:255!==r[o]&&o--;break;default:if(255==r[o-3]&&r[o-2]>=192&&r[o-2]<=254){o-=3;break}throw new Error("unknown JPEG marker "+g.toString(16))}g=a()}if(1!=p.length)throw new Error("only single frame JPEGs supported");for(var V=0;V<p.length;V++){var J=p[V].components;for(var $ in J)J[$].quantizationTable=d[J[$].quantizationIdx],delete J[$].quantizationIdx}this.width=i.samplesPerLine,this.height=i.scanLines,this.jfif=f,this.adobe=m,this.components=[];for(V=0;V<i.componentsOrder.length;V++){var Q=i.components[i.componentsOrder[V]];this.components.push({lines:u(0,Q),scaleX:Q.h/i.maxH,scaleY:Q.v/i.maxV})}},getData:function(e,r){var n,o,a,s,t,i,c,f,l,h,u,d,p,b,w,g,y,k,x,A,M,P=this.width/e,T=this.height/r,C=0,L=e*r*this.components.length;v(L);var E=new Uint8Array(L);switch(this.components.length){case 1:for(n=this.components[0],h=0;h<r;h++)for(t=n.lines[0|h*n.scaleY*T],l=0;l<e;l++)u=t[0|l*n.scaleX*P],E[C++]=u;break;case 2:for(n=this.components[0],o=this.components[1],h=0;h<r;h++)for(t=n.lines[0|h*n.scaleY*T],i=o.lines[0|h*o.scaleY*T],l=0;l<e;l++)u=t[0|l*n.scaleX*P],E[C++]=u,u=i[0|l*o.scaleX*P],E[C++]=u;break;case 3:for(M=!0,this.adobe&&this.adobe.transformCode?M=!0:void 0!==this.opts.colorTransform&&(M=!!this.opts.colorTransform),n=this.components[0],o=this.components[1],a=this.components[2],h=0;h<r;h++)for(t=n.lines[0|h*n.scaleY*T],i=o.lines[0|h*o.scaleY*T],c=a.lines[0|h*a.scaleY*T],l=0;l<e;l++)M?(u=t[0|l*n.scaleX*P],d=i[0|l*o.scaleX*P],k=m(u+1.402*((p=c[0|l*a.scaleX*P])-128)),x=m(u-.3441363*(d-128)-.71413636*(p-128)),A=m(u+1.772*(d-128))):(k=t[0|l*n.scaleX*P],x=i[0|l*o.scaleX*P],A=c[0|l*a.scaleX*P]),E[C++]=k,E[C++]=x,E[C++]=A;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(M=!1,this.adobe&&this.adobe.transformCode?M=!0:void 0!==this.opts.colorTransform&&(M=!!this.opts.colorTransform),n=this.components[0],o=this.components[1],a=this.components[2],s=this.components[3],h=0;h<r;h++)for(t=n.lines[0|h*n.scaleY*T],i=o.lines[0|h*o.scaleY*T],c=a.lines[0|h*a.scaleY*T],f=s.lines[0|h*s.scaleY*T],l=0;l<e;l++)M?(u=t[0|l*n.scaleX*P],d=i[0|l*o.scaleX*P],p=c[0|l*a.scaleX*P],b=f[0|l*s.scaleX*P],w=255-m(u+1.402*(p-128)),g=255-m(u-.3441363*(d-128)-.71413636*(p-128)),y=255-m(u+1.772*(d-128))):(w=t[0|l*n.scaleX*P],g=i[0|l*o.scaleX*P],y=c[0|l*a.scaleX*P],b=f[0|l*s.scaleX*P]),E[C++]=255-w,E[C++]=255-g,E[C++]=255-y,E[C++]=255-b;break;default:throw new Error("Unsupported color mode")}return E},copyToImageData:function(e,r){var n,o,a,s,t,i,c,f,l,h=e.width,u=e.height,d=e.data,p=this.getData(h,u),v=0,b=0;switch(this.components.length){case 1:for(o=0;o<u;o++)for(n=0;n<h;n++)a=p[v++],d[b++]=a,d[b++]=a,d[b++]=a,r&&(d[b++]=255);break;case 3:for(o=0;o<u;o++)for(n=0;n<h;n++)c=p[v++],f=p[v++],l=p[v++],d[b++]=c,d[b++]=f,d[b++]=l,r&&(d[b++]=255);break;case 4:for(o=0;o<u;o++)for(n=0;n<h;n++)t=p[v++],i=p[v++],a=p[v++],c=255-m(t*(1-(s=p[v++])/255)+s),f=255-m(i*(1-s/255)+s),l=255-m(a*(1-s/255)+s),d[b++]=c,d[b++]=f,d[b++]=l,r&&(d[b++]=255);break;default:throw new Error("Unsupported color mode")}}};var d=0,p=0;function v(e=0){var r=d+e;if(r>p){var n=Math.ceil((r-p)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${n}MB`)}d=r}return f.resetMaxMemoryUsage=function(e){d=0,p=e},f.getBytesAllocated=function(){return d},f.requestMemoryAllocation=v,f}();function n(n,o={}){var a={...{colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},...o},s=new Uint8Array(n),t=new r;t.opts=a,r.resetMaxMemoryUsage(1024*a.maxMemoryUsageInMB*1024),t.parse(s);var i=a.formatAsRGBA?4:3,c=t.width*t.height*i;try{r.requestMemoryAllocation(c);var f={width:t.width,height:t.height,exifBuffer:t.exifBuffer,data:a.useTArray?new Uint8Array(c):e.alloc(c)};t.comments.length>0&&(f.comments=t.comments)}catch(l){throw l instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+c):l}return t.copyToImageData(f,a.formatAsRGBA),f}"undefined"!=typeof module?module.exports=n:"undefined"!=typeof window&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].decode=n);
},{"buffer":"VjIL"}],"HPee":[function(require,module,exports) {
var e=require("./lib/encoder"),r=require("./lib/decoder");module.exports={encode:e,decode:r};
},{"./lib/encoder":"xgpY","./lib/decoder":"abiU"}],"t09+":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("@babel/runtime/helpers/defineProperty")),r=e(require("jpeg-js")),u=require("@jimp/utils"),i="image/jpeg",a=function(){return{mime:(0,t.default)({},i,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:i},decoders:(0,t.default)({},i,r.default.decode),encoders:(0,t.default)({},i,function(e){return r.default.encode(e.bitmap,e._quality).data}),class:{_quality:100,quality:function(e,t){return"number"!=typeof e?u.throwError.call(this,"n must be a number",t):e<0||e>100?u.throwError.call(this,"n must be a number 0 - 100",t):(this._quality=Math.round(e),(0,u.isNodePattern)(t)&&t.call(this,null,this),this)}}}};exports.default=a;
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/defineProperty":"6x3D","jpeg-js":"HPee","@jimp/utils":"O8K0"}],"EGwU":[function(require,module,exports) {
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],"kCC1":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],"QcjV":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},r=/%[sdj%]/g;exports.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,u=o.length,s=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=u)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),c=o[n];n<u;c=o[++n])h(c)||!S(c)?s+=" "+c:s+=" "+i(c);return s},exports.deprecate=function(t,r){if(void 0!==e&&!0===e.noDeprecation)return t;if(void 0===e)return function(){return exports.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var n,o={};function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(t)?r.showHidden=t:t&&exports._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),p(r,e,r.depth)}function u(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function s(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,t,r){if(e.customInspect&&t&&P(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return v(n)||(n=p(e,n,r)),n}var o=l(e,t);if(o)return o;var i=Object.keys(t),u=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return f(t);if(0===i.length){if(P(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(z(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return f(t)}var b,h="",m=!1,x=["{","}"];(d(t)&&(m=!0,x=["[","]"]),P(t))&&(h=" [Function"+(t.name?": "+t.name:"")+"]");return w(t)&&(h=" "+RegExp.prototype.toString.call(t)),z(t)&&(h=" "+Date.prototype.toUTCString.call(t)),E(t)&&(h=" "+f(t)),0!==i.length||m&&0!=t.length?r<0?w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),b=m?a(e,t,r,u,i):i.map(function(n){return y(e,t,r,u,n,m)}),e.seen.pop(),g(b,h,x)):x[0]+h+x[1]}function l(e,t){if(j(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return x(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function a(e,t,r,n,o){for(var i=[],u=0,s=t.length;u<s;++u)A(t,String(u))?i.push(y(e,t,r,n,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(y(e,t,r,n,o,!0))}),i}function y(e,t,r,n,o,i){var u,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),A(n,o)||(u="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=h(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),j(u)){if(i&&o.match(/^\d+$/))return s;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+s}function g(e,t,r){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function h(e){return null===e}function m(e){return null==e}function x(e){return"number"==typeof e}function v(e){return"string"==typeof e}function O(e){return"symbol"==typeof e}function j(e){return void 0===e}function w(e){return S(e)&&"[object RegExp]"===T(e)}function S(e){return"object"==typeof e&&null!==e}function z(e){return S(e)&&"[object Date]"===T(e)}function E(e){return S(e)&&("[object Error]"===T(e)||e instanceof Error)}function P(e){return"function"==typeof e}function D(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function T(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}exports.debuglog=function(t){if(j(n)&&(n=""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(n)){var r=e.pid;o[t]=function(){var e=exports.format.apply(exports,arguments);console.error("%s %d: %s",t,r,e)}}else o[t]=function(){};return o[t]},exports.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=d,exports.isBoolean=b,exports.isNull=h,exports.isNullOrUndefined=m,exports.isNumber=x,exports.isString=v,exports.isSymbol=O,exports.isUndefined=j,exports.isRegExp=w,exports.isObject=S,exports.isDate=z,exports.isError=E,exports.isFunction=P,exports.isPrimitive=D,exports.isBuffer=require("./support/isBuffer");var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}exports.log=function(){console.log("%s - %s",k(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var J="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function H(r){if("function"!=typeof r)throw new TypeError('The "original" argument must be of type Function');function n(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,u=function(){return o.apply(i,arguments)};r.apply(this,t).then(function(t){e.nextTick(u,null,t)},function(t){e.nextTick(R,t,u)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(r)),Object.defineProperties(n,t(r)),n}exports.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(J&&e[J]){var r;if("function"!=typeof(r=e[J]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,J,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,n){e?r(e):t(n)});try{e.apply(this,o)}catch(u){r(u)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),J&&Object.defineProperty(r,J,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(e))},exports.promisify.custom=J,exports.callbackify=H;
},{"./support/isBuffer":"EGwU","inherits":"kCC1","process":"rH1J"}],"UAgo":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(t,e){if(e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t}};
},{}],"ZENO":[function(require,module,exports) {
var process = require("process");
var n=require("process");function e(e,r,t,c){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,l,u=arguments.length;switch(u){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick(function(){e.call(null,r)});case 3:return n.nextTick(function(){e.call(null,r,t)});case 4:return n.nextTick(function(){e.call(null,r,t,c)});default:for(i=new Array(u-1),l=0;l<i.length;)i[l++]=arguments[l];return n.nextTick(function(){e.apply(null,i)})}}void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?module.exports={nextTick:e}:module.exports=n;
},{"process":"rH1J"}],"13dF":[function(require,module,exports) {
module.exports=require("events").EventEmitter;
},{"events":"LMQS"}],"udfh":[function(require,module,exports) {

var r=require("buffer"),e=r.Buffer;function n(r,e){for(var n in r)e[n]=r[n]}function o(r,n,o){return e(r,n,o)}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?module.exports=r:(n(r,exports),exports.Buffer=o),n(e,o),o.from=function(r,n,o){if("number"==typeof r)throw new TypeError("Argument must not be a number");return e(r,n,o)},o.alloc=function(r,n,o){if("number"!=typeof r)throw new TypeError("Argument must be a number");var f=e(r);return void 0!==n?"string"==typeof o?f.fill(n,o):f.fill(n):f.fill(0),f},o.allocUnsafe=function(r){if("number"!=typeof r)throw new TypeError("Argument must be a number");return e(r)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)};
},{"buffer":"VjIL"}],"FX3H":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer;function t(r){return Array.isArray?Array.isArray(r):"[object Array]"===a(r)}function e(r){return"boolean"==typeof r}function n(r){return null===r}function o(r){return null==r}function i(r){return"number"==typeof r}function u(r){return"string"==typeof r}function s(r){return"symbol"==typeof r}function f(r){return void 0===r}function p(r){return"[object RegExp]"===a(r)}function c(r){return"object"==typeof r&&null!==r}function l(r){return"[object Date]"===a(r)}function y(r){return"[object Error]"===a(r)||r instanceof Error}function x(r){return"function"==typeof r}function b(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||void 0===r}function a(r){return Object.prototype.toString.call(r)}exports.isArray=t,exports.isBoolean=e,exports.isNull=n,exports.isNullOrUndefined=o,exports.isNumber=i,exports.isString=u,exports.isSymbol=s,exports.isUndefined=f,exports.isRegExp=p,exports.isObject=c,exports.isDate=l,exports.isError=y,exports.isFunction=x,exports.isPrimitive=b,exports.isBuffer=r.isBuffer;
},{"buffer":"VjIL"}],"zhPs":[function(require,module,exports) {

"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var n=require("safe-buffer").Buffer,e=require("util");function i(t,n,e){t.copy(n,e)}module.exports=function(){function e(){t(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(t){var n={data:t,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(t){var n={data:t,next:this.head};0===this.length&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(t){if(0===this.length)return"";for(var n=this.head,e=""+n.data;n=n.next;)e+=t+n.data;return e},e.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),h=this.head,a=0;h;)i(h.data,e,a),a+=h.data.length,h=h.next;return e},e}(),e&&e.inspect&&e.inspect.custom&&(module.exports.prototype[e.inspect.custom]=function(){var t=e.inspect({length:this.length});return this.constructor.name+" "+t});
},{"safe-buffer":"udfh","util":"N2bG"}],"19S+":[function(require,module,exports) {
"use strict";var t=require("process-nextick-args");function e(e,a){var r=this,s=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return s||d?(a?a(e):!e||this._writableState&&this._writableState.errorEmitted||t.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!a&&e?(t.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):a&&a(e)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(t,e){t.emit("error",e)}module.exports={destroy:e,undestroy:a};
},{"process-nextick-args":"ZENO"}],"E8KT":[function(require,module,exports) {
var global = arguments[3];
var r=arguments[3];function t(r,t){if(e("noDeprecation"))return r;var n=!1;return function(){if(!n){if(e("throwDeprecation"))throw new Error(t);e("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return r.apply(this,arguments)}}function e(t){try{if(!r.localStorage)return!1}catch(n){return!1}var e=r.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}module.exports=t;
},{}],"rtWY":[function(require,module,exports) {
var process = require("process");

var global = arguments[3];
var e=require("process"),t=arguments[3],n=require("process-nextick-args");function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){W(t,e)}}module.exports=g;var o,s=n.nextTick;g.WritableState=y;var f=Object.create(require("core-util-is"));f.inherits=require("inherits");var u={deprecate:require("util-deprecate")},a=require("./internal/streams/stream"),c=require("safe-buffer").Buffer,l=t.Uint8Array||function(){};function d(e){return c.from(e)}function h(e){return c.isBuffer(e)||e instanceof l}var b,p=require("./internal/streams/destroy");function w(){}function y(e,t){o=o||require("./_stream_duplex"),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,s=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){S(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||require("./_stream_duplex"),!(b.call(g,this)||this instanceof o))return new g(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function k(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}function v(e,t,r,i){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),n.nextTick(i,s),o=!1),o}function q(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}function _(e,t,n,r,i,o){if(!n){var s=q(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var f=t.objectMode?1:r.length;t.length+=f;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,f,r,i,o);return u}function m(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function R(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),T(e,t))}function x(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function S(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(x(n),t)R(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||B(e,n),r?s(M,e,n,o,i):M(e,n,o,i)}}function M(e,t,n,r){n||j(e,t),t.pendingcb--,r(),T(e,t)}function j(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function B(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var f=0,u=!0;n;)o[f]=n,n.isBuf||(u=!1),n=n.next,f+=1;o.allBuffers=u,m(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var a=n.chunk,c=n.encoding,l=n.callback;if(m(e,t,!1,t.objectMode?1:a.length,a,c,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)})}function P(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function T(e,t){var n=E(t);return n&&(P(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function F(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function W(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}f.inherits(g,a),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!b.call(this,e)||this===g&&(e&&e._writableState instanceof y)}})):b=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&h(e);return o&&!c.isBuffer(e)&&(e=d(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=w),r.ended?k(this,n):(o||v(this,r,e,n))&&(r.pendingcb++,i=_(this,r,o,e,t,n)),i},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||B(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||F(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)};
},{"process-nextick-args":"ZENO","core-util-is":"FX3H","inherits":"UAgo","util-deprecate":"E8KT","./internal/streams/stream":"13dF","safe-buffer":"udfh","./internal/streams/destroy":"19S+","./_stream_duplex":"Nn5t","process":"rH1J"}],"Nn5t":[function(require,module,exports) {
"use strict";var e=require("process-nextick-args"),t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=l;var r=Object.create(require("core-util-is"));r.inherits=require("inherits");var i=require("./_stream_readable"),a=require("./_stream_writable");r.inherits(l,i);for(var o=t(a.prototype),s=0;s<o.length;s++){var n=o[s];l.prototype[n]||(l.prototype[n]=a.prototype[n])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||e.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(t,r){this.push(null),this.end(),e.nextTick(r,t)};
},{"process-nextick-args":"ZENO","core-util-is":"FX3H","inherits":"UAgo","./_stream_readable":"SYhk","./_stream_writable":"rtWY"}],"lrG1":[function(require,module,exports) {

"use strict";var t=require("safe-buffer").Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(i){var a=s(i);if("string"!=typeof a&&(t.isEncoding===e||!e(i)))throw new Error("Unknown encoding: "+i);return a||i}function a(e){var s;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,s=4;break;case"utf8":this.fillLast=l,s=4;break;case"base64":this.text=d,this.end=g,s=3;break;default:return this.write=N,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(s)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t,e,s){var i=e.length-1;if(i<s)return 0;var a=r(e[i]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(t.lastNeed=a-2),a):--i<s||-2===a?0:(a=r(e[i]))>=0?(a>0&&(2===a?a=0:t.lastNeed=a-3),a):0}function h(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}function l(t){var e=this.lastTotal-this.lastNeed,s=h(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){var s=n(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function o(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function c(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function d(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function N(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}exports.StringDecoder=a,a.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},a.prototype.end=o,a.prototype.text=u,a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
},{"safe-buffer":"udfh"}],"SYhk":[function(require,module,exports) {

var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),n=require("process-nextick-args");module.exports=_;var r,i=require("isarray");_.ReadableState=w;var a=require("events").EventEmitter,d=function(e,t){return e.listeners(t).length},o=require("./internal/streams/stream"),s=require("safe-buffer").Buffer,u=e.Uint8Array||function(){};function l(e){return s.from(e)}function h(e){return s.isBuffer(e)||e instanceof u}var p=Object.create(require("core-util-is"));p.inherits=require("inherits");var f=require("util"),c=void 0;c=f&&f.debuglog?f.debuglog("stream"):function(){};var g,b=require("./internal/streams/BufferList"),m=require("./internal/streams/destroy");p.inherits(_,o);var v=["error","close","destroy","pause","resume"];function y(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function w(e,t){e=e||{};var n=t instanceof(r=r||require("./_stream_duplex"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:d,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(g||(g=require("string_decoder/").StringDecoder),this.decoder=new g(e.encoding),this.encoding=e.encoding)}function _(e){if(r=r||require("./_stream_duplex"),!(this instanceof _))return new _(e);this._readableState=new w(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function M(e,t,n,r,i){var a,d=e._readableState;null===t?(d.reading=!1,x(e,d)):(i||(a=k(d,t)),a?e.emit("error",a):d.objectMode||t&&t.length>0?("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=l(t)),r?d.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,d,t,!0):d.ended?e.emit("error",new Error("stream.push() after EOF")):(d.reading=!1,d.decoder&&!n?(t=d.decoder.write(t),d.objectMode||0!==t.length?S(e,d,t,!1):C(e,d)):S(e,d,t,!1))):r||(d.reading=!1));return j(d)}function S(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&q(e)),C(e,t)}function k(e,t){var n;return h(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function j(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=s.from(e,t),t=""),n=!0),M(this,e,t,!1,n)},_.prototype.unshift=function(e){return M(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){return g||(g=require("string_decoder/").StringDecoder),this._readableState.decoder=new g(e),this._readableState.encoding=e,this};var R=8388608;function E(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function L(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=E(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,q(e)}}function q(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(W,e):W(e))}function W(e){c("emit readable"),e.emit("readable"),B(e)}function C(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(D,e,t))}function D(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(c("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&d(e,"data")&&(t.flowing=!0,B(e))}}function T(e){c("readable nexttick read 0"),e.read(0)}function U(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(P,e,t))}function P(e,t){t.reading||(c("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function H(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=I(e,t.buffer,t.decoder),n);var n}function I(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?A(e,t):F(e,t),r}function A(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var a=n.data,d=e>a.length?a.length:e;if(d===a.length?i+=a:i+=a.slice(0,e),0===(e-=d)){d===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(d));break}++r}return t.length-=r,i}function F(e,t){var n=s.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,d=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,d),0===(e-=d)){d===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(d));break}++i}return t.length-=i,n}function z(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(G,t,e))}function G(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function J(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}_.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):q(this),null;if(0===(e=L(e,t))&&t.ended)return 0===t.length&&z(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=L(n,t))),null===(r=e>0?H(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&z(this)),null!==r&&this.emit("data",r),r},_.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(e,r){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,c("pipe count=%d opts=%j",a.pipesCount,r);var o=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr?u:v;function s(t,n){c("onunpipe"),t===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,c("cleanup"),e.removeListener("close",b),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",s),i.removeListener("end",u),i.removeListener("end",v),i.removeListener("data",f),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){c("onend"),e.end()}a.endEmitted?n.nextTick(o):i.once("end",o),e.on("unpipe",s);var l=O(i);e.on("drain",l);var h=!1;var p=!1;function f(t){c("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==J(a.pipes,e))&&!h&&(c("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function g(t){c("onerror",t),v(),e.removeListener("error",g),0===d(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",m),v()}function m(){c("onfinish"),e.removeListener("close",b),v()}function v(){c("unpipe"),i.unpipe(e)}return i.on("data",f),y(e,"error",g),e.once("close",b),e.once("finish",m),e.emit("pipe",i),a.flowing||(c("pipe resume"),i.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var d=J(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},_.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&q(this):n.nextTick(T,this))}return r},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!0,U(this,e)),this},_.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=H;
},{"process-nextick-args":"ZENO","isarray":"ZCp3","events":"LMQS","./internal/streams/stream":"13dF","safe-buffer":"udfh","core-util-is":"FX3H","inherits":"UAgo","util":"N2bG","./internal/streams/BufferList":"zhPs","./internal/streams/destroy":"19S+","./_stream_duplex":"Nn5t","string_decoder/":"lrG1","process":"rH1J"}],"f17R":[function(require,module,exports) {
"use strict";module.exports=n;var t=require("./_stream_duplex"),r=Object.create(require("core-util-is"));function e(t,r){var e=this._transformState;e.transforming=!1;var n=e.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,null!=r&&this.push(r),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function n(r){if(!(this instanceof n))return new n(r);t.call(this,r),this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var t=this;"function"==typeof this._flush?this._flush(function(r,e){a(t,r,e)}):a(this,null,null)}function a(t,r,e){if(r)return t.emit("error",r);if(null!=e&&t.push(e),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=require("inherits"),r.inherits(n,t),n.prototype.push=function(r,e){return this._transformState.needTransform=!1,t.prototype.push.call(this,r,e)},n.prototype._transform=function(t,r,e){throw new Error("_transform() is not implemented")},n.prototype._write=function(t,r,e){var n=this._transformState;if(n.writecb=e,n.writechunk=t,n.writeencoding=r,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},n.prototype._read=function(t){var r=this._transformState;null!==r.writechunk&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},n.prototype._destroy=function(r,e){var n=this;t.prototype._destroy.call(this,r,function(t){e(t),n.emit("close")})};
},{"./_stream_duplex":"Nn5t","core-util-is":"FX3H","inherits":"UAgo"}],"cQhX":[function(require,module,exports) {
"use strict";module.exports=t;var r=require("./_stream_transform"),e=Object.create(require("core-util-is"));function t(e){if(!(this instanceof t))return new t(e);r.call(this,e)}e.inherits=require("inherits"),e.inherits(t,r),t.prototype._transform=function(r,e,t){t(null,r)};
},{"./_stream_transform":"f17R","core-util-is":"FX3H","inherits":"UAgo"}],"/IVS":[function(require,module,exports) {
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js");
},{"./lib/_stream_readable.js":"SYhk","./lib/_stream_writable.js":"rtWY","./lib/_stream_duplex.js":"Nn5t","./lib/_stream_transform.js":"f17R","./lib/_stream_passthrough.js":"cQhX"}],"DeMq":[function(require,module,exports) {
module.exports=require("./lib/_stream_writable.js");
},{"./lib/_stream_writable.js":"rtWY"}],"IPMc":[function(require,module,exports) {
module.exports=require("./lib/_stream_duplex.js");
},{"./lib/_stream_duplex.js":"Nn5t"}],"eEB2":[function(require,module,exports) {
module.exports=require("./readable").Transform;
},{"./readable":"/IVS"}],"/CsE":[function(require,module,exports) {
module.exports=require("./readable").PassThrough;
},{"./readable":"/IVS"}],"kbGg":[function(require,module,exports) {
module.exports=n;var e=require("events").EventEmitter,r=require("inherits");function n(){e.call(this)}r(n,e),n.Readable=require("readable-stream/readable.js"),n.Writable=require("readable-stream/writable.js"),n.Duplex=require("readable-stream/duplex.js"),n.Transform=require("readable-stream/transform.js"),n.PassThrough=require("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(r,n){var o=this;function t(e){r.writable&&!1===r.write(e)&&o.pause&&o.pause()}function s(){o.readable&&o.resume&&o.resume()}o.on("data",t),r.on("drain",s),r._isStdio||n&&!1===n.end||(o.on("end",a),o.on("close",u));var i=!1;function a(){i||(i=!0,r.end())}function u(){i||(i=!0,"function"==typeof r.destroy&&r.destroy())}function d(r){if(l(),0===e.listenerCount(this,"error"))throw r}function l(){o.removeListener("data",t),r.removeListener("drain",s),o.removeListener("end",a),o.removeListener("close",u),o.removeListener("error",d),r.removeListener("error",d),o.removeListener("end",l),o.removeListener("close",l),r.removeListener("close",l)}return o.on("error",d),r.on("error",d),o.on("end",l),o.on("close",l),r.on("close",l),r.emit("pipe",o),r};
},{"events":"LMQS","inherits":"UAgo","readable-stream/readable.js":"/IVS","readable-stream/writable.js":"DeMq","readable-stream/duplex.js":"IPMc","readable-stream/transform.js":"eEB2","readable-stream/passthrough.js":"/CsE"}],"9JOR":[function(require,module,exports) {
var global = arguments[3];
var process = require("process");
var e=arguments[3],t=require("process"),r=/%[sdj%]/g;exports.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,s=o.length,u=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),c=o[n];n<s;c=o[++n])h(c)||!z(c)?u+=" "+c:u+=" "+i(c);return u},exports.deprecate=function(r,n){if(j(e.process))return function(){return exports.deprecate(r,n).apply(this,arguments)};if(!0===t.noDeprecation)return r;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),o=!0}return r.apply(this,arguments)}};var n,o={};function i(e,t){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),x(t)?r.showHidden=t:t&&exports._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),p(r,e,r.depth)}function s(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function u(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,t,r){if(e.customInspect&&t&&D(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return v(n)||(n=p(e,n,r)),n}var o=l(e,t);if(o)return o;var i=Object.keys(t),s=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return a(t);if(0===i.length){if(D(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return a(t)}var x,h="",b=!1,m=["{","}"];(d(t)&&(b=!0,m=["[","]"]),D(t))&&(h=" [Function"+(t.name?": "+t.name:"")+"]");return O(t)&&(h=" "+RegExp.prototype.toString.call(t)),w(t)&&(h=" "+Date.prototype.toUTCString.call(t)),E(t)&&(h=" "+a(t)),0!==i.length||b&&0!=t.length?r<0?O(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),x=b?f(e,t,r,s,i):i.map(function(n){return g(e,t,r,s,n,b)}),e.seen.pop(),y(x,h,m)):m[0]+h+m[1]}function l(e,t){if(j(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):x(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,o){for(var i=[],s=0,u=t.length;s<u;++s)$(t,String(s))?i.push(g(e,t,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(g(e,t,r,n,o,!0))}),i}function g(e,t,r,n,o,i){var s,u,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),$(n,o)||(s="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=h(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")):u=e.stylize("[Circular]","special")),j(s)){if(i&&o.match(/^\d+$/))return u;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function y(e,t,r){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function x(e){return"boolean"==typeof e}function h(e){return null===e}function b(e){return null==e}function m(e){return"number"==typeof e}function v(e){return"string"==typeof e}function S(e){return"symbol"==typeof e}function j(e){return void 0===e}function O(e){return z(e)&&"[object RegExp]"===A(e)}function z(e){return"object"==typeof e&&null!==e}function w(e){return z(e)&&"[object Date]"===A(e)}function E(e){return z(e)&&("[object Error]"===A(e)||e instanceof Error)}function D(e){return"function"==typeof e}function N(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function A(e){return Object.prototype.toString.call(e)}function J(e){return e<10?"0"+e.toString(10):e.toString(10)}exports.debuglog=function(e){if(j(n)&&(n=""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(n)){var r=t.pid;o[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else o[e]=function(){};return o[e]},exports.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=d,exports.isBoolean=x,exports.isNull=h,exports.isNullOrUndefined=b,exports.isNumber=m,exports.isString=v,exports.isSymbol=S,exports.isUndefined=j,exports.isRegExp=O,exports.isObject=z,exports.isDate=w,exports.isError=E,exports.isFunction=D,exports.isPrimitive=N,exports.isBuffer=require("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var e=new Date,t=[J(e.getHours()),J(e.getMinutes()),J(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function $(e,t){return Object.prototype.hasOwnProperty.call(e,t)}exports.log=function(){console.log("%s - %s",H(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,t){if(!t||!z(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};
},{"./support/isBuffer":"EGwU","inherits":"kCC1","process":"rH1J"}],"p+dr":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e=require("object-assign");function r(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function n(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=require("util/"),o=Object.prototype.hasOwnProperty,u=Array.prototype.slice,a="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function f(e){return!n(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var s=module.exports=q,l=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(i.isFunction(t)){if(a)return t.name;var e=t.toString().match(l);return e&&e[1]}}function g(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function E(t){if(a||!i.isFunction(t))return i.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function h(t){return g(E(t.actual),128)+" "+t.operator+" "+g(E(t.expected),128)}function y(t,e,r,n,i){throw new s.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function q(t,e){t||y(t,!0,e,"==",s.ok)}function d(t,e,o,u){if(t===e)return!0;if(n(t)&&n(e))return 0===r(t,e);if(i.isDate(t)&&i.isDate(e))return t.getTime()===e.getTime();if(i.isRegExp(t)&&i.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(f(t)&&f(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===r(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(n(t)!==n(e))return!1;var a=(u=u||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===u.expected.indexOf(e)||(u.actual.push(t),u.expected.push(e),b(t,e,o,u))}return o?t===e:t==e}function m(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function b(t,e,r,n){if(null==t||null==e)return!1;if(i.isPrimitive(t)||i.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=m(t),a=m(e);if(o&&!a||!o&&a)return!1;if(o)return d(t=u.call(t),e=u.call(e),r);var c,f,s=A(t),l=A(e);if(s.length!==l.length)return!1;for(s.sort(),l.sort(),f=s.length-1;f>=0;f--)if(s[f]!==l[f])return!1;for(f=s.length-1;f>=0;f--)if(!d(t[c=s[f]],e[c],r,n))return!1;return!0}function v(t,e,r){d(t,e,!0)&&y(t,e,r,"notDeepStrictEqual",v)}function x(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(r){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t){var e;try{t()}catch(r){e=r}return e}function w(t,e,r,n){var o;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=S(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&y(o,r,"Missing expected exception"+n);var u="string"==typeof n,a=!t&&o&&!r;if((!t&&i.isError(o)&&u&&x(o,r)||a)&&y(o,r,"Got unwanted exception"+n),t&&o&&r&&!x(o,r)||!t&&o)throw o}function O(t,e){t||y(t,!0,e,"==",O)}s.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=h(this),this.generatedMessage=!0);var e=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=p(e),o=n.indexOf("\n"+i);if(o>=0){var u=n.indexOf("\n",o+1);n=n.substring(u+1)}this.stack=n}}},i.inherits(s.AssertionError,Error),s.fail=y,s.ok=q,s.equal=function(t,e,r){t!=e&&y(t,e,r,"==",s.equal)},s.notEqual=function(t,e,r){t==e&&y(t,e,r,"!=",s.notEqual)},s.deepEqual=function(t,e,r){d(t,e,!1)||y(t,e,r,"deepEqual",s.deepEqual)},s.deepStrictEqual=function(t,e,r){d(t,e,!0)||y(t,e,r,"deepStrictEqual",s.deepStrictEqual)},s.notDeepEqual=function(t,e,r){d(t,e,!1)&&y(t,e,r,"notDeepEqual",s.notDeepEqual)},s.notDeepStrictEqual=v,s.strictEqual=function(t,e,r){t!==e&&y(t,e,r,"===",s.strictEqual)},s.notStrictEqual=function(t,e,r){t===e&&y(t,e,r,"!==",s.notStrictEqual)},s.throws=function(t,e,r){w(!0,t,e,r)},s.doesNotThrow=function(t,e,r){w(!1,t,e,r)},s.ifError=function(t){if(t)throw t},s.strict=e(O,s,{equal:s.strictEqual,deepEqual:s.deepStrictEqual,notEqual:s.notStrictEqual,notDeepEqual:s.notDeepStrictEqual}),s.strict.strict=s.strict;var A=Object.keys||function(t){var e=[];for(var r in t)o.call(t,r)&&e.push(r);return e};
},{"object-assign":"W2+e","util/":"9JOR"}],"PzRC":[function(require,module,exports) {
"use strict";function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}module.exports=t;
},{}],"kQw7":[function(require,module,exports) {
"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function t(r,t){return Object.prototype.hasOwnProperty.call(r,t)}exports.assign=function(r){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var a in n)t(n,a)&&(r[a]=n[a])}}return r},exports.shrinkBuf=function(r,t){return r.length===t?r:r.subarray?r.subarray(0,t):(r.length=t,r)};var e={arraySet:function(r,t,e,n,a){if(t.subarray&&r.subarray)r.set(t.subarray(e,e+n),a);else for(var o=0;o<n;o++)r[a+o]=t[e+o]},flattenChunks:function(r){var t,e,n,a,o,s;for(n=0,t=0,e=r.length;t<e;t++)n+=r[t].length;for(s=new Uint8Array(n),a=0,t=0,e=r.length;t<e;t++)o=r[t],s.set(o,a),a+=o.length;return s}},n={arraySet:function(r,t,e,n,a){for(var o=0;o<n;o++)r[a+o]=t[e+o]},flattenChunks:function(r){return[].concat.apply([],r)}};exports.setTyped=function(r){r?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,e)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,n))},exports.setTyped(r);
},{}],"gg6r":[function(require,module,exports) {
"use strict";var e=require("../utils/common"),t=4,n=0,_=1,r=2;function a(e){for(var t=e.length;--t>=0;)e[t]=0}var i=0,l=1,d=2,f=3,o=258,b=29,s=256,u=s+1+b,c=30,p=19,h=2*u+1,v=15,y=16,x=7,g=256,m=16,w=17,A=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=512,B=new Array(2*(u+2));a(B);var C=new Array(2*c);a(C);var D=new Array(j);a(D);var E=new Array(o-f+1);a(E);var F=new Array(b);a(F);var G,H,I,J=new Array(c);function K(e,t,n,_,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=_,this.max_length=r,this.has_stree=e&&e.length}function L(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function M(e){return e<256?D[e]:D[256+(e>>>7)]}function N(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function O(e,t,n){e.bi_valid>y-n?(e.bi_buf|=t<<e.bi_valid&65535,N(e,e.bi_buf),e.bi_buf=t>>y-e.bi_valid,e.bi_valid+=n-y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function P(e,t,n){O(e,n[2*t],n[2*t+1])}function Q(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function R(e){16===e.bi_valid?(N(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function T(e,t){var n,_,r,a,i,l,d=t.dyn_tree,f=t.max_code,o=t.stat_desc.static_tree,b=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,c=t.stat_desc.max_length,p=0;for(a=0;a<=v;a++)e.bl_count[a]=0;for(d[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)(a=d[2*d[2*(_=e.heap[n])+1]+1]+1)>c&&(a=c,p++),d[2*_+1]=a,_>f||(e.bl_count[a]++,i=0,_>=u&&(i=s[_-u]),l=d[2*_],e.opt_len+=l*(a+i),b&&(e.static_len+=l*(o[2*_+1]+i)));if(0!==p){do{for(a=c-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[c]--,p-=2}while(p>0);for(a=c;0!==a;a--)for(_=e.bl_count[a];0!==_;)(r=e.heap[--n])>f||(d[2*r+1]!==a&&(e.opt_len+=(a-d[2*r+1])*d[2*r],d[2*r+1]=a),_--)}}function U(e,t,n){var _,r,a=new Array(v+1),i=0;for(_=1;_<=v;_++)a[_]=i=i+n[_-1]<<1;for(r=0;r<=t;r++){var l=e[2*r+1];0!==l&&(e[2*r]=Q(a[l]++,l))}}function V(){var e,t,n,_,r,a=new Array(v+1);for(n=0,_=0;_<b-1;_++)for(F[_]=n,e=0;e<1<<k[_];e++)E[n++]=_;for(E[n-1]=_,r=0,_=0;_<16;_++)for(J[_]=r,e=0;e<1<<q[_];e++)D[r++]=_;for(r>>=7;_<c;_++)for(J[_]=r<<7,e=0;e<1<<q[_]-7;e++)D[256+r++]=_;for(t=0;t<=v;t++)a[t]=0;for(e=0;e<=143;)B[2*e+1]=8,e++,a[8]++;for(;e<=255;)B[2*e+1]=9,e++,a[9]++;for(;e<=279;)B[2*e+1]=7,e++,a[7]++;for(;e<=287;)B[2*e+1]=8,e++,a[8]++;for(U(B,u+1,a),e=0;e<c;e++)C[2*e+1]=5,C[2*e]=Q(e,5);G=new K(B,k,s+1,u,v),H=new K(C,q,0,c,v),I=new K(new Array(0),z,0,p,x)}function W(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<c;t++)e.dyn_dtree[2*t]=0;for(t=0;t<p;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*g]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function X(e){e.bi_valid>8?N(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Y(t,n,_,r){X(t),r&&(N(t,_),N(t,~_)),e.arraySet(t.pending_buf,t.window,n,_,t.pending),t.pending+=_}function Z(e,t,n,_){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&_[t]<=_[n]}function $(e,t,n){for(var _=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&Z(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!Z(t,_,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=_}function ee(e,t,n){var _,r,a,i,l=0;if(0!==e.last_lit)do{_=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===_?P(e,r,t):(P(e,(a=E[r])+s+1,t),0!==(i=k[a])&&O(e,r-=F[a],i),P(e,a=M(--_),n),0!==(i=q[a])&&O(e,_-=J[a],i))}while(l<e.last_lit);P(e,g,t)}function te(e,t){var n,_,r,a=t.dyn_tree,i=t.stat_desc.static_tree,l=t.stat_desc.has_stree,d=t.stat_desc.elems,f=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<d;n++)0!==a[2*n]?(e.heap[++e.heap_len]=f=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=f<2?++f:0)]=1,e.depth[r]=0,e.opt_len--,l&&(e.static_len-=i[2*r+1]);for(t.max_code=f,n=e.heap_len>>1;n>=1;n--)$(e,a,n);r=d;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$(e,a,1),_=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=_,a[2*r]=a[2*n]+a[2*_],e.depth[r]=(e.depth[n]>=e.depth[_]?e.depth[n]:e.depth[_])+1,a[2*n+1]=a[2*_+1]=r,e.heap[1]=r++,$(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],T(e,t),U(a,f,e.bl_count)}function ne(e,t,n){var _,r,a=-1,i=t[1],l=0,d=7,f=4;for(0===i&&(d=138,f=3),t[2*(n+1)+1]=65535,_=0;_<=n;_++)r=i,i=t[2*(_+1)+1],++l<d&&r===i||(l<f?e.bl_tree[2*r]+=l:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[2*m]++):l<=10?e.bl_tree[2*w]++:e.bl_tree[2*A]++,l=0,a=r,0===i?(d=138,f=3):r===i?(d=6,f=3):(d=7,f=4))}function _e(e,t,n){var _,r,a=-1,i=t[1],l=0,d=7,f=4;for(0===i&&(d=138,f=3),_=0;_<=n;_++)if(r=i,i=t[2*(_+1)+1],!(++l<d&&r===i)){if(l<f)do{P(e,r,e.bl_tree)}while(0!=--l);else 0!==r?(r!==a&&(P(e,r,e.bl_tree),l--),P(e,m,e.bl_tree),O(e,l-3,2)):l<=10?(P(e,w,e.bl_tree),O(e,l-3,3)):(P(e,A,e.bl_tree),O(e,l-11,7));l=0,a=r,0===i?(d=138,f=3):r===i?(d=6,f=3):(d=7,f=4)}}function re(e){var t;for(ne(e,e.dyn_ltree,e.l_desc.max_code),ne(e,e.dyn_dtree,e.d_desc.max_code),te(e,e.bl_desc),t=p-1;t>=3&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function ae(e,t,n,_){var r;for(O(e,t-257,5),O(e,n-1,5),O(e,_-4,4),r=0;r<_;r++)O(e,e.bl_tree[2*S[r]+1],3);_e(e,e.dyn_ltree,t-1),_e(e,e.dyn_dtree,n-1)}function ie(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return n;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return _;for(t=32;t<s;t++)if(0!==e.dyn_ltree[2*t])return _;return n}a(J);var le=!1;function de(e){le||(V(),le=!0),e.l_desc=new L(e.dyn_ltree,G),e.d_desc=new L(e.dyn_dtree,H),e.bl_desc=new L(e.bl_tree,I),e.bi_buf=0,e.bi_valid=0,W(e)}function fe(e,t,n,_){O(e,(i<<1)+(_?1:0),3),Y(e,t,n,!0)}function oe(e){O(e,l<<1,3),P(e,g,B),R(e)}function be(e,n,_,a){var i,f,o=0;e.level>0?(e.strm.data_type===r&&(e.strm.data_type=ie(e)),te(e,e.l_desc),te(e,e.d_desc),o=re(e),i=e.opt_len+3+7>>>3,(f=e.static_len+3+7>>>3)<=i&&(i=f)):i=f=_+5,_+4<=i&&-1!==n?fe(e,n,_,a):e.strategy===t||f===i?(O(e,(l<<1)+(a?1:0),3),ee(e,B,C)):(O(e,(d<<1)+(a?1:0),3),ae(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),ee(e,e.dyn_ltree,e.dyn_dtree)),W(e),a&&X(e)}function se(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(E[n]+s+1)]++,e.dyn_dtree[2*M(t)]++),e.last_lit===e.lit_bufsize-1}exports._tr_init=de,exports._tr_stored_block=fe,exports._tr_flush_block=be,exports._tr_tally=se,exports._tr_align=oe;
},{"../utils/common":"kQw7"}],"M+OI":[function(require,module,exports) {
"use strict";function e(e,r,o,t){for(var u=65535&e|0,i=e>>>16&65535|0,n=0;0!==o;){o-=n=o>2e3?2e3:o;do{i=i+(u=u+r[t++]|0)|0}while(--n);u%=65521,i%=65521}return u|i<<16|0}module.exports=e;
},{}],"o0gx":[function(require,module,exports) {
"use strict";function r(){for(var r,o=[],t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=1&r?3988292384^r>>>1:r>>>1;o[t]=r}return o}var o=r();function t(r,t,n,u){var a=o,e=u+n;r^=-1;for(var f=u;f<e;f++)r=r>>>8^a[255&(r^t[f])];return-1^r}module.exports=t;
},{}],"fVHU":[function(require,module,exports) {
"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};
},{}],"9RMK":[function(require,module,exports) {
"use strict";var t,a=require("../utils/common"),e=require("./trees"),s=require("./adler32"),i=require("./crc32"),r=require("./messages"),n=0,h=1,l=3,_=4,d=5,o=0,u=1,g=-2,f=-3,c=-5,p=-1,m=1,w=2,v=3,k=4,z=0,b=2,x=8,y=9,B=15,S=8,q=29,I=256,A=I+1+q,C=30,R=19,j=2*A+1,D=15,E=3,H=258,K=H+E+1,N=32,F=42,G=69,J=73,L=91,M=103,O=113,P=666,Q=1,T=2,U=3,V=4,W=3;function X(t,a){return t.msg=r[a],a}function Y(t){return(t<<1)-(t>4?9:0)}function Z(t){for(var a=t.length;--a>=0;)t[a]=0}function $(t){var e=t.state,s=e.pending;s>t.avail_out&&(s=t.avail_out),0!==s&&(a.arraySet(t.output,e.pending_buf,e.pending_out,s,t.next_out),t.next_out+=s,e.pending_out+=s,t.total_out+=s,t.avail_out-=s,e.pending-=s,0===e.pending&&(e.pending_out=0))}function tt(t,a){e._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,a),t.block_start=t.strstart,$(t.strm)}function at(t,a){t.pending_buf[t.pending++]=a}function et(t,a){t.pending_buf[t.pending++]=a>>>8&255,t.pending_buf[t.pending++]=255&a}function st(t,e,r,n){var h=t.avail_in;return h>n&&(h=n),0===h?0:(t.avail_in-=h,a.arraySet(e,t.input,t.next_in,h,r),1===t.state.wrap?t.adler=s(t.adler,e,h,r):2===t.state.wrap&&(t.adler=i(t.adler,e,h,r)),t.next_in+=h,t.total_in+=h,h)}function it(t,a){var e,s,i=t.max_chain_length,r=t.strstart,n=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-K?t.strstart-(t.w_size-K):0,_=t.window,d=t.w_mask,o=t.prev,u=t.strstart+H,g=_[r+n-1],f=_[r+n];t.prev_length>=t.good_match&&(i>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(e=a)+n]===f&&_[e+n-1]===g&&_[e]===_[r]&&_[++e]===_[r+1]){r+=2,e++;do{}while(_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&_[++r]===_[++e]&&r<u);if(s=H-(u-r),r=u-H,s>n){if(t.match_start=a,n=s,s>=h)break;g=_[r+n-1],f=_[r+n]}}}while((a=o[a&d])>l&&0!=--i);return n<=t.lookahead?n:t.lookahead}function rt(t){var e,s,i,r,n,h=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=h+(h-K)){a.arraySet(t.window,t.window,h,h,0),t.match_start-=h,t.strstart-=h,t.block_start-=h,e=s=t.hash_size;do{i=t.head[--e],t.head[e]=i>=h?i-h:0}while(--s);e=s=h;do{i=t.prev[--e],t.prev[e]=i>=h?i-h:0}while(--s);r+=h}if(0===t.strm.avail_in)break;if(s=st(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=s,t.lookahead+t.insert>=E)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=(t.ins_h<<t.hash_shift^t.window[n+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[n+E-1])&t.hash_mask,t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<E)););}while(t.lookahead<K&&0!==t.strm.avail_in)}function nt(t,a){var e=65535;for(e>t.pending_buf_size-5&&(e=t.pending_buf_size-5);;){if(t.lookahead<=1){if(rt(t),0===t.lookahead&&a===n)return Q;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var s=t.block_start+e;if((0===t.strstart||t.strstart>=s)&&(t.lookahead=t.strstart-s,t.strstart=s,tt(t,!1),0===t.strm.avail_out))return Q;if(t.strstart-t.block_start>=t.w_size-K&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):(t.strstart>t.block_start&&(tt(t,!1),t.strm.avail_out),Q)}function ht(t,a){for(var s,i;;){if(t.lookahead<K){if(rt(t),t.lookahead<K&&a===n)return Q;if(0===t.lookahead)break}if(s=0,t.lookahead>=E&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==s&&t.strstart-s<=t.w_size-K&&(t.match_length=it(t,s)),t.match_length>=E)if(i=e._tr_tally(t,t.strstart-t.match_start,t.match_length-E),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=E){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=t.strstart<E-1?t.strstart:E-1,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function lt(t,a){for(var s,i,r;;){if(t.lookahead<K){if(rt(t),t.lookahead<K&&a===n)return Q;if(0===t.lookahead)break}if(s=0,t.lookahead>=E&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=E-1,0!==s&&t.prev_length<t.max_lazy_match&&t.strstart-s<=t.w_size-K&&(t.match_length=it(t,s),t.match_length<=5&&(t.strategy===m||t.match_length===E&&t.strstart-t.match_start>4096)&&(t.match_length=E-1)),t.prev_length>=E&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-E,i=e._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-E),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,s=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=E-1,t.strstart++,i&&(tt(t,!1),0===t.strm.avail_out))return Q}else if(t.match_available){if((i=e._tr_tally(t,0,t.window[t.strstart-1]))&&tt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Q}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=e._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<E-1?t.strstart:E-1,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function _t(t,a){for(var s,i,r,h,l=t.window;;){if(t.lookahead<=H){if(rt(t),t.lookahead<=H&&a===n)return Q;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=E&&t.strstart>0&&(i=l[r=t.strstart-1])===l[++r]&&i===l[++r]&&i===l[++r]){h=t.strstart+H;do{}while(i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&i===l[++r]&&r<h);t.match_length=H-(h-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=E?(s=e._tr_tally(t,1,t.match_length-E),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(s=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),s&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function dt(t,a){for(var s;;){if(0===t.lookahead&&(rt(t),0===t.lookahead)){if(a===n)return Q;break}if(t.match_length=0,s=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,s&&(tt(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,a===_?(tt(t,!0),0===t.strm.avail_out?U:V):t.last_lit&&(tt(t,!1),0===t.strm.avail_out)?Q:T}function ot(t,a,e,s,i){this.good_length=t,this.max_lazy=a,this.nice_length=e,this.max_chain=s,this.func=i}function ut(a){a.window_size=2*a.w_size,Z(a.head),a.max_lazy_match=t[a.level].max_lazy,a.good_match=t[a.level].good_length,a.nice_match=t[a.level].nice_length,a.max_chain_length=t[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=E-1,a.match_available=0,a.ins_h=0}function gt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*j),this.dyn_dtree=new a.Buf16(2*(2*C+1)),this.bl_tree=new a.Buf16(2*(2*R+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(D+1),this.heap=new a.Buf16(2*A+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(t){var a;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=b,(a=t.state).pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap?F:O,t.adler=2===a.wrap?0:1,a.last_flush=n,e._tr_init(a),o):X(t,g)}function ct(t){var a=ft(t);return a===o&&ut(t.state),a}function pt(t,a){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=a,o):g}function mt(t,e,s,i,r,n){if(!t)return g;var h=1;if(e===p&&(e=6),i<0?(h=0,i=-i):i>15&&(h=2,i-=16),r<1||r>y||s!==x||i<8||i>15||e<0||e>9||n<0||n>k)return X(t,g);8===i&&(i=9);var l=new gt;return t.state=l,l.strm=t,l.wrap=h,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+E-1)/E),l.window=new a.Buf8(2*l.w_size),l.head=new a.Buf16(l.hash_size),l.prev=new a.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new a.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=n,l.method=s,ct(t)}function wt(t,a){return mt(t,a,x,B,S,z)}function vt(a,s){var r,f,p,m;if(!a||!a.state||s>d||s<0)return a?X(a,g):g;if(f=a.state,!a.output||!a.input&&0!==a.avail_in||f.status===P&&s!==_)return X(a,0===a.avail_out?c:g);if(f.strm=a,r=f.last_flush,f.last_flush=s,f.status===F)if(2===f.wrap)a.adler=0,at(f,31),at(f,139),at(f,8),f.gzhead?(at(f,(f.gzhead.text?1:0)+(f.gzhead.hcrc?2:0)+(f.gzhead.extra?4:0)+(f.gzhead.name?8:0)+(f.gzhead.comment?16:0)),at(f,255&f.gzhead.time),at(f,f.gzhead.time>>8&255),at(f,f.gzhead.time>>16&255),at(f,f.gzhead.time>>24&255),at(f,9===f.level?2:f.strategy>=w||f.level<2?4:0),at(f,255&f.gzhead.os),f.gzhead.extra&&f.gzhead.extra.length&&(at(f,255&f.gzhead.extra.length),at(f,f.gzhead.extra.length>>8&255)),f.gzhead.hcrc&&(a.adler=i(a.adler,f.pending_buf,f.pending,0)),f.gzindex=0,f.status=G):(at(f,0),at(f,0),at(f,0),at(f,0),at(f,0),at(f,9===f.level?2:f.strategy>=w||f.level<2?4:0),at(f,W),f.status=O);else{var k=x+(f.w_bits-8<<4)<<8;k|=(f.strategy>=w||f.level<2?0:f.level<6?1:6===f.level?2:3)<<6,0!==f.strstart&&(k|=N),k+=31-k%31,f.status=O,et(f,k),0!==f.strstart&&(et(f,a.adler>>>16),et(f,65535&a.adler)),a.adler=1}if(f.status===G)if(f.gzhead.extra){for(p=f.pending;f.gzindex<(65535&f.gzhead.extra.length)&&(f.pending!==f.pending_buf_size||(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending!==f.pending_buf_size));)at(f,255&f.gzhead.extra[f.gzindex]),f.gzindex++;f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),f.gzindex===f.gzhead.extra.length&&(f.gzindex=0,f.status=J)}else f.status=J;if(f.status===J)if(f.gzhead.name){p=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending===f.pending_buf_size)){m=1;break}m=f.gzindex<f.gzhead.name.length?255&f.gzhead.name.charCodeAt(f.gzindex++):0,at(f,m)}while(0!==m);f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),0===m&&(f.gzindex=0,f.status=L)}else f.status=L;if(f.status===L)if(f.gzhead.comment){p=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),$(a),p=f.pending,f.pending===f.pending_buf_size)){m=1;break}m=f.gzindex<f.gzhead.comment.length?255&f.gzhead.comment.charCodeAt(f.gzindex++):0,at(f,m)}while(0!==m);f.gzhead.hcrc&&f.pending>p&&(a.adler=i(a.adler,f.pending_buf,f.pending-p,p)),0===m&&(f.status=M)}else f.status=M;if(f.status===M&&(f.gzhead.hcrc?(f.pending+2>f.pending_buf_size&&$(a),f.pending+2<=f.pending_buf_size&&(at(f,255&a.adler),at(f,a.adler>>8&255),a.adler=0,f.status=O)):f.status=O),0!==f.pending){if($(a),0===a.avail_out)return f.last_flush=-1,o}else if(0===a.avail_in&&Y(s)<=Y(r)&&s!==_)return X(a,c);if(f.status===P&&0!==a.avail_in)return X(a,c);if(0!==a.avail_in||0!==f.lookahead||s!==n&&f.status!==P){var z=f.strategy===w?dt(f,s):f.strategy===v?_t(f,s):t[f.level].func(f,s);if(z!==U&&z!==V||(f.status=P),z===Q||z===U)return 0===a.avail_out&&(f.last_flush=-1),o;if(z===T&&(s===h?e._tr_align(f):s!==d&&(e._tr_stored_block(f,0,0,!1),s===l&&(Z(f.head),0===f.lookahead&&(f.strstart=0,f.block_start=0,f.insert=0))),$(a),0===a.avail_out))return f.last_flush=-1,o}return s!==_?o:f.wrap<=0?u:(2===f.wrap?(at(f,255&a.adler),at(f,a.adler>>8&255),at(f,a.adler>>16&255),at(f,a.adler>>24&255),at(f,255&a.total_in),at(f,a.total_in>>8&255),at(f,a.total_in>>16&255),at(f,a.total_in>>24&255)):(et(f,a.adler>>>16),et(f,65535&a.adler)),$(a),f.wrap>0&&(f.wrap=-f.wrap),0!==f.pending?o:u)}function kt(t){var a;return t&&t.state?(a=t.state.status)!==F&&a!==G&&a!==J&&a!==L&&a!==M&&a!==O&&a!==P?X(t,g):(t.state=null,a===O?X(t,f):o):g}function zt(t,e){var i,r,n,h,l,_,d,u,f=e.length;if(!t||!t.state)return g;if(2===(h=(i=t.state).wrap)||1===h&&i.status!==F||i.lookahead)return g;for(1===h&&(t.adler=s(t.adler,e,f,0)),i.wrap=0,f>=i.w_size&&(0===h&&(Z(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new a.Buf8(i.w_size),a.arraySet(u,e,f-i.w_size,i.w_size,0),e=u,f=i.w_size),l=t.avail_in,_=t.next_in,d=t.input,t.avail_in=f,t.next_in=0,t.input=e,rt(i);i.lookahead>=E;){r=i.strstart,n=i.lookahead-(E-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+E-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++}while(--n);i.strstart=r,i.lookahead=E-1,rt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=E-1,i.match_available=0,t.next_in=_,t.input=d,t.avail_in=l,i.wrap=h,o}t=[new ot(0,0,0,0,nt),new ot(4,4,8,4,ht),new ot(4,5,16,8,ht),new ot(4,6,32,32,ht),new ot(4,4,16,16,lt),new ot(8,16,32,32,lt),new ot(8,16,128,128,lt),new ot(8,32,128,256,lt),new ot(32,128,258,1024,lt),new ot(32,258,258,4096,lt)],exports.deflateInit=wt,exports.deflateInit2=mt,exports.deflateReset=ct,exports.deflateResetKeep=ft,exports.deflateSetHeader=pt,exports.deflate=vt,exports.deflateEnd=kt,exports.deflateSetDictionary=zt,exports.deflateInfo="pako deflate (from Nodeca project)";
},{"../utils/common":"kQw7","./trees":"gg6r","./adler32":"M+OI","./crc32":"o0gx","./messages":"fVHU"}],"wVcw":[function(require,module,exports) {
"use strict";var i=30,e=12;module.exports=function(o,a){var t,d,n,l,s,f,r,b,c,u,v,m,w,h,k,_,x,g,p,z,j,q,y,A,B;t=o.state,d=o.next_in,A=o.input,n=d+(o.avail_in-5),l=o.next_out,B=o.output,s=l-(a-o.avail_out),f=l+(o.avail_out-257),r=t.dmax,b=t.wsize,c=t.whave,u=t.wnext,v=t.window,m=t.hold,w=t.bits,h=t.lencode,k=t.distcode,_=(1<<t.lenbits)-1,x=(1<<t.distbits)-1;i:do{w<15&&(m+=A[d++]<<w,w+=8,m+=A[d++]<<w,w+=8),g=h[m&_];e:for(;;){if(m>>>=p=g>>>24,w-=p,0===(p=g>>>16&255))B[l++]=65535&g;else{if(!(16&p)){if(0==(64&p)){g=h[(65535&g)+(m&(1<<p)-1)];continue e}if(32&p){t.mode=e;break i}o.msg="invalid literal/length code",t.mode=i;break i}z=65535&g,(p&=15)&&(w<p&&(m+=A[d++]<<w,w+=8),z+=m&(1<<p)-1,m>>>=p,w-=p),w<15&&(m+=A[d++]<<w,w+=8,m+=A[d++]<<w,w+=8),g=k[m&x];o:for(;;){if(m>>>=p=g>>>24,w-=p,!(16&(p=g>>>16&255))){if(0==(64&p)){g=k[(65535&g)+(m&(1<<p)-1)];continue o}o.msg="invalid distance code",t.mode=i;break i}if(j=65535&g,w<(p&=15)&&(m+=A[d++]<<w,(w+=8)<p&&(m+=A[d++]<<w,w+=8)),(j+=m&(1<<p)-1)>r){o.msg="invalid distance too far back",t.mode=i;break i}if(m>>>=p,w-=p,j>(p=l-s)){if((p=j-p)>c&&t.sane){o.msg="invalid distance too far back",t.mode=i;break i}if(q=0,y=v,0===u){if(q+=b-p,p<z){z-=p;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}}else if(u<p){if(q+=b+u-p,(p-=u)<z){z-=p;do{B[l++]=v[q++]}while(--p);if(q=0,u<z){z-=p=u;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}}}else if(q+=u-p,p<z){z-=p;do{B[l++]=v[q++]}while(--p);q=l-j,y=B}for(;z>2;)B[l++]=y[q++],B[l++]=y[q++],B[l++]=y[q++],z-=3;z&&(B[l++]=y[q++],z>1&&(B[l++]=y[q++]))}else{q=l-j;do{B[l++]=B[q++],B[l++]=B[q++],B[l++]=B[q++],z-=3}while(z>2);z&&(B[l++]=B[q++],z>1&&(B[l++]=B[q++]))}break}}break}}while(d<n&&l<f);d-=z=w>>3,m&=(1<<(w-=z<<3))-1,o.next_in=d,o.next_out=l,o.avail_in=d<n?n-d+5:5-(d-n),o.avail_out=l<f?f-l+257:257-(l-f),t.hold=m,t.bits=w};
},{}],"ocxV":[function(require,module,exports) {
"use strict";var r=require("../utils/common"),f=15,i=852,o=592,e=0,u=1,t=2,n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(a,c,m,w,d,v,B,h){var k,p,q,x,g,j,y,z,A,C=h.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new r.Buf16(f+1),Q=new r.Buf16(f+1),R=null,S=0;for(D=0;D<=f;D++)P[D]=0;for(E=0;E<w;E++)P[c[m+E]]++;for(H=C,G=f;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return d[v++]=20971520,d[v++]=20971520,h.bits=1,0;for(F=1;F<G&&0===P[F];F++);for(H<F&&(H=F),K=1,D=1;D<=f;D++)if(K<<=1,(K-=P[D])<0)return-1;if(K>0&&(a===e||1!==G))return-1;for(Q[1]=0,D=1;D<f;D++)Q[D+1]=Q[D]+P[D];for(E=0;E<w;E++)0!==c[m+E]&&(B[Q[c[m+E]]++]=E);if(a===e?(N=R=B,j=19):a===u?(N=n,O-=257,R=l,S-=257,j=256):(N=s,R=b,j=-1),M=0,E=0,D=F,g=v,I=H,J=0,q=-1,x=(L=1<<H)-1,a===u&&L>i||a===t&&L>o)return 1;for(;;){y=D-J,B[E]<j?(z=0,A=B[E]):B[E]>j?(z=R[S+B[E]],A=N[O+B[E]]):(z=96,A=0),k=1<<D-J,F=p=1<<I;do{d[g+(M>>J)+(p-=k)]=y<<24|z<<16|A|0}while(0!==p);for(k=1<<D-1;M&k;)k>>=1;if(0!==k?(M&=k-1,M+=k):M=0,E++,0==--P[D]){if(D===G)break;D=c[m+B[E]]}if(D>H&&(M&x)!==q){for(0===J&&(J=H),g+=F,K=1<<(I=D-J);I+J<G&&!((K-=P[I+J])<=0);)I++,K<<=1;if(L+=1<<I,a===u&&L>i||a===t&&L>o)return 1;d[q=M&x]=H<<24|I<<16|g-v|0}}return 0!==M&&(d[g+M]=D-J<<24|64<<16|0),h.bits=H,0};
},{"../utils/common":"kQw7"}],"Fam0":[function(require,module,exports) {
"use strict";var e=require("../utils/common"),a=require("./adler32"),t=require("./crc32"),i=require("./inffast"),s=require("./inftrees"),n=0,r=1,o=2,d=4,l=5,f=6,c=0,h=1,k=2,b=-2,m=-3,w=-4,u=-5,g=8,v=1,x=2,p=3,_=4,y=5,z=6,B=7,S=8,q=9,C=10,I=11,R=12,j=13,A=14,D=15,E=16,G=17,H=18,K=19,N=20,F=21,J=22,L=23,M=24,O=25,P=26,Q=27,T=28,U=29,V=30,W=31,X=32,Y=852,Z=592,$=15,ee=$;function ae(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function te(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ie(a){var t;return a&&a.state?(t=a.state,a.total_in=a.total_out=t.total=0,a.msg="",t.wrap&&(a.adler=1&t.wrap),t.mode=v,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new e.Buf32(Y),t.distcode=t.distdyn=new e.Buf32(Z),t.sane=1,t.back=-1,c):b}function se(e){var a;return e&&e.state?((a=e.state).wsize=0,a.whave=0,a.wnext=0,ie(e)):b}function ne(e,a){var t,i;return e&&e.state?(i=e.state,a<0?(t=0,a=-a):(t=1+(a>>4),a<48&&(a&=15)),a&&(a<8||a>15)?b:(null!==i.window&&i.wbits!==a&&(i.window=null),i.wrap=t,i.wbits=a,se(e))):b}function re(e,a){var t,i;return e?(i=new te,e.state=i,i.window=null,(t=ne(e,a))!==c&&(e.state=null),t):b}function oe(e){return re(e,ee)}var de,le,fe=!0;function ce(a){if(fe){var t;for(de=new e.Buf32(512),le=new e.Buf32(32),t=0;t<144;)a.lens[t++]=8;for(;t<256;)a.lens[t++]=9;for(;t<280;)a.lens[t++]=7;for(;t<288;)a.lens[t++]=8;for(s(r,a.lens,0,288,de,0,a.work,{bits:9}),t=0;t<32;)a.lens[t++]=5;s(o,a.lens,0,32,le,0,a.work,{bits:5}),fe=!1}a.lencode=de,a.lenbits=9,a.distcode=le,a.distbits=5}function he(a,t,i,s){var n,r=a.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new e.Buf8(r.wsize)),s>=r.wsize?(e.arraySet(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((n=r.wsize-r.wnext)>s&&(n=s),e.arraySet(r.window,t,i-s,n,r.wnext),(s-=n)?(e.arraySet(r.window,t,i-s,s,0),r.wnext=s,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}function ke(Y,Z){var $,ee,te,ie,se,ne,re,oe,de,le,fe,ke,be,me,we,ue,ge,ve,xe,pe,_e,ye,ze,Be,Se=0,qe=new e.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Y||!Y.state||!Y.output||!Y.input&&0!==Y.avail_in)return b;($=Y.state).mode===R&&($.mode=j),se=Y.next_out,te=Y.output,re=Y.avail_out,ie=Y.next_in,ee=Y.input,ne=Y.avail_in,oe=$.hold,de=$.bits,le=ne,fe=re,ye=c;e:for(;;)switch($.mode){case v:if(0===$.wrap){$.mode=j;break}for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(2&$.wrap&&35615===oe){$.check=0,qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0),oe=0,de=0,$.mode=x;break}if($.flags=0,$.head&&($.head.done=!1),!(1&$.wrap)||(((255&oe)<<8)+(oe>>8))%31){Y.msg="incorrect header check",$.mode=V;break}if((15&oe)!==g){Y.msg="unknown compression method",$.mode=V;break}if(de-=4,_e=8+(15&(oe>>>=4)),0===$.wbits)$.wbits=_e;else if(_e>$.wbits){Y.msg="invalid window size",$.mode=V;break}$.dmax=1<<_e,Y.adler=$.check=1,$.mode=512&oe?C:R,oe=0,de=0;break;case x:for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if($.flags=oe,(255&$.flags)!==g){Y.msg="unknown compression method",$.mode=V;break}if(57344&$.flags){Y.msg="unknown header flags set",$.mode=V;break}$.head&&($.head.text=oe>>8&1),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0,$.mode=p;case p:for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.head&&($.head.time=oe),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,qe[2]=oe>>>16&255,qe[3]=oe>>>24&255,$.check=t($.check,qe,4,0)),oe=0,de=0,$.mode=_;case _:for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.head&&($.head.xflags=255&oe,$.head.os=oe>>8),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0,$.mode=y;case y:if(1024&$.flags){for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.length=oe,$.head&&($.head.extra_len=oe),512&$.flags&&(qe[0]=255&oe,qe[1]=oe>>>8&255,$.check=t($.check,qe,2,0)),oe=0,de=0}else $.head&&($.head.extra=null);$.mode=z;case z:if(1024&$.flags&&((ke=$.length)>ne&&(ke=ne),ke&&($.head&&(_e=$.head.extra_len-$.length,$.head.extra||($.head.extra=new Array($.head.extra_len)),e.arraySet($.head.extra,ee,ie,ke,_e)),512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,$.length-=ke),$.length))break e;$.length=0,$.mode=B;case B:if(2048&$.flags){if(0===ne)break e;ke=0;do{_e=ee[ie+ke++],$.head&&_e&&$.length<65536&&($.head.name+=String.fromCharCode(_e))}while(_e&&ke<ne);if(512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,_e)break e}else $.head&&($.head.name=null);$.length=0,$.mode=S;case S:if(4096&$.flags){if(0===ne)break e;ke=0;do{_e=ee[ie+ke++],$.head&&_e&&$.length<65536&&($.head.comment+=String.fromCharCode(_e))}while(_e&&ke<ne);if(512&$.flags&&($.check=t($.check,ee,ke,ie)),ne-=ke,ie+=ke,_e)break e}else $.head&&($.head.comment=null);$.mode=q;case q:if(512&$.flags){for(;de<16;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe!==(65535&$.check)){Y.msg="header crc mismatch",$.mode=V;break}oe=0,de=0}$.head&&($.head.hcrc=$.flags>>9&1,$.head.done=!0),Y.adler=$.check=0,$.mode=R;break;case C:for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}Y.adler=$.check=ae(oe),oe=0,de=0,$.mode=I;case I:if(0===$.havedict)return Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,k;Y.adler=$.check=1,$.mode=R;case R:if(Z===l||Z===f)break e;case j:if($.last){oe>>>=7&de,de-=7&de,$.mode=Q;break}for(;de<3;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}switch($.last=1&oe,de-=1,3&(oe>>>=1)){case 0:$.mode=A;break;case 1:if(ce($),$.mode=N,Z===f){oe>>>=2,de-=2;break e}break;case 2:$.mode=G;break;case 3:Y.msg="invalid block type",$.mode=V}oe>>>=2,de-=2;break;case A:for(oe>>>=7&de,de-=7&de;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if((65535&oe)!=(oe>>>16^65535)){Y.msg="invalid stored block lengths",$.mode=V;break}if($.length=65535&oe,oe=0,de=0,$.mode=D,Z===f)break e;case D:$.mode=E;case E:if(ke=$.length){if(ke>ne&&(ke=ne),ke>re&&(ke=re),0===ke)break e;e.arraySet(te,ee,ie,ke,se),ne-=ke,ie+=ke,re-=ke,se+=ke,$.length-=ke;break}$.mode=R;break;case G:for(;de<14;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if($.nlen=257+(31&oe),oe>>>=5,de-=5,$.ndist=1+(31&oe),oe>>>=5,de-=5,$.ncode=4+(15&oe),oe>>>=4,de-=4,$.nlen>286||$.ndist>30){Y.msg="too many length or distance symbols",$.mode=V;break}$.have=0,$.mode=H;case H:for(;$.have<$.ncode;){for(;de<3;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.lens[Ce[$.have++]]=7&oe,oe>>>=3,de-=3}for(;$.have<19;)$.lens[Ce[$.have++]]=0;if($.lencode=$.lendyn,$.lenbits=7,ze={bits:$.lenbits},ye=s(n,$.lens,0,19,$.lencode,0,$.work,ze),$.lenbits=ze.bits,ye){Y.msg="invalid code lengths set",$.mode=V;break}$.have=0,$.mode=K;case K:for(;$.have<$.nlen+$.ndist;){for(;ue=(Se=$.lencode[oe&(1<<$.lenbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(ge<16)oe>>>=we,de-=we,$.lens[$.have++]=ge;else{if(16===ge){for(Be=we+2;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe>>>=we,de-=we,0===$.have){Y.msg="invalid bit length repeat",$.mode=V;break}_e=$.lens[$.have-1],ke=3+(3&oe),oe>>>=2,de-=2}else if(17===ge){for(Be=we+3;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}de-=we,_e=0,ke=3+(7&(oe>>>=we)),oe>>>=3,de-=3}else{for(Be=we+7;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}de-=we,_e=0,ke=11+(127&(oe>>>=we)),oe>>>=7,de-=7}if($.have+ke>$.nlen+$.ndist){Y.msg="invalid bit length repeat",$.mode=V;break}for(;ke--;)$.lens[$.have++]=_e}}if($.mode===V)break;if(0===$.lens[256]){Y.msg="invalid code -- missing end-of-block",$.mode=V;break}if($.lenbits=9,ze={bits:$.lenbits},ye=s(r,$.lens,0,$.nlen,$.lencode,0,$.work,ze),$.lenbits=ze.bits,ye){Y.msg="invalid literal/lengths set",$.mode=V;break}if($.distbits=6,$.distcode=$.distdyn,ze={bits:$.distbits},ye=s(o,$.lens,$.nlen,$.ndist,$.distcode,0,$.work,ze),$.distbits=ze.bits,ye){Y.msg="invalid distances set",$.mode=V;break}if($.mode=N,Z===f)break e;case N:$.mode=F;case F:if(ne>=6&&re>=258){Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,i(Y,fe),se=Y.next_out,te=Y.output,re=Y.avail_out,ie=Y.next_in,ee=Y.input,ne=Y.avail_in,oe=$.hold,de=$.bits,$.mode===R&&($.back=-1);break}for($.back=0;ue=(Se=$.lencode[oe&(1<<$.lenbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(ue&&0==(240&ue)){for(ve=we,xe=ue,pe=ge;ue=(Se=$.lencode[pe+((oe&(1<<ve+xe)-1)>>ve)])>>>16&255,ge=65535&Se,!(ve+(we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}oe>>>=ve,de-=ve,$.back+=ve}if(oe>>>=we,de-=we,$.back+=we,$.length=ge,0===ue){$.mode=P;break}if(32&ue){$.back=-1,$.mode=R;break}if(64&ue){Y.msg="invalid literal/length code",$.mode=V;break}$.extra=15&ue,$.mode=J;case J:if($.extra){for(Be=$.extra;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.length+=oe&(1<<$.extra)-1,oe>>>=$.extra,de-=$.extra,$.back+=$.extra}$.was=$.length,$.mode=L;case L:for(;ue=(Se=$.distcode[oe&(1<<$.distbits)-1])>>>16&255,ge=65535&Se,!((we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(0==(240&ue)){for(ve=we,xe=ue,pe=ge;ue=(Se=$.distcode[pe+((oe&(1<<ve+xe)-1)>>ve)])>>>16&255,ge=65535&Se,!(ve+(we=Se>>>24)<=de);){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}oe>>>=ve,de-=ve,$.back+=ve}if(oe>>>=we,de-=we,$.back+=we,64&ue){Y.msg="invalid distance code",$.mode=V;break}$.offset=ge,$.extra=15&ue,$.mode=M;case M:if($.extra){for(Be=$.extra;de<Be;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}$.offset+=oe&(1<<$.extra)-1,oe>>>=$.extra,de-=$.extra,$.back+=$.extra}if($.offset>$.dmax){Y.msg="invalid distance too far back",$.mode=V;break}$.mode=O;case O:if(0===re)break e;if(ke=fe-re,$.offset>ke){if((ke=$.offset-ke)>$.whave&&$.sane){Y.msg="invalid distance too far back",$.mode=V;break}ke>$.wnext?(ke-=$.wnext,be=$.wsize-ke):be=$.wnext-ke,ke>$.length&&(ke=$.length),me=$.window}else me=te,be=se-$.offset,ke=$.length;ke>re&&(ke=re),re-=ke,$.length-=ke;do{te[se++]=me[be++]}while(--ke);0===$.length&&($.mode=F);break;case P:if(0===re)break e;te[se++]=$.length,re--,$.mode=F;break;case Q:if($.wrap){for(;de<32;){if(0===ne)break e;ne--,oe|=ee[ie++]<<de,de+=8}if(fe-=re,Y.total_out+=fe,$.total+=fe,fe&&(Y.adler=$.check=$.flags?t($.check,te,fe,se-fe):a($.check,te,fe,se-fe)),fe=re,($.flags?oe:ae(oe))!==$.check){Y.msg="incorrect data check",$.mode=V;break}oe=0,de=0}$.mode=T;case T:if($.wrap&&$.flags){for(;de<32;){if(0===ne)break e;ne--,oe+=ee[ie++]<<de,de+=8}if(oe!==(4294967295&$.total)){Y.msg="incorrect length check",$.mode=V;break}oe=0,de=0}$.mode=U;case U:ye=h;break e;case V:ye=m;break e;case W:return w;case X:default:return b}return Y.next_out=se,Y.avail_out=re,Y.next_in=ie,Y.avail_in=ne,$.hold=oe,$.bits=de,($.wsize||fe!==Y.avail_out&&$.mode<V&&($.mode<Q||Z!==d))&&he(Y,Y.output,Y.next_out,fe-Y.avail_out)?($.mode=W,w):(le-=Y.avail_in,fe-=Y.avail_out,Y.total_in+=le,Y.total_out+=fe,$.total+=fe,$.wrap&&fe&&(Y.adler=$.check=$.flags?t($.check,te,fe,Y.next_out-fe):a($.check,te,fe,Y.next_out-fe)),Y.data_type=$.bits+($.last?64:0)+($.mode===R?128:0)+($.mode===N||$.mode===D?256:0),(0===le&&0===fe||Z===d)&&ye===c&&(ye=u),ye)}function be(e){if(!e||!e.state)return b;var a=e.state;return a.window&&(a.window=null),e.state=null,c}function me(e,a){var t;return e&&e.state?0==(2&(t=e.state).wrap)?b:(t.head=a,a.done=!1,c):b}function we(e,t){var i,s=t.length;return e&&e.state?0!==(i=e.state).wrap&&i.mode!==I?b:i.mode===I&&a(1,t,s,0)!==i.check?m:he(e,t,s,s)?(i.mode=W,w):(i.havedict=1,c):b}exports.inflateReset=se,exports.inflateReset2=ne,exports.inflateResetKeep=ie,exports.inflateInit=oe,exports.inflateInit2=re,exports.inflate=ke,exports.inflateEnd=be,exports.inflateGetHeader=me,exports.inflateSetDictionary=we,exports.inflateInfo="pako inflate (from Nodeca project)";
},{"../utils/common":"kQw7","./adler32":"M+OI","./crc32":"o0gx","./inffast":"wVcw","./inftrees":"ocxV"}],"hoPV":[function(require,module,exports) {
"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};
},{}],"BFKd":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var process = require("process");
var t=require("buffer").Buffer,e=require("process"),s=require("assert"),r=require("pako/lib/zlib/zstream"),i=require("pako/lib/zlib/deflate.js"),o=require("pako/lib/zlib/inflate.js"),h=require("pako/lib/zlib/constants");for(var n in h)exports[n]=h[n];exports.NONE=0,exports.DEFLATE=1,exports.INFLATE=2,exports.GZIP=3,exports.GUNZIP=4,exports.DEFLATERAW=5,exports.INFLATERAW=6,exports.UNZIP=7;var a=31,p=139;function _(t){if("number"!=typeof t||t<exports.DEFLATE||t>exports.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}_.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,s(this.init_done,"close before init"),s(this.mode<=exports.UNZIP),this.mode===exports.DEFLATE||this.mode===exports.GZIP||this.mode===exports.DEFLATERAW?i.deflateEnd(this.strm):this.mode!==exports.INFLATE&&this.mode!==exports.GUNZIP&&this.mode!==exports.INFLATERAW&&this.mode!==exports.UNZIP||o.inflateEnd(this.strm),this.mode=exports.NONE,this.dictionary=null)},_.prototype.write=function(t,e,s,r,i,o,h){return this._write(!0,t,e,s,r,i,o,h)},_.prototype.writeSync=function(t,e,s,r,i,o,h){return this._write(!1,t,e,s,r,i,o,h)},_.prototype._write=function(r,i,o,h,n,a,p,_){if(s.equal(arguments.length,8),s(this.init_done,"write before init"),s(this.mode!==exports.NONE,"already finalized"),s.equal(!1,this.write_in_progress,"write already in progress"),s.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,s.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==exports.Z_NO_FLUSH&&i!==exports.Z_PARTIAL_FLUSH&&i!==exports.Z_SYNC_FLUSH&&i!==exports.Z_FULL_FLUSH&&i!==exports.Z_FINISH&&i!==exports.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=t.alloc(0),n=0,h=0),this.strm.avail_in=n,this.strm.input=o,this.strm.next_in=h,this.strm.avail_out=_,this.strm.output=a,this.strm.next_out=p,this.flush=i,!r)return this._process(),this._checkError()?this._afterSync():void 0;var l=this;return e.nextTick(function(){l._process(),l._after()}),this},_.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},_.prototype._process=function(){var t=null;switch(this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=i.deflate(this.strm,this.flush);break;case exports.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(this.strm.input[t]!==a){this.mode=exports.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;this.strm.input[t]===p?(this.gzip_id_bytes_read=2,this.mode=exports.GUNZIP):this.mode=exports.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:for(this.err=o.inflate(this.strm,this.flush),this.err===exports.Z_NEED_DICT&&this.dictionary&&(this.err=o.inflateSetDictionary(this.strm,this.dictionary),this.err===exports.Z_OK?this.err=o.inflate(this.strm,this.flush):this.err===exports.Z_DATA_ERROR&&(this.err=exports.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===exports.GUNZIP&&this.err===exports.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=o.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},_.prototype._checkError=function(){switch(this.err){case exports.Z_OK:case exports.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===exports.Z_FINISH)return this._error("unexpected end of file"),!1;break;case exports.Z_STREAM_END:break;case exports.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},_.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},_.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},_.prototype.init=function(t,e,r,i,o){s(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),s(t>=8&&t<=15,"invalid windowBits"),s(e>=-1&&e<=9,"invalid compression level"),s(r>=1&&r<=9,"invalid memlevel"),s(i===exports.Z_FILTERED||i===exports.Z_HUFFMAN_ONLY||i===exports.Z_RLE||i===exports.Z_FIXED||i===exports.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(e,t,r,i,o),this._setDictionary()},_.prototype.params=function(){throw new Error("deflateParams Not supported")},_.prototype.reset=function(){this._reset(),this._setDictionary()},_.prototype._init=function(t,e,s,h,n){switch(this.level=t,this.windowBits=e,this.memLevel=s,this.strategy=h,this.flush=exports.Z_NO_FLUSH,this.err=exports.Z_OK,this.mode!==exports.GZIP&&this.mode!==exports.GUNZIP||(this.windowBits+=16),this.mode===exports.UNZIP&&(this.windowBits+=32),this.mode!==exports.DEFLATERAW&&this.mode!==exports.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new r,this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=i.deflateInit2(this.strm,this.level,exports.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:case exports.UNZIP:this.err=o.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==exports.Z_OK&&this._error("Init error"),this.dictionary=n,this.write_in_progress=!1,this.init_done=!0},_.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=exports.Z_OK,this.mode){case exports.DEFLATE:case exports.DEFLATERAW:this.err=i.deflateSetDictionary(this.strm,this.dictionary)}this.err!==exports.Z_OK&&this._error("Failed to set dictionary")}},_.prototype._reset=function(){switch(this.err=exports.Z_OK,this.mode){case exports.DEFLATE:case exports.DEFLATERAW:case exports.GZIP:this.err=i.deflateReset(this.strm);break;case exports.INFLATE:case exports.INFLATERAW:case exports.GUNZIP:this.err=o.inflateReset(this.strm)}this.err!==exports.Z_OK&&this._error("Failed to reset stream")},exports.Zlib=_;
},{"assert":"p+dr","pako/lib/zlib/zstream":"PzRC","pako/lib/zlib/deflate.js":"9RMK","pako/lib/zlib/inflate.js":"Fam0","pako/lib/zlib/constants":"hoPV","buffer":"VjIL","process":"rH1J"}],"cZ91":[function(require,module,exports) {

var process = require("process");
var e=require("process"),t=require("buffer").Buffer,n=require("stream").Transform,r=require("./binding"),i=require("util"),o=require("assert").ok,s=require("buffer").kMaxLength,f="Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes";r.Z_MIN_WINDOWBITS=8,r.Z_MAX_WINDOWBITS=15,r.Z_DEFAULT_WINDOWBITS=15,r.Z_MIN_CHUNK=64,r.Z_MAX_CHUNK=1/0,r.Z_DEFAULT_CHUNK=16384,r.Z_MIN_MEMLEVEL=1,r.Z_MAX_MEMLEVEL=9,r.Z_DEFAULT_MEMLEVEL=8,r.Z_MIN_LEVEL=-1,r.Z_MAX_LEVEL=9,r.Z_DEFAULT_LEVEL=r.Z_DEFAULT_COMPRESSION;for(var l=Object.keys(r),_=0;_<l.length;_++){var u=l[_];u.match(/^Z/)&&Object.defineProperty(exports,u,{enumerable:!0,value:r[u],writable:!1})}for(var a={Z_OK:r.Z_OK,Z_STREAM_END:r.Z_STREAM_END,Z_NEED_DICT:r.Z_NEED_DICT,Z_ERRNO:r.Z_ERRNO,Z_STREAM_ERROR:r.Z_STREAM_ERROR,Z_DATA_ERROR:r.Z_DATA_ERROR,Z_MEM_ERROR:r.Z_MEM_ERROR,Z_BUF_ERROR:r.Z_BUF_ERROR,Z_VERSION_ERROR:r.Z_VERSION_ERROR},h=Object.keys(a),c=0;c<h.length;c++){var p=h[c];a[a[p]]=p}function E(e,n,r){var i=[],o=0;function l(){for(var t;null!==(t=e.read());)i.push(t),o+=t.length;e.once("readable",l)}function _(){var n,l=null;o>=s?l=new RangeError(f):n=t.concat(i,o),i=[],e.close(),r(l,n)}e.on("error",function(t){e.removeListener("end",_),e.removeListener("readable",l),r(t)}),e.on("end",_),e.end(n),l()}function d(e,n){if("string"==typeof n&&(n=t.from(n)),!t.isBuffer(n))throw new TypeError("Not a string or buffer");var r=e._finishFlushFlag;return e._processChunk(n,r)}function w(e){if(!(this instanceof w))return new w(e);S.call(this,e,r.DEFLATE)}function Z(e){if(!(this instanceof Z))return new Z(e);S.call(this,e,r.INFLATE)}function L(e){if(!(this instanceof L))return new L(e);S.call(this,e,r.GZIP)}function R(e){if(!(this instanceof R))return new R(e);S.call(this,e,r.GUNZIP)}function v(e){if(!(this instanceof v))return new v(e);S.call(this,e,r.DEFLATERAW)}function x(e){if(!(this instanceof x))return new x(e);S.call(this,e,r.INFLATERAW)}function I(e){if(!(this instanceof I))return new I(e);S.call(this,e,r.UNZIP)}function g(e){return e===r.Z_NO_FLUSH||e===r.Z_PARTIAL_FLUSH||e===r.Z_SYNC_FLUSH||e===r.Z_FULL_FLUSH||e===r.Z_FINISH||e===r.Z_BLOCK}function S(e,i){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||exports.Z_DEFAULT_CHUNK,n.call(this,e),e.flush&&!g(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!g(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||r.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:r.Z_FINISH,e.chunkSize&&(e.chunkSize<exports.Z_MIN_CHUNK||e.chunkSize>exports.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<exports.Z_MIN_WINDOWBITS||e.windowBits>exports.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<exports.Z_MIN_LEVEL||e.level>exports.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<exports.Z_MIN_MEMLEVEL||e.memLevel>exports.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=exports.Z_FILTERED&&e.strategy!=exports.Z_HUFFMAN_ONLY&&e.strategy!=exports.Z_RLE&&e.strategy!=exports.Z_FIXED&&e.strategy!=exports.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!t.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new r.Zlib(i);var s=this;this._hadError=!1,this._handle.onerror=function(e,t){y(s),s._hadError=!0;var n=new Error(e);n.errno=t,n.code=exports.codes[t],s.emit("error",n)};var f=exports.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(f=e.level);var l=exports.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||exports.Z_DEFAULT_WINDOWBITS,f,e.memLevel||exports.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=t.allocUnsafe(this._chunkSize),this._offset=0,this._level=f,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function y(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function F(e){e.emit("close")}Object.defineProperty(exports,"codes",{enumerable:!0,value:Object.freeze(a),writable:!1}),exports.Deflate=w,exports.Inflate=Z,exports.Gzip=L,exports.Gunzip=R,exports.DeflateRaw=v,exports.InflateRaw=x,exports.Unzip=I,exports.createDeflate=function(e){return new w(e)},exports.createInflate=function(e){return new Z(e)},exports.createDeflateRaw=function(e){return new v(e)},exports.createInflateRaw=function(e){return new x(e)},exports.createGzip=function(e){return new L(e)},exports.createGunzip=function(e){return new R(e)},exports.createUnzip=function(e){return new I(e)},exports.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new w(t),e,n)},exports.deflateSync=function(e,t){return d(new w(t),e)},exports.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new L(t),e,n)},exports.gzipSync=function(e,t){return d(new L(t),e)},exports.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new v(t),e,n)},exports.deflateRawSync=function(e,t){return d(new v(t),e)},exports.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new I(t),e,n)},exports.unzipSync=function(e,t){return d(new I(t),e)},exports.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new Z(t),e,n)},exports.inflateSync=function(e,t){return d(new Z(t),e)},exports.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new R(t),e,n)},exports.gunzipSync=function(e,t){return d(new R(t),e)},exports.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),E(new x(t),e,n)},exports.inflateRawSync=function(e,t){return d(new x(t),e)},i.inherits(S,n),S.prototype.params=function(t,n,i){if(t<exports.Z_MIN_LEVEL||t>exports.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(n!=exports.Z_FILTERED&&n!=exports.Z_HUFFMAN_ONLY&&n!=exports.Z_RLE&&n!=exports.Z_FIXED&&n!=exports.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==t||this._strategy!==n){var s=this;this.flush(r.Z_SYNC_FLUSH,function(){o(s._handle,"zlib binding closed"),s._handle.params(t,n),s._hadError||(s._level=t,s._strategy=n,i&&i())})}else e.nextTick(i)},S.prototype.reset=function(){return o(this._handle,"zlib binding closed"),this._handle.reset()},S.prototype._flush=function(e){this._transform(t.alloc(0),"",e)},S.prototype.flush=function(n,i){var o=this,s=this._writableState;("function"==typeof n||void 0===n&&!i)&&(i=n,n=r.Z_FULL_FLUSH),s.ended?i&&e.nextTick(i):s.ending?i&&this.once("end",i):s.needDrain?i&&this.once("drain",function(){return o.flush(n,i)}):(this._flushFlag=n,this.write(t.alloc(0),"",i))},S.prototype.close=function(t){y(this,t),e.nextTick(F,this)},S.prototype._transform=function(e,n,i){var o,s=this._writableState,f=(s.ending||s.ended)&&(!e||s.length===e.length);return null===e||t.isBuffer(e)?this._handle?(f?o=this._finishFlushFlag:(o=this._flushFlag,e.length>=s.length&&(this._flushFlag=this._opts.flush||r.Z_NO_FLUSH)),void this._processChunk(e,o,i)):i(new Error("zlib binding closed")):i(new Error("invalid input"))},S.prototype._processChunk=function(e,n,r){var i=e&&e.length,l=this._chunkSize-this._offset,_=0,u=this,a="function"==typeof r;if(!a){var h,c=[],p=0;this.on("error",function(e){h=e}),o(this._handle,"zlib binding closed");do{var E=this._handle.writeSync(n,e,_,i,this._buffer,this._offset,l)}while(!this._hadError&&Z(E[0],E[1]));if(this._hadError)throw h;if(p>=s)throw y(this),new RangeError(f);var d=t.concat(c,p);return y(this),d}o(this._handle,"zlib binding closed");var w=this._handle.write(n,e,_,i,this._buffer,this._offset,l);function Z(s,f){if(this&&(this.buffer=null,this.callback=null),!u._hadError){var h=l-f;if(o(h>=0,"have should not go down"),h>0){var E=u._buffer.slice(u._offset,u._offset+h);u._offset+=h,a?u.push(E):(c.push(E),p+=E.length)}if((0===f||u._offset>=u._chunkSize)&&(l=u._chunkSize,u._offset=0,u._buffer=t.allocUnsafe(u._chunkSize)),0===f){if(_+=i-s,i=s,!a)return!0;var d=u._handle.write(n,e,_,i,u._buffer,u._offset,u._chunkSize);return d.callback=Z,void(d.buffer=e)}if(!a)return!1;r()}}w.buffer=e,w.callback=Z},i.inherits(w,S),i.inherits(Z,S),i.inherits(L,S),i.inherits(R,S),i.inherits(v,S),i.inherits(x,S),i.inherits(I,S);
},{"buffer":"VjIL","stream":"kbGg","./binding":"BFKd","util":"QcjV","assert":"p+dr","process":"rH1J"}],"inL4":[function(require,module,exports) {
var process = require("process");
var Buffer = require("buffer").Buffer;
var e=require("process"),t=require("buffer").Buffer,s=require("util"),i=require("stream"),r=module.exports=function(){i.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};s.inherits(r,i),r.prototype.read=function(t,s){this._reads.push({length:Math.abs(t),allowLess:t<0,func:s}),e.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},r.prototype.write=function(e,s){return this.writable?(i=t.isBuffer(e)?e:new t(e,s||this._encoding),this._buffers.push(i),this._buffered+=i.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",new Error("Stream not writable")),!1);var i},r.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},r.prototype.destroySoon=r.prototype.end,r.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()},r.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},r.prototype._processReadAllowingLess=function(e){this._reads.shift();var t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))},r.prototype._processRead=function(e){this._reads.shift();for(var s=0,i=0,r=new t(e.length);s<e.length;){var h=this._buffers[i++],n=Math.min(h.length,e.length-s);h.copy(r,s,0,n),s+=n,n!==h.length&&(this._buffers[--i]=h.slice(n))}i>0&&this._buffers.splice(0,i),this._buffered-=e.length,e.func.call(this,r)},r.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else{if(!(this._buffered>=e.length))break;this._processRead(e)}}this._buffers&&!this.writable&&this._end()}catch(t){this.emit("error",t)}};
},{"util":"QcjV","stream":"kbGg","process":"rH1J","buffer":"VjIL"}],"qeZQ":[function(require,module,exports) {
"use strict";var t=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];exports.getImagePasses=function(e,n){for(var r=[],x=e%8,g=n%8,h=(e-x)/8,y=(n-g)/8,l=0;l<t.length;l++){for(var o=t[l],a=h*o.x.length,s=y*o.y.length,u=0;u<o.x.length&&o.x[u]<x;u++)a++;for(u=0;u<o.y.length&&o.y[u]<g;u++)s++;a>0&&s>0&&r.push({width:a,height:s,index:l})}return r},exports.getInterlaceIterator=function(e){return function(n,r,x){var g=n%t[x].x.length,h=(n-g)/t[x].x.length*8+t[x].x[g],y=r%t[x].y.length;return 4*h+((r-y)/t[x].y.length*8+t[x].y[y])*e*4}};
},{}],"sFHe":[function(require,module,exports) {
"use strict";module.exports=function(t,a,s){var r=t+a-s,e=Math.abs(r-t),u=Math.abs(r-a),b=Math.abs(r-s);return e<=u&&e<=b?t:u<=b?a:s};
},{}],"busG":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,t=require("./interlace"),i=require("./paeth-predictor");function r(e,t,i){var r=e*t;return 8!==i&&(r=Math.ceil(r/(8/i))),r}var s=module.exports=function(e,i){var s=e.width,h=e.height,n=e.interlace,a=e.bpp,o=e.depth;if(this.read=i.read,this.write=i.write,this.complete=i.complete,this._imageIndex=0,this._images=[],n)for(var l=t.getImagePasses(s,h),p=0;p<l.length;p++)this._images.push({byteWidth:r(l[p].width,a,o),height:l[p].height,lineIndex:0});else this._images.push({byteWidth:r(s,a,o),height:h,lineIndex:0});this._xComparison=8===o?a:16===o?2*a:1};s.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},s.prototype._unFilterType1=function(e,t,i){for(var r=this._xComparison,s=r-1,h=0;h<i;h++){var n=e[1+h],a=h>s?t[h-r]:0;t[h]=n+a}},s.prototype._unFilterType2=function(e,t,i){for(var r=this._lastLine,s=0;s<i;s++){var h=e[1+s],n=r?r[s]:0;t[s]=h+n}},s.prototype._unFilterType3=function(e,t,i){for(var r=this._xComparison,s=r-1,h=this._lastLine,n=0;n<i;n++){var a=e[1+n],o=h?h[n]:0,l=n>s?t[n-r]:0,p=Math.floor((l+o)/2);t[n]=a+p}},s.prototype._unFilterType4=function(e,t,r){for(var s=this._xComparison,h=s-1,n=this._lastLine,a=0;a<r;a++){var o=e[1+a],l=n?n[a]:0,p=a>h?t[a-s]:0,_=a>h&&n?n[a-s]:0,u=i(p,l,_);t[a]=o+u}},s.prototype._reverseFilterLine=function(t){var i,r=t[0],s=this._images[this._imageIndex],h=s.byteWidth;if(0===r)i=t.slice(1,h+1);else switch(i=new e(h),r){case 1:this._unFilterType1(t,i,h);break;case 2:this._unFilterType2(t,i,h);break;case 3:this._unFilterType3(t,i,h);break;case 4:this._unFilterType4(t,i,h);break;default:throw new Error("Unrecognised filter type - "+r)}this.write(i),s.lineIndex++,s.lineIndex>=s.height?(this._lastLine=null,this._imageIndex++,s=this._images[this._imageIndex]):this._lastLine=i,s?this.read(s.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())};
},{"./interlace":"qeZQ","./paeth-predictor":"sFHe","buffer":"VjIL"}],"nUi7":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("util"),t=require("./chunkstream"),i=require("./filter-parse"),u=module.exports=function(r){t.call(this);var u=[],s=this;this._filter=new i(r,{read:this.read.bind(this),write:function(e){u.push(e)},complete:function(){s.emit("complete",e.concat(u))}}),this._filter.start()};r.inherits(u,t);
},{"util":"QcjV","./chunkstream":"inL4","./filter-parse":"busG","buffer":"VjIL"}],"XEnK":[function(require,module,exports) {
"use strict";module.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5};
},{}],"O34f":[function(require,module,exports) {
"use strict";var r=[];!function(){for(var t=0;t<256;t++){for(var c=t,n=0;n<8;n++)1&c?c=3988292384^c>>>1:c>>>=1;r[t]=c}}();var t=module.exports=function(){this._crc=-1};t.prototype.write=function(t){for(var c=0;c<t.length;c++)this._crc=r[255&(this._crc^t[c])]^this._crc>>>8;return!0},t.prototype.crc32=function(){return-1^this._crc},t.crc32=function(t){for(var c=-1,n=0;n<t.length;n++)c=r[255&(c^t[n])]^c>>>8;return-1^c};
},{}],"cjGY":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,e=require("./constants"),i=require("./crc"),r=module.exports=function(t,i){this._options=t,t.checkCRC=!1!==t.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[e.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[e.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[e.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[e.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[e.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[e.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=i.read,this.error=i.error,this.metadata=i.metadata,this.gamma=i.gamma,this.transColor=i.transColor,this.palette=i.palette,this.parsed=i.parsed,this.inflateData=i.inflateData,this.finished=i.finished,this.simpleTransparency=i.simpleTransparency,this.headersFinished=i.headersFinished||function(){}};r.prototype.start=function(){this.read(e.PNG_SIGNATURE.length,this._parseSignature.bind(this))},r.prototype._parseSignature=function(t){for(var i=e.PNG_SIGNATURE,r=0;r<i.length;r++)if(t[r]!==i[r])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},r.prototype._parseChunkBegin=function(r){for(var s=r.readUInt32BE(0),h=r.readUInt32BE(4),n="",a=4;a<8;a++)n+=String.fromCharCode(r[a]);var o=Boolean(32&r[4]);if(this._hasIHDR||h===e.TYPE_IHDR){if(this._crc=new i,this._crc.write(new t(n)),this._chunks[h])return this._chunks[h](s);o?this.read(s+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+n))}else this.error(new Error("Expected IHDR on beggining"))},r.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},r.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},r.prototype._parseChunkEnd=function(t){var e=t.readInt32BE(0),i=this._crc.crc32();this._options.checkCRC&&i!==e?this.error(new Error("Crc error - "+e+" - "+i)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},r.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))},r.prototype._parseIHDR=function(t){this._crc.write(t);var i=t.readUInt32BE(0),r=t.readUInt32BE(4),s=t[8],h=t[9],n=t[10],a=t[11],o=t[12];if(8===s||4===s||2===s||1===s||16===s)if(h in e.COLORTYPE_TO_BPP_MAP)if(0===n)if(0===a)if(0===o||1===o){this._colorType=h;var p=e.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:i,height:r,depth:s,interlace:Boolean(o),palette:Boolean(h&e.COLORTYPE_PALETTE),color:Boolean(h&e.COLORTYPE_COLOR),alpha:Boolean(h&e.COLORTYPE_ALPHA),bpp:p,colorType:h}),this._handleChunkEnd()}else this.error(new Error("Unsupported interlace method"));else this.error(new Error("Unsupported filter method"));else this.error(new Error("Unsupported compression method"));else this.error(new Error("Unsupported color type"));else this.error(new Error("Unsupported bit depth "+s))},r.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))},r.prototype._parsePLTE=function(t){this._crc.write(t);for(var e=Math.floor(t.length/3),i=0;i<e;i++)this._palette.push([t[3*i],t[3*i+1],t[3*i+2],255]);this.palette(this._palette),this._handleChunkEnd()},r.prototype._handleTRNS=function(t){this.simpleTransparency(),this.read(t,this._parseTRNS.bind(this))},r.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===e.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(t.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(var i=0;i<t.length;i++)this._palette[i][3]=t[i];this.palette(this._palette)}this._colorType===e.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===e.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()},r.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))},r.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/e.GAMMA_DIVISION),this._handleChunkEnd()},r.prototype._handleIDAT=function(t){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-t,this._parseIDAT.bind(this,t))},r.prototype._parseIDAT=function(t,i){if(this._crc.write(i),this._colorType===e.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(i);var r=t-i.length;r>0?this._handleIDAT(r):this._handleChunkEnd()},r.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))},r.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()};
},{"./constants":"XEnK","./crc":"O34f","buffer":"VjIL"}],"hmaB":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,t=require("./interlace"),n=[function(){},function(r,t,n,e){if(e===t.length)throw new Error("Ran out of data");var a=t[e];r[n]=a,r[n+1]=a,r[n+2]=a,r[n+3]=255},function(r,t,n,e){if(e+1>=t.length)throw new Error("Ran out of data");var a=t[e];r[n]=a,r[n+1]=a,r[n+2]=a,r[n+3]=t[e+1]},function(r,t,n,e){if(e+2>=t.length)throw new Error("Ran out of data");r[n]=t[e],r[n+1]=t[e+1],r[n+2]=t[e+2],r[n+3]=255},function(r,t,n,e){if(e+3>=t.length)throw new Error("Ran out of data");r[n]=t[e],r[n+1]=t[e+1],r[n+2]=t[e+2],r[n+3]=t[e+3]}],e=[function(){},function(r,t,n,e){var a=t[0];r[n]=a,r[n+1]=a,r[n+2]=a,r[n+3]=e},function(r,t,n){var e=t[0];r[n]=e,r[n+1]=e,r[n+2]=e,r[n+3]=t[1]},function(r,t,n,e){r[n]=t[0],r[n+1]=t[1],r[n+2]=t[2],r[n+3]=e},function(r,t,n){r[n]=t[0],r[n+1]=t[1],r[n+2]=t[2],r[n+3]=t[3]}];function a(r,t){var n=[],e=0;function a(){if(e===r.length)throw new Error("Ran out of data");var a,o,i,f,u,h,c,w,d=r[e];switch(e++,t){default:throw new Error("unrecognised depth");case 16:c=r[e],e++,n.push((d<<8)+c);break;case 4:c=15&d,w=d>>4,n.push(w,c);break;case 2:u=3&d,h=d>>2&3,c=d>>4&3,w=d>>6&3,n.push(w,c,h,u);break;case 1:a=1&d,o=d>>1&1,i=d>>2&1,f=d>>3&1,u=d>>4&1,h=d>>5&1,c=d>>6&1,w=d>>7&1,n.push(w,c,h,u,f,i,o,a)}}return{get:function(r){for(;n.length<r;)a();var t=n.slice(0,r);return n=n.slice(r),t},resetAfterLine:function(){n.length=0},end:function(){if(e!==r.length)throw new Error("extra data found")}}}function o(r,t,e,a,o,i){for(var f=r.width,u=r.height,h=r.index,c=0;c<u;c++)for(var w=0;w<f;w++){var d=e(w,c,h);n[a](t,o,d,i),i+=a}return i}function i(r,t,n,a,o,i){for(var f=r.width,u=r.height,h=r.index,c=0;c<u;c++){for(var w=0;w<f;w++){var d=o.get(a),g=n(w,c,h);e[a](t,d,g,i)}o.resetAfterLine()}}exports.dataToBitMap=function(n,e){var f,u=e.width,h=e.height,c=e.depth,w=e.bpp,d=e.interlace;if(8!==c)var g=a(n,c);f=c<=8?new r(u*h*4):new Uint16Array(u*h*4);var s,v,l=Math.pow(2,c)-1,p=0;if(d)s=t.getImagePasses(u,h),v=t.getInterlaceIterator(u,h);else{var E=0;v=function(){var r=E;return E+=4,r},s=[{width:u,height:h}]}for(var b=0;b<s.length;b++)8===c?p=o(s[b],f,v,w,n,p):i(s[b],f,v,w,g,l);if(8===c){if(p!==n.length)throw new Error("extra data found")}else g.end();return f};
},{"./interlace":"qeZQ","buffer":"VjIL"}],"qFcd":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer;function o(r,o,f,t,a){for(var e=0,n=0;n<t;n++)for(var v=0;v<f;v++){var i=a[r[e]];if(!i)throw new Error("index "+r[e]+" not in palette");for(var u=0;u<4;u++)o[e+u]=i[u];e+=4}}function f(r,o,f,t,a){for(var e=0,n=0;n<t;n++)for(var v=0;v<f;v++){var i=!1;if(1===a.length?a[0]===r[e]&&(i=!0):a[0]===r[e]&&a[1]===r[e+1]&&a[2]===r[e+2]&&(i=!0),i)for(var u=0;u<4;u++)o[e+u]=0;e+=4}}function t(r,o,f,t,a){for(var e=Math.pow(2,a)-1,n=0,v=0;v<t;v++)for(var i=0;i<f;i++){for(var u=0;u<4;u++)o[n+u]=Math.floor(255*r[n+u]/e+.5);n+=4}}module.exports=function(a,e){var n=e.depth,v=e.width,i=e.height,u=e.colorType,h=e.transColor,l=e.palette,p=a;return 3===u?o(a,p,v,i,l):(h&&f(a,p,v,i,h),8!==n&&(16===n&&(p=new r(v*i*4)),t(a,p,v,i,n))),p};
},{"buffer":"VjIL"}],"nuCN":[function(require,module,exports) {
"use strict";var t=require("util"),i=require("zlib"),e=require("./chunkstream"),r=require("./filter-parse-async"),a=require("./parser"),s=require("./bitmapper"),n=require("./format-normaliser"),h=module.exports=function(t){e.call(this),this._parser=new a(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};t.inherits(h,e),h.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},h.prototype._inflateData=function(t){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=i.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var e=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,r=Math.max(e,i.Z_MIN_CHUNK);this._inflate=i.createInflate({chunkSize:r});var a=e,s=this.emit.bind(this,"error");this._inflate.on("error",function(t){a&&s(t)}),this._filter.on("complete",this._complete.bind(this));var n=this._filter.write.bind(this._filter);this._inflate.on("data",function(t){a&&(t.length>a&&(t=t.slice(0,a)),a-=t.length,n(t))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(t)},h.prototype._handleMetaData=function(t){this._metaData=t,this._bitmapInfo=Object.create(t),this._filter=new r(this._bitmapInfo)},h.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t},h.prototype._handlePalette=function(t){this._bitmapInfo.palette=t},h.prototype._simpleTransparency=function(){this._metaData.alpha=!0},h.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},h.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},h.prototype._complete=function(t){if(!this.errord){try{var i=s.dataToBitMap(t,this._bitmapInfo),e=n(i,this._bitmapInfo);i=null}catch(r){return void this._handleError(r)}this.emit("parsed",e)}};
},{"util":"QcjV","zlib":"cZ91","./chunkstream":"inL4","./filter-parse-async":"nUi7","./parser":"cjGY","./bitmapper":"hmaB","./format-normaliser":"qFcd"}],"LHNf":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("./constants");module.exports=function(t,a,n,o){var i,O=-1!==[r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(o.colorType);if(o.colorType===o.inputColorType){var p=(i=new ArrayBuffer(2),new DataView(i).setInt16(0,256,!0),256!==new Int16Array(i)[0]);if(8===o.bitDepth||16===o.bitDepth&&p)return t}var u=16!==o.bitDepth?t:new Uint16Array(t.buffer),l=255,h=r.COLORTYPE_TO_BPP_MAP[o.inputColorType];4!==h||o.inputHasAlpha||(h=3);var L=r.COLORTYPE_TO_BPP_MAP[o.colorType];16===o.bitDepth&&(l=65535,L*=2);var C=new e(a*n*L),P=0,T=0,A=o.bgColor||{};function b(){var e,t,a,n=l;switch(o.inputColorType){case r.COLORTYPE_COLOR_ALPHA:n=u[P+3],e=u[P],t=u[P+1],a=u[P+2];break;case r.COLORTYPE_COLOR:e=u[P],t=u[P+1],a=u[P+2];break;case r.COLORTYPE_ALPHA:n=u[P+1],t=e=u[P],a=e;break;case r.COLORTYPE_GRAYSCALE:t=e=u[P],a=e;break;default:throw new Error("input color type:"+o.inputColorType+" is not supported at present")}return o.inputHasAlpha&&(O||(n/=l,e=Math.min(Math.max(Math.round((1-n)*A.red+n*e),0),l),t=Math.min(Math.max(Math.round((1-n)*A.green+n*t),0),l),a=Math.min(Math.max(Math.round((1-n)*A.blue+n*a),0),l))),{red:e,green:t,blue:a,alpha:n}}void 0===A.red&&(A.red=l),void 0===A.green&&(A.green=l),void 0===A.blue&&(A.blue=l);for(var E=0;E<n;E++)for(var c=0;c<a;c++){var s=b();switch(o.colorType){case r.COLORTYPE_COLOR_ALPHA:case r.COLORTYPE_COLOR:8===o.bitDepth?(C[T]=s.red,C[T+1]=s.green,C[T+2]=s.blue,O&&(C[T+3]=s.alpha)):(C.writeUInt16BE(s.red,T),C.writeUInt16BE(s.green,T+2),C.writeUInt16BE(s.blue,T+4),O&&C.writeUInt16BE(s.alpha,T+6));break;case r.COLORTYPE_ALPHA:case r.COLORTYPE_GRAYSCALE:var d=(s.red+s.green+s.blue)/3;8===o.bitDepth?(C[T]=d,O&&(C[T+1]=s.alpha)):(C.writeUInt16BE(d,T),O&&C.writeUInt16BE(s.alpha,T+2));break;default:throw new Error("unrecognised color Type "+o.colorType)}P+=h,T+=L}return C};
},{"./constants":"XEnK","buffer":"VjIL"}],"qJVC":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("./paeth-predictor");function t(r,e,t,f,n){for(var a=0;a<t;a++)f[n+a]=r[e+a]}function f(r,e,t){for(var f=0,n=e+t,a=e;a<n;a++)f+=Math.abs(r[a]);return f}function n(r,e,t,f,n,a){for(var o=0;o<t;o++){var i=o>=a?r[e+o-a]:0,u=r[e+o]-i;f[n+o]=u}}function a(r,e,t,f){for(var n=0,a=0;a<t;a++){var o=a>=f?r[e+a-f]:0,i=r[e+a]-o;n+=Math.abs(i)}return n}function o(r,e,t,f,n){for(var a=0;a<t;a++){var o=e>0?r[e+a-t]:0,i=r[e+a]-o;f[n+a]=i}}function i(r,e,t){for(var f=0,n=e+t,a=e;a<n;a++){var o=e>0?r[a-t]:0,i=r[a]-o;f+=Math.abs(i)}return f}function u(r,e,t,f,n,a){for(var o=0;o<t;o++){var i=o>=a?r[e+o-a]:0,u=e>0?r[e+o-t]:0,v=r[e+o]-(i+u>>1);f[n+o]=v}}function v(r,e,t,f){for(var n=0,a=0;a<t;a++){var o=a>=f?r[e+a-f]:0,i=e>0?r[e+a-t]:0,u=r[e+a]-(o+i>>1);n+=Math.abs(u)}return n}function c(r,t,f,n,a,o){for(var i=0;i<f;i++){var u=i>=o?r[t+i-o]:0,v=t>0?r[t+i-f]:0,c=t>0&&i>=o?r[t+i-(f+o)]:0,h=r[t+i]-e(u,v,c);n[a+i]=h}}function h(r,t,f,n){for(var a=0,o=0;o<f;o++){var i=o>=n?r[t+o-n]:0,u=t>0?r[t+o-f]:0,v=t>0&&o>=n?r[t+o-(f+n)]:0,c=r[t+o]-e(i,u,v);a+=Math.abs(c)}return a}var p={0:t,1:n,2:o,3:u,4:c},l={0:f,1:a,2:i,3:v,4:h};module.exports=function(e,t,f,n,a){var o;if("filterType"in n&&-1!==n.filterType){if("number"!=typeof n.filterType)throw new Error("unrecognised filter types");o=[n.filterType]}else o=[0,1,2,3,4];16===n.bitDepth&&(a*=2);for(var i=t*a,u=0,v=0,c=new r((i+1)*f),h=o[0],s=0;s<f;s++){if(o.length>1)for(var b=1/0,y=0;y<o.length;y++){var M=l[o[y]](e,v,i,a);M<b&&(h=o[y],b=M)}c[u]=h,u++,p[h](e,v,i,c,u,a),u+=i,v+=i}return c};
},{"./paeth-predictor":"sFHe","buffer":"VjIL"}],"5V0M":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,e=require("./constants"),o=require("./crc"),r=require("./bitpacker"),n=require("./filter-pack"),p=require("zlib"),i=module.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32768,t.deflateLevel=null!=t.deflateLevel?t.deflateLevel:9,t.deflateStrategy=null!=t.deflateStrategy?t.deflateStrategy:3,t.inputHasAlpha=null==t.inputHasAlpha||t.inputHasAlpha,t.deflateFactory=t.deflateFactory||p.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType="number"==typeof t.colorType?t.colorType:e.COLORTYPE_COLOR_ALPHA,t.inputColorType="number"==typeof t.inputColorType?t.inputColorType:e.COLORTYPE_COLOR_ALPHA,-1===[e.COLORTYPE_GRAYSCALE,e.COLORTYPE_COLOR,e.COLORTYPE_COLOR_ALPHA,e.COLORTYPE_ALPHA].indexOf(t.colorType))throw new Error("option color type:"+t.colorType+" is not supported at present");if(-1===[e.COLORTYPE_GRAYSCALE,e.COLORTYPE_COLOR,e.COLORTYPE_COLOR_ALPHA,e.COLORTYPE_ALPHA].indexOf(t.inputColorType))throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(8!==t.bitDepth&&16!==t.bitDepth)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};i.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},i.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},i.prototype.filterData=function(t,o,p){var i=r(t,o,p,this._options),l=e.COLORTYPE_TO_BPP_MAP[this._options.colorType];return n(i,o,p,this._options,l)},i.prototype._packChunk=function(e,r){var n=r?r.length:0,p=new t(n+12);return p.writeUInt32BE(n,0),p.writeUInt32BE(e,4),r&&r.copy(p,8),p.writeInt32BE(o.crc32(p.slice(4,p.length-4)),p.length-4),p},i.prototype.packGAMA=function(o){var r=new t(4);return r.writeUInt32BE(Math.floor(o*e.GAMMA_DIVISION),0),this._packChunk(e.TYPE_gAMA,r)},i.prototype.packIHDR=function(o,r){var n=new t(13);return n.writeUInt32BE(o,0),n.writeUInt32BE(r,4),n[8]=this._options.bitDepth,n[9]=this._options.colorType,n[10]=0,n[11]=0,n[12]=0,this._packChunk(e.TYPE_IHDR,n)},i.prototype.packIDAT=function(t){return this._packChunk(e.TYPE_IDAT,t)},i.prototype.packIEND=function(){return this._packChunk(e.TYPE_IEND,null)};
},{"./constants":"XEnK","./crc":"O34f","./bitpacker":"LHNf","./filter-pack":"qJVC","zlib":"cZ91","buffer":"VjIL"}],"V+II":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,e=require("util"),i=require("stream"),a=require("./constants"),r=require("./packer"),s=module.exports=function(t){i.call(this);var e=t||{};this._packer=new r(e),this._deflate=this._packer.createDeflate(),this.readable=!0};e.inherits(s,i),s.prototype.pack=function(e,i,r,s){this.emit("data",new t(a.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(i,r)),s&&this.emit("data",this._packer.packGAMA(s));var h=this._packer.filterData(e,i,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(t){this.emit("data",this._packer.packIDAT(t))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(h)};
},{"util":"QcjV","stream":"kbGg","./constants":"XEnK","./packer":"5V0M","buffer":"VjIL"}],"mj+t":[function(require,module,exports) {
var process = require("process");
var Buffer = require("buffer").Buffer;
var e=require("process"),t=require("buffer").Buffer,r=require("assert").ok,n=require("zlib"),i=require("util"),f=require("buffer").kMaxLength;function s(e){if(!(this instanceof s))return new s(e);e&&e.chunkSize<n.Z_MIN_CHUNK&&(e.chunkSize=n.Z_MIN_CHUNK),n.Inflate.call(this,e),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,e&&null!=e.maxLength&&(this._maxLength=e.maxLength)}function o(e){return new s(e)}function h(t,r){r&&e.nextTick(r),t._handle&&(t._handle.close(),t._handle=null)}function u(e,r){if("string"==typeof r&&(r=t.from(r)),!(r instanceof t))throw new TypeError("Not a string or buffer");var i=e._finishFlushFlag;return null==i&&(i=n.Z_FINISH),e._processChunk(r,i)}function a(e,t){return u(new s(t),e)}s.prototype._processChunk=function(e,i,s){if("function"==typeof s)return n.Inflate._processChunk.call(this,e,i,s);var o,u=this,a=e&&e.length,l=this._chunkSize-this._offset,_=this._maxLength,c=0,g=[],d=0;function p(e,n){if(!u._hadError){var i=l-n;if(r(i>=0,"have should not go down"),i>0){var f=u._buffer.slice(u._offset,u._offset+i);if(u._offset+=i,f.length>_&&(f=f.slice(0,_)),g.push(f),d+=f.length,0===(_-=f.length))return!1}return(0===n||u._offset>=u._chunkSize)&&(l=u._chunkSize,u._offset=0,u._buffer=t.allocUnsafe(u._chunkSize)),0===n&&(c+=a-e,a=e,!0)}}this.on("error",function(e){o=e}),r(this._handle,"zlib binding closed");do{var b=this._handle.writeSync(i,e,c,a,this._buffer,this._offset,l);b=b||this._writeState}while(!this._hadError&&p(b[0],b[1]));if(this._hadError)throw o;if(d>=f)throw h(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+f.toString(16)+" bytes");var w=t.concat(g,d);return h(this),w},i.inherits(s,n.Inflate),module.exports=exports=a,exports.Inflate=s,exports.createInflate=o,exports.inflateSync=a;
},{"assert":"p+dr","zlib":"cZ91","util":"QcjV","buffer":"VjIL","process":"rH1J"}],"vHvp":[function(require,module,exports) {
"use strict";var e=module.exports=function(e){this._buffer=e,this._reads=[]};e.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})},e.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var e=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=e.length||e.allowLess))break;this._reads.shift();var t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}return this._reads.length>0?new Error("There are some read requests waitng on finished stream"):this._buffer.length>0?new Error("unrecognised content at end of stream"):void 0};
},{}],"73fD":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("./sync-reader"),n=require("./filter-parse");exports.process=function(t,u){var c=[],i=new r(t);return new n(u,{read:i.read.bind(i),write:function(e){c.push(e)},complete:function(){}}).start(),i.process(),e.concat(c)};
},{"./sync-reader":"vHvp","./filter-parse":"busG","buffer":"VjIL"}],"1g40":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=!0,a=require("zlib"),n=require("./sync-inflate");a.deflateSync||(e=!1);var t=require("./sync-reader"),i=require("./filter-parse-sync"),o=require("./parser"),l=require("./bitmapper"),s=require("./format-normaliser");module.exports=function(u,f){if(!e)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var p,c,d;var h=[];var v=new t(u);if(new o(f,{read:v.read.bind(v),error:function(r){p=r},metadata:function(r){c=r},gamma:function(r){d=r},palette:function(r){c.palette=r},transColor:function(r){c.transColor=r},inflateData:function(r){h.push(r)},simpleTransparency:function(){c.alpha=!0}}).start(),v.process(),p)throw p;var m,y=r.concat(h);if(h.length=0,c.interlace)m=a.inflateSync(y);else{var b=(1+(c.width*c.bpp*c.depth+7>>3))*c.height;m=n(y,{chunkSize:b,maxLength:b})}if(y=null,!m||!m.length)throw new Error("bad png - invalid inflate data response");var g=i.process(m,c);y=null;var q=l.dataToBitMap(g,c);g=null;var w=s(q,c);return c.data=w,c.gamma=d||0,c};
},{"zlib":"cZ91","./sync-inflate":"mj+t","./sync-reader":"vHvp","./filter-parse-sync":"73fD","./parser":"cjGY","./bitmapper":"hmaB","./format-normaliser":"qFcd","buffer":"VjIL"}],"xkVW":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=!0,a=require("zlib");a.deflateSync||(r=!1);var t=require("./constants"),n=require("./packer");module.exports=function(i,s){if(!r)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var p=new n(s||{}),o=[];o.push(new e(t.PNG_SIGNATURE)),o.push(p.packIHDR(i.width,i.height)),i.gamma&&o.push(p.packGAMA(i.gamma));var h=p.filterData(i.data,i.width,i.height),u=a.deflateSync(h,p.getDeflateOptions());if(h=null,!u||!u.length)throw new Error("bad png - invalid compressed data response");return o.push(p.packIDAT(u)),o.push(p.packIEND()),e.concat(o)};
},{"zlib":"cZ91","./constants":"XEnK","./packer":"5V0M","buffer":"VjIL"}],"CPVW":[function(require,module,exports) {
"use strict";var r=require("./parser-sync"),e=require("./packer-sync");exports.read=function(e,t){return r(e,t||{})},exports.write=function(r,t){return e(r,t)};
},{"./parser-sync":"1g40","./packer-sync":"xkVW"}],"QH+h":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var process = require("process");
var t=require("buffer").Buffer,i=require("process"),e=require("util"),h=require("stream"),r=require("./parser-async"),a=require("./packer-async"),s=require("./png-sync"),n=exports.PNG=function(i){h.call(this),i=i||{},this.width=0|i.width,this.height=0|i.height,this.data=this.width>0&&this.height>0?new t(4*this.width*this.height):null,i.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new r(i),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(t){this.data=t,this.emit("parsed",t)}.bind(this)),this._packer=new a(i),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};e.inherits(n,h),n.sync=s,n.prototype.pack=function(){return this.data&&this.data.length?(i.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},n.prototype.parse=function(t,i){var e,h;i&&(e=function(t){this.removeListener("error",h),this.data=t,i(null,this)}.bind(this),h=function(t){this.removeListener("parsed",e),i(t,null)}.bind(this),this.once("parsed",e),this.once("error",h));return this.end(t),this},n.prototype.write=function(t){return this._parser.write(t),!0},n.prototype.end=function(t){this._parser.end(t)},n.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)},n.prototype._gamma=function(t){this.gamma=t},n.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},n.bitblt=function(t,i,e,h,r,a,s,n){if(h|=0,r|=0,a|=0,s|=0,n|=0,(e|=0)>t.width||h>t.height||e+r>t.width||h+a>t.height)throw new Error("bitblt reading outside image");if(s>i.width||n>i.height||s+r>i.width||n+a>i.height)throw new Error("bitblt writing outside image");for(var o=0;o<a;o++)t.data.copy(i.data,(n+o)*i.width+s<<2,(h+o)*t.width+e<<2,(h+o)*t.width+e+r<<2)},n.prototype.bitblt=function(t,i,e,h,r,a,s){return n.bitblt(this,t,i,e,h,r,a,s),this},n.adjustGamma=function(t){if(t.gamma){for(var i=0;i<t.height;i++)for(var e=0;e<t.width;e++)for(var h=t.width*i+e<<2,r=0;r<3;r++){var a=t.data[h+r]/255;a=Math.pow(a,1/2.2/t.gamma),t.data[h+r]=Math.round(255*a)}t.gamma=0}},n.prototype.adjustGamma=function(){n.adjustGamma(this)};
},{"util":"QcjV","stream":"kbGg","./parser-async":"nuCN","./packer-async":"V+II","./png-sync":"CPVW","buffer":"VjIL","process":"rH1J"}],"2Xw1":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("@babel/runtime/helpers/defineProperty")),r=require("pngjs"),l=require("@jimp/utils"),a="image/png",i=-1,u=0,n=1,o=2,s=3,h=4,d=function(){return{mime:(0,t.default)({},a,["png"]),constants:{MIME_PNG:a,PNG_FILTER_AUTO:i,PNG_FILTER_NONE:u,PNG_FILTER_SUB:n,PNG_FILTER_UP:o,PNG_FILTER_AVERAGE:s,PNG_FILTER_PATH:h},hasAlpha:(0,t.default)({},a,!0),decoders:(0,t.default)({},a,r.PNG.sync.read),encoders:(0,t.default)({},a,function(e){var t=new r.PNG({width:e.bitmap.width,height:e.bitmap.height});return t.data=e.bitmap.data,r.PNG.sync.write(t,{width:e.bitmap.width,height:e.bitmap.height,deflateLevel:e._deflateLevel,deflateStrategy:e._deflateStrategy,filterType:e._filterType,colorType:"number"==typeof e._colorType?e._colorType:e._rgba?6:2,inputHasAlpha:e._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:i,_colorType:null,deflateLevel:function(e,t){return"number"!=typeof e?l.throwError.call(this,"l must be a number",t):e<0||e>9?l.throwError.call(this,"l must be a number 0 - 9",t):(this._deflateLevel=Math.round(e),(0,l.isNodePattern)(t)&&t.call(this,null,this),this)},deflateStrategy:function(e,t){return"number"!=typeof e?l.throwError.call(this,"s must be a number",t):e<0||e>3?l.throwError.call(this,"s must be a number 0 - 3",t):(this._deflateStrategy=Math.round(e),(0,l.isNodePattern)(t)&&t.call(this,null,this),this)},filterType:function(e,t){return"number"!=typeof e?l.throwError.call(this,"n must be a number",t):e<-1||e>4?l.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",t):(this._filterType=Math.round(e),(0,l.isNodePattern)(t)&&t.call(this,null,this),this)},colorType:function(e,t){return"number"!=typeof e?l.throwError.call(this,"s must be a number",t):0!==e&&2!==e&&4!==e&&6!==e?l.throwError.call(this,"s must be a number 0, 2, 4, 6.",t):(this._colorType=Math.round(e),(0,l.isNodePattern)(t)&&t.call(this,null,this),this)}}}};exports.default=d;
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/defineProperty":"6x3D","pngjs":"QH+h","@jimp/utils":"O8K0"}],"S3JX":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;function s(t){this.buffer=t.data,this.width=t.width,this.height=t.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}s.prototype.encode=function(){var s=new t(this.offset+this.rgbSize);this.pos=0,s.write(this.flag,this.pos,2),this.pos+=2,s.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,s.writeUInt32LE(this.reserved,this.pos),this.pos+=4,s.writeUInt32LE(this.offset,this.pos),this.pos+=4,s.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,s.writeUInt32LE(this.width,this.pos),this.pos+=4,s.writeInt32LE(-this.height,this.pos),this.pos+=4,s.writeUInt16LE(this.planes,this.pos),this.pos+=2,s.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,s.writeUInt32LE(this.compress,this.pos),this.pos+=4,s.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,s.writeUInt32LE(this.hr,this.pos),this.pos+=4,s.writeUInt32LE(this.vr,this.pos),this.pos+=4,s.writeUInt32LE(this.colors,this.pos),this.pos+=4,s.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var i=0,h=3*this.width+this.extraBytes,e=0;e<this.height;e++){for(var r=0;r<this.width;r++){var o=this.pos+e*h+3*r;i++,s[o]=this.buffer[i++],s[o+1]=this.buffer[i++],s[o+2]=this.buffer[i++]}if(this.extraBytes>0){var p=this.pos+e*h+3*this.width;s.fill(0,p,p+this.extraBytes)}}return s},module.exports=function(t,i){return void 0===i&&(i=100),{data:new s(t).encode(),width:t.width,height:t.height}};
},{"buffer":"VjIL"}],"Lx5I":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;function s(t,s){if(this.pos=0,this.buffer=t,this.is_with_alpha=!!s,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),"BM"!=this.flag)throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}s.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var s=0;s<t;s++){var i=this.buffer.readUInt8(this.pos++),h=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.palette[s]={red:e,green:h,blue:i,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},s.prototype.parseRGBA=function(){var s="bit"+this.bitPP,i=this.width*this.height*4;this.data=new t(i),this[s]()},s.prototype.bit1=function(){var t=Math.ceil(this.width/8),s=t%4,i=this.height>=0?this.height-1:-this.height;for(i=this.height-1;i>=0;i--){for(var h=this.bottom_up?i:this.height-1-i,e=0;e<t;e++)for(var a=this.buffer.readUInt8(this.pos++),r=h*this.width*4+8*e*4,o=0;o<8&&8*e+o<this.width;o++){var f=this.palette[a>>7-o&1];this.data[r+4*o]=0,this.data[r+4*o+1]=f.blue,this.data[r+4*o+2]=f.green,this.data[r+4*o+3]=f.red}0!=s&&(this.pos+=4-s)}},s.prototype.bit4=function(){if(2==this.compress){this.data.fill(255);for(var t=0,s=this.bottom_up?this.height-1:0,i=!1;t<this.data.length;){var h=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++);if(0==h){if(0==e){this.bottom_up?s--:s++,t=s*this.width*4,i=!1;continue}if(1==e)break;if(2==e){var a=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++);this.bottom_up?s-=r:s+=r,t+=r*this.width*4+4*a}else{for(var o=this.buffer.readUInt8(this.pos++),f=0;f<e;f++)i?d.call(this,15&o):d.call(this,(240&o)>>4),1&f&&f+1<e&&(o=this.buffer.readUInt8(this.pos++)),i=!i;1==(e+1>>1&1)&&this.pos++}}else for(f=0;f<h;f++)i?d.call(this,15&e):d.call(this,(240&e)>>4),i=!i}function d(s){var i=this.palette[s];this.data[t]=0,this.data[t+1]=i.blue,this.data[t+2]=i.green,this.data[t+3]=i.red,t+=4}}else{var p=Math.ceil(this.width/2),n=p%4;for(r=this.height-1;r>=0;r--){var u=this.bottom_up?r:this.height-1-r;for(a=0;a<p;a++){e=this.buffer.readUInt8(this.pos++),t=u*this.width*4+2*a*4;var b=e>>4,l=15&e,I=this.palette[b];if(this.data[t]=0,this.data[t+1]=I.blue,this.data[t+2]=I.green,this.data[t+3]=I.red,2*a+1>=this.width)break;I=this.palette[l],this.data[t+4]=0,this.data[t+4+1]=I.blue,this.data[t+4+2]=I.green,this.data[t+4+3]=I.red}0!=n&&(this.pos+=4-n)}}},s.prototype.bit8=function(){if(1==this.compress){this.data.fill(255);for(var t=0,s=this.bottom_up?this.height-1:0;t<this.data.length;){var i=this.buffer.readUInt8(this.pos++),h=this.buffer.readUInt8(this.pos++);if(0==i){if(0==h){this.bottom_up?s--:s++,t=s*this.width*4;continue}if(1==h)break;if(2==h){var e=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++);this.bottom_up?s-=a:s+=a,t+=a*this.width*4+4*e}else{for(var r=0;r<h;r++){var o=this.buffer.readUInt8(this.pos++);f.call(this,o)}!0&h&&this.pos++}}else for(r=0;r<i;r++)f.call(this,h)}function f(s){var i=this.palette[s];this.data[t]=0,this.data[t+1]=i.blue,this.data[t+2]=i.green,this.data[t+3]=i.red,t+=4}}else{var d=this.width%4;for(a=this.height-1;a>=0;a--){var p=this.bottom_up?a:this.height-1-a;for(e=0;e<this.width;e++){h=this.buffer.readUInt8(this.pos++),t=p*this.width*4+4*e;if(h<this.palette.length){var n=this.palette[h];this.data[t]=0,this.data[t+1]=n.blue,this.data[t+2]=n.green,this.data[t+3]=n.red}else this.data[t]=0,this.data[t+1]=255,this.data[t+2]=255,this.data[t+3]=255}0!=d&&(this.pos+=4-d)}}},s.prototype.bit15=function(){for(var t=this.width%3,s=parseInt("11111",2),i=this.height-1;i>=0;i--){for(var h=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var a=this.buffer.readUInt16LE(this.pos);this.pos+=2;var r=(a&s)/s*255|0,o=(a>>5&s)/s*255|0,f=(a>>10&s)/s*255|0,d=a>>15?255:0,p=h*this.width*4+4*e;this.data[p]=d,this.data[p+1]=r,this.data[p+2]=o,this.data[p+3]=f}this.pos+=t}},s.prototype.bit16=function(){var t=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,3==this.compress&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var s=[0,0,0],i=0;i<16;i++)this.maskRed>>i&1&&s[0]++,this.maskGreen>>i&1&&s[1]++,this.maskBlue>>i&1&&s[2]++;s[1]+=s[0],s[2]+=s[1],s[0]=8-s[0],s[1]-=8,s[2]-=8;for(var h=this.height-1;h>=0;h--){for(var e=this.bottom_up?h:this.height-1-h,a=0;a<this.width;a++){var r=this.buffer.readUInt16LE(this.pos);this.pos+=2;var o=(r&this.maskBlue)<<s[0],f=(r&this.maskGreen)>>s[1],d=(r&this.maskRed)>>s[2],p=e*this.width*4+4*a;this.data[p]=0,this.data[p+1]=o,this.data[p+2]=f,this.data[p+3]=d}this.pos+=t}},s.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var h=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),r=s*this.width*4+4*i;this.data[r]=0,this.data[r+1]=h,this.data[r+2]=e,this.data[r+3]=a}this.pos+=this.width%4}},s.prototype.bit32=function(){if(3==this.compress){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var t=this.height-1;t>=0;t--)for(var s=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var h=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),o=s*this.width*4+4*i;this.data[o]=h,this.data[o+1]=e,this.data[o+2]=a,this.data[o+3]=r}}else for(t=this.height-1;t>=0;t--)for(s=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){e=this.buffer.readUInt8(this.pos++),a=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),h=this.buffer.readUInt8(this.pos++),o=s*this.width*4+4*i;this.data[o]=h,this.data[o+1]=e,this.data[o+2]=a,this.data[o+3]=r}},s.prototype.getData=function(){return this.data},module.exports=function(t){return new s(t)};
},{"buffer":"VjIL"}],"vmkd":[function(require,module,exports) {
var e=require("./lib/encoder"),r=require("./lib/decoder");module.exports={encode:e,decode:r};
},{"./lib/encoder":"S3JX","./lib/decoder":"Lx5I"}],"4WTJ":[function(require,module,exports) {
"use strict";var t=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=t(require("@babel/runtime/helpers/defineProperty")),i=t(require("bmp-js")),e=require("@jimp/utils"),r="image/bmp",d="image/x-ms-bmp";function p(t){return(0,e.scan)(t,0,0,t.bitmap.width,t.bitmap.height,function(t,a,i){var e=this.bitmap.data[i+0],r=this.bitmap.data[i+1],d=this.bitmap.data[i+2],p=this.bitmap.data[i+3];this.bitmap.data[i+0]=p,this.bitmap.data[i+1]=d,this.bitmap.data[i+2]=r,this.bitmap.data[i+3]=e}).bitmap}function s(t){return(0,e.scan)({bitmap:t},0,0,t.width,t.height,function(a,i,e){var r=this.bitmap.data[e+0],d=this.bitmap.data[e+1],p=this.bitmap.data[e+2],s=this.bitmap.data[e+3];this.bitmap.data[e+0]=s,this.bitmap.data[e+1]=p,this.bitmap.data[e+2]=d,this.bitmap.data[e+3]=t.is_with_alpha?r:255}).bitmap}var m=function(t){return s(i.default.decode(t))},u=function(t){return i.default.encode(p(t)).data},b=function(){var t,i;return{mime:(0,a.default)({},r,["bmp"]),constants:{MIME_BMP:r,MIME_X_MS_BMP:d},decoders:(t={},(0,a.default)(t,r,m),(0,a.default)(t,d,m),t),encoders:(i={},(0,a.default)(i,r,u),(0,a.default)(i,d,u),i)}};exports.default=b;
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/defineProperty":"6x3D","bmp-js":"vmkd","@jimp/utils":"O8K0"}],"TIjK":[function(require,module,exports) {
"use strict";var r=require("./common"),n=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch(u){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){t=!1}for(var e=new r.Buf8(256),o=0;o<256;o++)e[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function f(e,o){if(o<65534&&(e.subarray&&t||!e.subarray&&n))return String.fromCharCode.apply(null,r.shrinkBuf(e,o));for(var f="",u=0;u<o;u++)f+=String.fromCharCode(e[u]);return f}e[254]=e[254]=1,exports.string2buf=function(n){var t,e,o,f,u,a=n.length,i=0;for(f=0;f<a;f++)55296==(64512&(e=n.charCodeAt(f)))&&f+1<a&&56320==(64512&(o=n.charCodeAt(f+1)))&&(e=65536+(e-55296<<10)+(o-56320),f++),i+=e<128?1:e<2048?2:e<65536?3:4;for(t=new r.Buf8(i),u=0,f=0;u<i;f++)55296==(64512&(e=n.charCodeAt(f)))&&f+1<a&&56320==(64512&(o=n.charCodeAt(f+1)))&&(e=65536+(e-55296<<10)+(o-56320),f++),e<128?t[u++]=e:e<2048?(t[u++]=192|e>>>6,t[u++]=128|63&e):e<65536?(t[u++]=224|e>>>12,t[u++]=128|e>>>6&63,t[u++]=128|63&e):(t[u++]=240|e>>>18,t[u++]=128|e>>>12&63,t[u++]=128|e>>>6&63,t[u++]=128|63&e);return t},exports.buf2binstring=function(r){return f(r,r.length)},exports.binstring2buf=function(n){for(var t=new r.Buf8(n.length),e=0,o=t.length;e<o;e++)t[e]=n.charCodeAt(e);return t},exports.buf2string=function(r,n){var t,o,u,a,i=n||r.length,h=new Array(2*i);for(o=0,t=0;t<i;)if((u=r[t++])<128)h[o++]=u;else if((a=e[u])>4)h[o++]=65533,t+=a-1;else{for(u&=2===a?31:3===a?15:7;a>1&&t<i;)u=u<<6|63&r[t++],a--;a>1?h[o++]=65533:u<65536?h[o++]=u:(u-=65536,h[o++]=55296|u>>10&1023,h[o++]=56320|1023&u)}return f(h,o)},exports.utf8border=function(r,n){var t;for((n=n||r.length)>r.length&&(n=r.length),t=n-1;t>=0&&128==(192&r[t]);)t--;return t<0?n:0===t?n:t+e[r[t]]>n?t:n};
},{"./common":"kQw7"}],"AgJ3":[function(require,module,exports) {
"use strict";var t=require("./zlib/deflate"),i=require("./utils/common"),e=require("./utils/strings"),n=require("./zlib/messages"),r=require("./zlib/zstream"),s=Object.prototype.toString,o=0,a=4,u=0,h=1,d=2,l=-1,f=0,p=8;function w(o){if(!(this instanceof w))return new w(o);this.options=i.assign({level:l,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},o||{});var a=this.options;a.raw&&a.windowBits>0?a.windowBits=-a.windowBits:a.gzip&&a.windowBits>0&&a.windowBits<16&&(a.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var h=t.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(h!==u)throw new Error(n[h]);if(a.header&&t.deflateSetHeader(this.strm,a.header),a.dictionary){var d;if(d="string"==typeof a.dictionary?e.string2buf(a.dictionary):"[object ArrayBuffer]"===s.call(a.dictionary)?new Uint8Array(a.dictionary):a.dictionary,(h=t.deflateSetDictionary(this.strm,d))!==u)throw new Error(n[h]);this._dict_set=!0}}function c(t,i){var e=new w(i);if(e.push(t,!0),e.err)throw e.msg||n[e.err];return e.result}function m(t,i){return(i=i||{}).raw=!0,c(t,i)}function g(t,i){return(i=i||{}).gzip=!0,c(t,i)}w.prototype.push=function(n,r){var l,f,p=this.strm,w=this.options.chunkSize;if(this.ended)return!1;f=r===~~r?r:!0===r?a:o,"string"==typeof n?p.input=e.string2buf(n):"[object ArrayBuffer]"===s.call(n)?p.input=new Uint8Array(n):p.input=n,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new i.Buf8(w),p.next_out=0,p.avail_out=w),(l=t.deflate(p,f))!==h&&l!==u)return this.onEnd(l),this.ended=!0,!1;0!==p.avail_out&&(0!==p.avail_in||f!==a&&f!==d)||("string"===this.options.to?this.onData(e.buf2binstring(i.shrinkBuf(p.output,p.next_out))):this.onData(i.shrinkBuf(p.output,p.next_out)))}while((p.avail_in>0||0===p.avail_out)&&l!==h);return f===a?(l=t.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===u):f!==d||(this.onEnd(u),p.avail_out=0,!0)},w.prototype.onData=function(t){this.chunks.push(t)},w.prototype.onEnd=function(t){t===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},exports.Deflate=w,exports.deflate=c,exports.deflateRaw=m,exports.gzip=g;
},{"./zlib/deflate":"9RMK","./utils/common":"kQw7","./utils/strings":"TIjK","./zlib/messages":"fVHU","./zlib/zstream":"PzRC"}],"VJx4":[function(require,module,exports) {
"use strict";function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}module.exports=t;
},{}],"5bMe":[function(require,module,exports) {
"use strict";var t=require("./zlib/inflate"),i=require("./utils/common"),n=require("./utils/strings"),r=require("./zlib/constants"),s=require("./zlib/messages"),o=require("./zlib/zstream"),e=require("./zlib/gzheader"),a=Object.prototype.toString;function u(h){if(!(this instanceof u))return new u(h);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},h||{});var _=this.options;_.raw&&_.windowBits>=0&&_.windowBits<16&&(_.windowBits=-_.windowBits,0===_.windowBits&&(_.windowBits=-15)),!(_.windowBits>=0&&_.windowBits<16)||h&&h.windowBits||(_.windowBits+=32),_.windowBits>15&&_.windowBits<48&&0==(15&_.windowBits)&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var w=t.inflateInit2(this.strm,_.windowBits);if(w!==r.Z_OK)throw new Error(s[w]);if(this.header=new e,t.inflateGetHeader(this.strm,this.header),_.dictionary&&("string"==typeof _.dictionary?_.dictionary=n.string2buf(_.dictionary):"[object ArrayBuffer]"===a.call(_.dictionary)&&(_.dictionary=new Uint8Array(_.dictionary)),_.raw&&(w=t.inflateSetDictionary(this.strm,_.dictionary))!==r.Z_OK))throw new Error(s[w])}function h(t,i){var n=new u(i);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}function _(t,i){return(i=i||{}).raw=!0,h(t,i)}u.prototype.push=function(s,o){var e,u,h,_,w,d=this.strm,l=this.options.chunkSize,f=this.options.dictionary,p=!1;if(this.ended)return!1;u=o===~~o?o:!0===o?r.Z_FINISH:r.Z_NO_FLUSH,"string"==typeof s?d.input=n.binstring2buf(s):"[object ArrayBuffer]"===a.call(s)?d.input=new Uint8Array(s):d.input=s,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(l),d.next_out=0,d.avail_out=l),(e=t.inflate(d,r.Z_NO_FLUSH))===r.Z_NEED_DICT&&f&&(e=t.inflateSetDictionary(this.strm,f)),e===r.Z_BUF_ERROR&&!0===p&&(e=r.Z_OK,p=!1),e!==r.Z_STREAM_END&&e!==r.Z_OK)return this.onEnd(e),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&e!==r.Z_STREAM_END&&(0!==d.avail_in||u!==r.Z_FINISH&&u!==r.Z_SYNC_FLUSH)||("string"===this.options.to?(h=n.utf8border(d.output,d.next_out),_=d.next_out-h,w=n.buf2string(d.output,h),d.next_out=_,d.avail_out=l-_,_&&i.arraySet(d.output,d.output,h,_,0),this.onData(w)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(p=!0)}while((d.avail_in>0||0===d.avail_out)&&e!==r.Z_STREAM_END);return e===r.Z_STREAM_END&&(u=r.Z_FINISH),u===r.Z_FINISH?(e=t.inflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===r.Z_OK):u!==r.Z_SYNC_FLUSH||(this.onEnd(r.Z_OK),d.avail_out=0,!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){t===r.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},exports.Inflate=u,exports.inflate=h,exports.inflateRaw=_,exports.ungzip=h;
},{"./zlib/inflate":"Fam0","./utils/common":"kQw7","./utils/strings":"TIjK","./zlib/constants":"hoPV","./zlib/messages":"fVHU","./zlib/zstream":"PzRC","./zlib/gzheader":"VJx4"}],"t52q":[function(require,module,exports) {
"use strict";var e=require("./lib/utils/common").assign,i=require("./lib/deflate"),r=require("./lib/inflate"),l=require("./lib/zlib/constants"),s={};e(s,i,r,l),module.exports=s;
},{"./lib/utils/common":"kQw7","./lib/deflate":"AgJ3","./lib/inflate":"5bMe","./lib/zlib/constants":"hoPV"}],"bjqy":[function(require,module,exports) {
var process = require("process");
var e=require("process");!function(){var r={};function t(){void 0===e&&console.log.apply(console,arguments)}"object"==typeof module?module.exports=r:self.UTIF=r,function(e,r){var i,n,a;i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e){this.message="JPEG error: "+e}return e.prototype=Error(),e.prototype.name="JpegError",e.constructor=e}(),a=function(){function e(e,r){this.message=e,this.g=r}return e.prototype=Error(),e.prototype.name="DNLMarkerError",e.constructor=e}(),function(){function r(){this.M=null,this.B=-1}function t(e,r){for(var t,i,n=0,a=[],o=16;0<o&&!e[o-1];)o--;a.push({children:[],index:0});var f,l=a[0];for(t=0;t<o;t++){for(i=0;i<e[t];i++){for((l=a.pop()).children[l.index]=r[n];0<l.index;)l=a.pop();for(l.index++,a.push(l);a.length<=t;)a.push(f={children:[],index:0}),l.children[l.index]=f.children,l=f;n++}t+1<o&&(a.push(f={children:[],index:0}),l.children[l.index]=f.children,l=f)}return a[0].children}function o(e,r,t,o,f,u,d,c,h){function v(){if(0<U)return C>>--U&1;if(255===(C=e[r++])){var i=e[r++];if(i){if(220===i&&D){r+=2;var o=e[r++]<<8|e[r++];if(0<o&&o!==t.g)throw new a("Found DNL marker (0xFFDC) while parsing scan data",o)}throw new n("unexpected marker "+(C<<8|i).toString(16))}}return U=7,C>>>7}function g(e){for(;;){if("number"==typeof(e=e[v()]))return e;if("object"!==(void 0===e?"undefined":i(e)))throw new n("invalid huffman sequence")}}function p(e){for(var r=0;0<e;)r=r<<1|v(),e--;return r}function w(e){if(1===e)return 1===v()?1:-1;var r=p(e);return r>=1<<e-1?r:r+(-1<<e)+1}for(var m,b,_,y,E,P,I,D=9<arguments.length&&void 0!==arguments[9]&&arguments[9],A=t.P,S=r,C=0,U=0,B=0,M=0,k=o.length,F=t.S?0===u?0===c?function(e,r){var t=g(e.D);t=0===t?0:w(t)<<h,e.a[r]=e.m+=t}:function(e,r){e.a[r]|=v()<<h}:0===c?function(e,r){if(0<B)B--;else for(var t=u;t<=d;){var i=g(e.o),n=15&i;if(i>>=4,0===n){if(15>i){B=p(i)+(1<<i)-1;break}t+=16}else t+=i,e.a[r+s[t]]=w(n)*(1<<h),t++}}:function(e,r){for(var t,i=u,a=0;i<=d;){t=r+s[i];var o=0>e.a[t]?-1:1;switch(M){case 0:if(t=15&(a=g(e.o)),a>>=4,0===t)15>a?(B=p(a)+(1<<a),M=4):(a=16,M=1);else{if(1!==t)throw new n("invalid ACn encoding");m=w(t),M=a?2:3}continue;case 1:case 2:e.a[t]?e.a[t]+=o*(v()<<h):0==--a&&(M=2===M?3:0);break;case 3:e.a[t]?e.a[t]+=o*(v()<<h):(e.a[t]=m<<h,M=0);break;case 4:e.a[t]&&(e.a[t]+=o*(v()<<h))}i++}4===M&&0==--B&&(M=0)}:function(e,r){var t=g(e.D);for(t=0===t?0:w(t),e.a[r]=e.m+=t,t=1;64>t;){var i=g(e.o),n=15&i;if(i>>=4,0===n){if(15>i)break;t+=16}else t+=i,e.a[r+s[t]]=w(n),t++}},G=0,T=1===k?o[0].c*o[0].l:A*t.O;G<T;){var x=f?Math.min(T-G,f):T;for(b=0;b<k;b++)o[b].m=0;if(B=0,1===k){var N=o[0];for(E=0;E<x;E++)F(N,64*((N.c+1)*(G/N.c|0)+G%N.c)),G++}else for(E=0;E<x;E++){for(b=0;b<k;b++)for(P=(N=o[b]).h,I=N.j,_=0;_<I;_++)for(y=0;y<P;y++)F(N,64*((N.c+1)*((G/A|0)*N.j+_)+(G%A*N.h+y)));G++}if(U=0,(N=l(e,r))&&N.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+N.f),r=N.offset),!(N=N&&N.F)||65280>=N)throw new n("marker was not found");if(!(65488<=N&&65495>=N))break;r+=2}return(N=l(e,r))&&N.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+N.f),r=N.offset),r-S}function f(e,r){for(var t=r.c,i=r.l,a=new Int16Array(64),o=0;o<i;o++)for(var f=0;f<t;f++){var l=64*((r.c+1)*o+f),s=a,u=r.G,d=r.a;if(!u)throw new n("missing required Quantization Table.");for(var c=0;64>c;c+=8){var h=d[l+c],v=d[l+c+1],g=d[l+c+2],p=d[l+c+3],w=d[l+c+4],m=d[l+c+5],b=d[l+c+6],_=d[l+c+7];if(h*=u[c],0==(v|g|p|w|m|b|_))h=5793*h+512>>10,s[c]=h,s[c+1]=h,s[c+2]=h,s[c+3]=h,s[c+4]=h,s[c+5]=h,s[c+6]=h,s[c+7]=h;else{v*=u[c+1],g*=u[c+2],p*=u[c+3],w*=u[c+4],m*=u[c+5];var y=5793*h+128>>8,E=5793*w+128>>8,P=g,I=b*=u[c+6];E=(y=y+E+1>>1)-E,h=3784*P+1567*I+128>>8,P=1567*P-3784*I+128>>8,m=(w=(w=2896*(v-(_*=u[c+7]))+128>>8)+(m<<=4)+1>>1)-m,p=(_=(_=2896*(v+_)+128>>8)+(p<<=4)+1>>1)-p,I=(y=y+(I=h)+1>>1)-I,P=(E=E+P+1>>1)-P,h=2276*w+3406*_+2048>>12,w=3406*w-2276*_+2048>>12,_=h,h=799*p+4017*m+2048>>12,p=4017*p-799*m+2048>>12,m=h,s[c]=y+_,s[c+7]=y-_,s[c+1]=E+m,s[c+6]=E-m,s[c+2]=P+p,s[c+5]=P-p,s[c+3]=I+w,s[c+4]=I-w}}for(u=0;8>u;++u)h=s[u],0==((v=s[u+8])|(g=s[u+16])|(p=s[u+24])|(w=s[u+32])|(m=s[u+40])|(b=s[u+48])|(_=s[u+56]))?(h=-2040>(h=5793*h+8192>>14)?0:2024<=h?255:h+2056>>4,d[l+u]=h,d[l+u+8]=h,d[l+u+16]=h,d[l+u+24]=h,d[l+u+32]=h,d[l+u+40]=h,d[l+u+48]=h,d[l+u+56]=h):(y=5793*h+2048>>12,E=5793*w+2048>>12,h=3784*(P=g)+1567*(I=b)+2048>>12,P=1567*P-3784*I+2048>>12,I=h,m=(w=(w=2896*(v-_)+2048>>12)+m+1>>1)-m,p=(_=(_=2896*(v+_)+2048>>12)+p+1>>1)-p,h=2276*w+3406*_+2048>>12,w=3406*w-2276*_+2048>>12,_=h,h=799*p+4017*m+2048>>12,p=4017*p-799*m+2048>>12,v=(E=(E=(y=4112+(y+E+1>>1))-E)+P+1>>1)+(m=h),b=E-m,m=(P=E-P)-p,h=16>(h=(y=y+I+1>>1)+_)?0:4080<=h?255:h>>4,v=16>v?0:4080<=v?255:v>>4,g=16>(g=P+p)?0:4080<=g?255:g>>4,p=16>(p=(I=y-I)+w)?0:4080<=p?255:p>>4,w=16>(w=I-w)?0:4080<=w?255:w>>4,m=16>m?0:4080<=m?255:m>>4,b=16>b?0:4080<=b?255:b>>4,_=16>(_=y-_)?0:4080<=_?255:_>>4,d[l+u]=h,d[l+u+8]=v,d[l+u+16]=g,d[l+u+24]=p,d[l+u+32]=w,d[l+u+40]=m,d[l+u+48]=b,d[l+u+56]=_)}return r.a}function l(e,r){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:r,i=e.length-1;if(t=t<r?t:r,r>=i)return null;var n=e[r]<<8|e[r+1];if(65472<=n&&65534>=n)return{f:null,F:n,offset:r};for(var a=e[t]<<8|e[t+1];!(65472<=a&&65534>=a);){if(++t>=i)return null;a=e[t]<<8|e[t+1]}return{f:n.toString(16),F:a,offset:t}}var s=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);r.prototype={parse:function(e){function r(){var r=e[h]<<8|e[h+1];return h+=2,r}function i(){var t=r(),i=l(e,t=h+t-2,h);return i&&i.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+i.f),t=i.offset),t=e.subarray(h,t),h+=t.length,t}function u(e){for(var r=Math.ceil(e.v/8/e.s),t=Math.ceil(e.g/8/e.u),i=0;i<e.b.length;i++){S=e.b[i];var n=Math.ceil(Math.ceil(e.v/8)*S.h/e.s),a=Math.ceil(Math.ceil(e.g/8)*S.j/e.u);S.a=new Int16Array(64*t*S.j*(r*S.h+1)),S.c=n,S.l=a}e.P=r,e.O=t}var d=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).N,c=void 0===d?null:d,h=0,v=null,g=0;d=[];var p=[],w=[],m=r();if(65496!==m)throw new n("SOI not found");for(m=r();65497!==m;){switch(m){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var b=i();65518===m&&65===b[0]&&100===b[1]&&111===b[2]&&98===b[3]&&101===b[4]&&(v={version:b[5]<<8|b[6],Y:b[7]<<8|b[8],Z:b[9]<<8|b[10],W:b[11]});break;case 65499:m=r()+h-2;for(var _;h<m;){var y=e[h++],E=new Uint16Array(64);if(0==y>>4)for(b=0;64>b;b++)E[_=s[b]]=e[h++];else{if(1!=y>>4)throw new n("DQT - invalid table spec");for(b=0;64>b;b++)E[_=s[b]]=r()}d[15&y]=E}break;case 65472:case 65473:case 65474:if(P)throw new n("Only single frame JPEGs supported");r();var P={};for(P.X=65473===m,P.S=65474===m,P.precision=e[h++],m=r(),P.g=c||m,P.v=r(),P.b=[],P.C={},b=e[h++],m=E=y=0;m<b;m++){_=e[h];var I=e[h+1]>>4,D=15&e[h+1];y<I&&(y=I),E<D&&(E=D),I=P.b.push({h:I,j:D,T:e[h+2],G:null}),P.C[_]=I-1,h+=3}P.s=y,P.u=E,u(P);break;case 65476:for(_=r(),m=2;m<_;){for(y=e[h++],E=new Uint8Array(16),b=I=0;16>b;b++,h++)I+=E[b]=e[h];for(D=new Uint8Array(I),b=0;b<I;b++,h++)D[b]=e[h];m+=17+I,(0==y>>4?w:p)[15&y]=t(E,D)}break;case 65501:r();var A=r();break;case 65498:for(b=1==++g&&!c,r(),y=e[h++],_=[],m=0;m<y;m++){E=P.C[e[h++]];var S=P.b[E];E=e[h++],S.D=w[E>>4],S.o=p[15&E],_.push(S)}m=e[h++],y=e[h++],E=e[h++];try{var C=o(e,h,P,_,A,m,y,E>>4,15&E,b);h+=C}catch(U){if(U instanceof a)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(e,{N:U.g});throw U}break;case 65500:h+=4;break;case 65535:255!==e[h]&&h--;break;default:if(255===e[h-3]&&192<=e[h-2]&&254>=e[h-2])h-=3;else{if(!(b=l(e,h-2))||!b.f)throw new n("unknown marker "+m.toString(16));(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+b.f),h=b.offset}}m=r()}for(this.width=P.v,this.height=P.g,this.A=v,this.b=[],m=0;m<P.b.length;m++)(A=d[(S=P.b[m]).T])&&(S.G=A),this.b.push({R:f(0,S),U:S.h/P.s,V:S.j/P.u,c:S.c,l:S.l});this.i=this.b.length},L:function(e,r){var t,i,n=this.width/e,a=this.height/r,o=this.b.length,f=e*r*o,l=new Uint8ClampedArray(f),s=new Uint32Array(e);for(i=0;i<o;i++){var u=this.b[i],d=u.U*n,c=u.V*a,h=i,v=u.R,g=u.c+1<<3;for(t=0;t<e;t++)u=0|t*d,s[t]=(4294967288&u)<<3|7&u;for(d=0;d<r;d++)for(u=g*(4294967288&(u=0|d*c))|(7&u)<<3,t=0;t<e;t++)l[h]=v[u+s[t]],h+=o}if(a=this.M)for(i=0;i<f;)for(n=u=0;u<o;u++,i++,n+=2)l[i]=(l[i]*a[n]>>8)+a[n+1];return l},w:function(){return this.A?!!this.A.W:3===this.i?0!==this.B:1===this.B},I:function(e){for(var r,t,i,n=0,a=e.length;n<a;n+=3)r=e[n],t=e[n+1],i=e[n+2],e[n]=r-179.456+1.402*i,e[n+1]=r+135.459-.344*t-.714*i,e[n+2]=r-226.816+1.772*t;return e},K:function(e){for(var r,t,i,n,a=0,o=0,f=e.length;o<f;o+=4)r=e[o],t=e[o+1],i=e[o+2],n=e[o+3],e[a++]=t*(-660635669420364e-19*t+.000437130475926232*i-54080610064599e-18*r+.00048449797120281*n-.154362151871126)-122.67195406894+i*(-.000957964378445773*i+.000817076911346625*r-.00477271405408747*n+1.53380253221734)+r*(.000961250184130688*r-.00266257332283933*n+.48357088451265)+n*(-.000336197177618394*n+.484791561490776),e[a++]=107.268039397724+t*(219927104525741e-19*t-.000640992018297945*i+.000659397001245577*r+.000426105652938837*n-.176491792462875)+i*(-.000778269941513683*i+.00130872261408275*r+.000770482631801132*n-.151051492775562)+r*(.00126935368114843*r-.00265090189010898*n+.25802910206845)+n*(-.000318913117588328*n-.213742400323665),e[a++]=t*(-.000570115196973677*t-263409051004589e-19*i+.0020741088115012*r-.00288260236853442*n+.814272968359295)-20.810012546947+i*(-153496057440975e-19*i-.000132689043961446*r+.000560833691242812*n-.195152027534049)+r*(.00174418132927582*r-.00255243321439347*n+.116935020465145)+n*(-.000343531996510555*n+.24165260232407);return e.subarray(0,a)},J:function(e){for(var r,t,i,n=0,a=e.length;n<a;n+=4)r=e[n],t=e[n+1],i=e[n+2],e[n]=434.456-r-1.402*i,e[n+1]=119.541-r+.344*t+.714*i,e[n+2]=481.816-r-1.772*t;return e},H:function(e){for(var r,t,i,n,a=0,o=1/255,f=0,l=e.length;f<l;f+=4)r=e[f]*o,t=e[f+1]*o,i=e[f+2]*o,n=e[f+3]*o,e[a++]=255+r*(-4.387332384609988*r+54.48615194189176*t+18.82290502165302*i+212.25662451639585*n-285.2331026137004)+t*(1.7149763477362134*t-5.6096736904047315*i-17.873870861415444*n-5.497006427196366)+i*(-2.5217340131683033*i-21.248923337353073*n+17.5119270841813)-n*(21.86122147463605*n+189.48180835922747),e[a++]=255+r*(8.841041422036149*r+60.118027045597366*t+6.871425592049007*i+31.159100130055922*n-79.2970844816548)+t*(-15.310361306967817*t+17.575251261109482*i+131.35250912493976*n-190.9453302588951)+i*(4.444339102852739*i+9.8632861493405*n-24.86741582555878)-n*(20.737325471181034*n+187.80453709719578),e[a++]=255+r*(.8842522430003296*r+8.078677503112928*t+30.89978309703729*i-.23883238689178934*n-14.183576799673286)+t*(10.49593273432072*t+63.02378494754052*i+50.606957656360734*n-112.23884253719248)+i*(.03296041114873217*i+115.60384449646641*n-193.58209356861505)-n*(22.33816807309886*n+180.12613974708367);return e.subarray(0,a)},getData:function(e,r,t){if(4<this.i)throw new n("Unsupported color mode");if(e=this.L(e,r),1===this.i&&t){t=e.length,r=new Uint8ClampedArray(3*t);for(var i=0,a=0;a<t;a++){var o=e[a];r[i++]=o,r[i++]=o,r[i++]=o}return r}if(3===this.i&&this.w())return this.I(e);if(4===this.i){if(this.w())return t?this.K(e):this.J(e);if(t)return this.H(e)}return e}},e.JpegDecoder=r}(),e.encodeImage=function(r,t,i,n){var a={t256:[t],t257:[i],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[i],t279:[t*i*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(n)for(var o in n)a[o]=n[o];var f=new Uint8Array(e.encode([a])),l=new Uint8Array(r),s=new Uint8Array(1e3+t*i*4);for(o=0;o<f.length;o++)s[o]=f[o];for(o=0;o<l.length;o++)s[1e3+o]=l[o];return s.buffer},e.encode=function(r){var t=new Uint8Array(2e4),i=4,n=e._binBE;t[0]=77,t[1]=77,t[3]=42;var a=8;n.writeUint(t,i,a),i+=4;for(var o=0;o<r.length;o++){var f=e._writeIFD(n,t,a,r[o]);a=f[1],o<r.length-1&&n.writeUint(t,f[0],a)}return t.slice(0,a).buffer},e.decode=function(r){e.decode._decodeG3.allow2D=null;var t=new Uint8Array(r),i=0,n=e._binBE.readASCII(t,i,2);i+=2;var a="II"==n?e._binLE:e._binBE;a.readUshort(t,i);i+=2;var o=a.readUint(t,i);i+=4;for(var f=[];;){var l=e._readIFD(a,t,o,f);if(0==(o=a.readUint(t,l)))break}return f},e.decodeImages=function(r,i){for(var n=new Uint8Array(r),a=e._binBE.readASCII(n,0,2),o=0;o<i.length;o++){var f=i[o];if(null!=f.t256){f.isLE="II"==a,f.width=f.t256[0],f.height=f.t257[0];var l=f.t259?f.t259[0]:1,s=f.t266?f.t266[0]:1;f.t284&&2==f.t284[0]&&t("PlanarConfiguration 2 should not be used!");var u=(f.t258?Math.min(32,f.t258[0]):1)*(f.t277?f.t277[0]:1),d=8*Math.ceil(f.width*u/8),c=f.t273;null==c&&(c=f.t324);var h=f.t279;1==l&&1==c.length&&(h=[f.height*(d>>>3)]),null==h&&(h=f.t325);var v=new Uint8Array(f.height*(d>>>3)),g=0;if(null!=f.t322){for(var p=f.t322[0],w=f.t323[0],m=Math.floor((f.width+p-1)/p),b=Math.floor((f.height+w-1)/w),_=new Uint8Array(0|Math.ceil(p*w*u/8)),y=0;y<b;y++)for(var E=0;E<m;E++){for(var P=y*m+E,I=0;I<_.length;I++)_[I]=0;e.decode._decompress(f,n,c[P],h[P],l,_,0,s),6==l?v=_:e._copyTile(_,0|Math.ceil(p*u/8),w,v,0|Math.ceil(f.width*u/8),f.height,0|Math.ceil(E*p*u/8),y*w)}g=8*v.length}else{var D=f.t278?f.t278[0]:f.height;D=Math.min(D,f.height);for(P=0;P<c.length;P++)e.decode._decompress(f,n,c[P],h[P],l,v,0|Math.ceil(g/8),s),g+=d*D;g=Math.min(g,8*v.length)}f.data=new Uint8Array(v.buffer,0,0|Math.ceil(g/8))}}},e.decode._decompress=function(i,n,a,o,f,l,s,u){if(1==f)for(var d=0;d<o;d++)l[s+d]=n[a+d];else if(3==f)e.decode._decodeG3(n,a,o,l,s,i.width,u);else if(4==f)e.decode._decodeG4(n,a,o,l,s,i.width,u);else if(5==f)e.decode._decodeLZW(n,a,l,s);else if(6==f)e.decode._decodeOldJPEG(i,n,a,o,l,s);else if(7==f)e.decode._decodeNewJPEG(i,n,a,o,l,s);else if(8==f)for(var c=new Uint8Array(n.buffer,a,o),h=r.inflate(c),v=0;v<h.length;v++)l[s+v]=h[v];else 32773==f?e.decode._decodePackBits(n,a,o,l,s):32809==f?e.decode._decodeThunder(n,a,o,l,s):t("Unknown compression",f);if(i.t317&&2==i.t317[0])for(var g=i.t277?i.t277[0]:1,p=i.t278?i.t278[0]:i.height,w=i.width*g,m=0;m<p;m++){var b=s+m*w;if(3==g)for(d=3;d<w;d+=3)l[b+d]=l[b+d]+l[b+d-3]&255,l[b+d+1]=l[b+d+1]+l[b+d-2]&255,l[b+d+2]=l[b+d+2]+l[b+d-1]&255;else for(d=g;d<w;d++)l[b+d]=l[b+d]+l[b+d-g]&255}},e.decode._decodeNikon=function(e,r,i,n,a){var o,f;t(e.slice(r,r+100)),o=e[r],f=e[++r],r++,t(o.toString(16),f.toString(16),i)},e.decode._decodeNewJPEG=function(r,t,i,n,a,o){var f=r.t347,l=f?f.length:0,s=new Uint8Array(l+n);if(f){for(var u=0,d=0;d<l-1&&(255!=f[d]||217!=f[d+1]);d++)s[u++]=f[d];var c=t[i],h=t[i+1];255==c&&216==h||(s[u++]=c,s[u++]=h);for(d=2;d<n;d++)s[u++]=t[i+d]}else for(d=0;d<n;d++)s[d]=t[i+d];if(32803==r.t262){var v=r.t258[0],g=(new LosslessJpegDecoder).decode(s),p=g.length;if(16==v)for(d=0;d<p;d++)a[o++]=255&g[d],a[o++]=g[d]>>>8;else{if(12!=v)throw new Error("unsupported bit depth "+v);for(d=0;d<p;d+=2)a[o++]=g[d]>>>4,a[o++]=255&(g[d]<<4|g[d+1]>>>8),a[o++]=255&g[d+1]}}else{var w=new e.JpegDecoder;w.parse(s);var m=w.getData(w.width,w.height);for(d=0;d<m.length;d++)a[o+d]=m[d]}6==r.t262[0]&&(r.t262[0]=2)},e.decode._decodeOldJPEGInit=function(e,r,i,n){var a,o,f,l,s,u=0,d=0,c=!1,h=e.t513,v=h?h[0]:0,g=e.t514,p=g?g[0]:0,w=e.t324||e.t273||h,m=e.t530,b=0,_=0,y=e.t277?e.t277[0]:1,E=e.t515;if(w&&(d=w[0],c=w.length>1),!c){if(255==r[i]&&216==r[i+1])return{jpegOffset:i};if(null!=h&&(255==r[i+v]&&216==r[i+v+1]?u=i+v:t("JPEGInterchangeFormat does not point to SOI"),null==g?t("JPEGInterchangeFormatLength field is missing"):(v>=d||v+p<=d)&&t("JPEGInterchangeFormatLength field value is invalid"),null!=u))return{jpegOffset:u}}if(null!=m&&(b=m[0],_=m[1]),null!=h&&null!=g)if(p>=2&&v+p<=d){for(a=255==r[i+v+p-2]&&216==r[i+v+p-1]?new Uint8Array(p-2):new Uint8Array(p),f=0;f<a.length;f++)a[f]=r[i+v+f];t("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else t("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(null==a){var P=0,I=[];I[P++]=255,I[P++]=216;var D=e.t519;if(null==D)throw new Error("JPEGQTables tag is missing");for(f=0;f<D.length;f++)for(I[P++]=255,I[P++]=219,I[P++]=0,I[P++]=67,I[P++]=f,l=0;l<64;l++)I[P++]=r[i+D[f]+l];for(s=0;s<2;s++){var A=e[0==s?"t520":"t521"];if(null==A)throw new Error((0==s?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(f=0;f<A.length;f++){I[P++]=255,I[P++]=196;var S=19;for(l=0;l<16;l++)S+=r[i+A[f]+l];for(I[P++]=S>>>8,I[P++]=255&S,I[P++]=f|s<<4,l=0;l<16;l++)I[P++]=r[i+A[f]+l];for(l=0;l<S;l++)I[P++]=r[i+A[f]+16+l]}}if(I[P++]=255,I[P++]=192,I[P++]=0,I[P++]=8+3*y,I[P++]=8,I[P++]=e.height>>>8&255,I[P++]=255&e.height,I[P++]=e.width>>>8&255,I[P++]=255&e.width,I[P++]=y,1==y)I[P++]=1,I[P++]=17,I[P++]=0;else for(f=0;f<3;f++)I[P++]=f+1,I[P++]=0!=f?17:(15&b)<<4|15&_,I[P++]=f;null!=E&&0!=E[0]&&(I[P++]=255,I[P++]=221,I[P++]=0,I[P++]=4,I[P++]=E[0]>>>8&255,I[P++]=255&E[0]),a=new Uint8Array(I)}var C=-1;for(f=0;f<a.length-1;){if(255==a[f]&&192==a[f+1]){C=f;break}f++}if(-1==C){var U=new Uint8Array(a.length+10+3*y);U.set(a);var B=a.length;if(C=a.length,(a=U)[B++]=255,a[B++]=192,a[B++]=0,a[B++]=8+3*y,a[B++]=8,a[B++]=e.height>>>8&255,a[B++]=255&e.height,a[B++]=e.width>>>8&255,a[B++]=255&e.width,a[B++]=y,1==y)a[B++]=1,a[B++]=17,a[B++]=0;else for(f=0;f<3;f++)a[B++]=f+1,a[B++]=0!=f?17:(15&b)<<4|15&_,a[B++]=f}if(255==r[d]&&218==r[d+1]){var M=r[d+2]<<8|r[d+3];for((o=new Uint8Array(M+2))[0]=r[d],o[1]=r[d+1],o[2]=r[d+2],o[3]=r[d+3],f=0;f<M-2;f++)o[f+4]=r[d+f+4]}else{var k=0;if((o=new Uint8Array(8+2*y))[k++]=255,o[k++]=218,o[k++]=0,o[k++]=6+2*y,o[k++]=y,1==y)o[k++]=1,o[k++]=0;else for(f=0;f<3;f++)o[k++]=f+1,o[k++]=f<<4|f;o[k++]=0,o[k++]=63,o[k++]=0}return{jpegOffset:i,tables:a,sosMarker:o,sofPosition:C}},e.decode._decodeOldJPEG=function(r,t,i,n,a,o){var f,l,s,u=e.decode._decodeOldJPEGInit(r,t,i,n);if(null!=u.jpegOffset)for(f=i+n-u.jpegOffset,s=new Uint8Array(f),h=0;h<f;h++)s[h]=t[u.jpegOffset+h];else{for(l=u.tables.length,(s=new Uint8Array(l+u.sosMarker.length+n+2)).set(u.tables),l,s[u.sofPosition+5]=r.height>>>8&255,s[u.sofPosition+6]=255&r.height,s[u.sofPosition+7]=r.width>>>8&255,s[u.sofPosition+8]=255&r.width,255==t[i]&&t[i+1]==SOS||(s.set(u.sosMarker,bufoff),bufoff+=sosMarker.length),h=0;h<n;h++)s[bufoff++]=t[i+h];s[bufoff++]=255,s[bufoff++]=EOI}var d=new e.JpegDecoder;d.parse(s);for(var c=d.getData(d.width,d.height),h=0;h<c.length;h++)a[o+h]=c[h];6==r.t262[0]&&(r.t262[0]=2)},e.decode._decodePackBits=function(e,r,t,i,n){for(var a=new Int8Array(e.buffer),o=new Int8Array(i.buffer),f=r+t;r<f;){var l=a[r];if(r++,l>=0&&l<128)for(var s=0;s<l+1;s++)o[n]=a[r],n++,r++;if(l>=-127&&l<0){for(s=0;s<1-l;s++)o[n]=a[r],n++;r++}}},e.decode._decodeThunder=function(e,r,t,i,n){for(var a=[0,1,0,-1],o=[0,1,2,3,0,-3,-2,-1],f=r+t,l=2*n,s=0;r<f;){var u=e[r],d=u>>>6,c=63&u;if(r++,3==d&&(s=15&c,i[l>>>1]|=s<<4*(1-l&1),l++),0==d)for(var h=0;h<c;h++)i[l>>>1]|=s<<4*(1-l&1),l++;if(2==d)for(h=0;h<2;h++){4!=(v=c>>>3*(1-h)&7)&&(s+=o[v],i[l>>>1]|=s<<4*(1-l&1),l++)}if(1==d)for(h=0;h<3;h++){var v;2!=(v=c>>>2*(2-h)&3)&&(s+=a[v],i[l>>>1]|=s<<4*(1-l&1),l++)}}},e.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},e.decode._lens=function(){var e=function(e,r,t,i){for(var n=0;n<r.length;n++)e[r[n]]=t+n*i},r="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",t="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",i="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",n="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",a="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";r=r.split(","),t=t.split(","),i=i.split(","),n=n.split(","),a=a.split(",");var o={},f={};return e(o,r,0,1),e(o,i,64,64),e(o,a,1792,64),e(f,t,0,1),e(f,n,64,64),e(f,a,1792,64),[o,f]}(),e.decode._decodeG4=function(r,t,i,n,a,o,f){for(var l=e.decode,s=t<<3,u=0,d="",c=[],h=[],v=0;v<o;v++)h.push(0);h=l._makeDiff(h);for(var g=0,p=0,w=0,m=0,b=0,_=0,y="",E=0,P=8*Math.ceil(o/8);s>>>3<t+i;){w=l._findDiff(h,g+(0==g?0:1),1-b),m=l._findDiff(h,w,b);var I=0;if(1==f&&(I=r[s>>>3]>>>7-(7&s)&1),2==f&&(I=r[s>>>3]>>>(7&s)&1),s++,d+=I,"H"==y){if(null!=l._lens[b][d]){var D=l._lens[b][d];d="",u+=D,D<64&&(l._addNtimes(c,u,b),g+=u,b=1-b,u=0,0==--E&&(y=""))}}else"0001"==d&&(d="",l._addNtimes(c,m-g,b),g=m),"001"==d&&(d="",y="H",E=2),null!=l._dmap[d]&&(p=w+l._dmap[d],l._addNtimes(c,p-g,b),g=p,d="",b=1-b);c.length==o&&""==y&&(l._writeBits(c,n,8*a+_*P),b=0,_++,g=0,h=l._makeDiff(c),c=[])}},e.decode._findDiff=function(e,r,t){for(var i=0;i<e.length;i+=2)if(e[i]>=r&&e[i+1]==t)return e[i]},e.decode._makeDiff=function(e){var r=[];1==e[0]&&r.push(0,1);for(var t=1;t<e.length;t++)e[t-1]!=e[t]&&r.push(t,e[t]);return r.push(e.length,0,e.length,1),r},e.decode._decodeG3=function(r,t,i,n,a,o,f){for(var l=e.decode,s=t<<3,u=0,d="",c=[],h=[],v=0;v<o;v++)c.push(0);for(var g=0,p=0,w=0,m=0,b=0,_=-1,y="",E=0,P=!1,I=8*Math.ceil(o/8);s>>>3<t+i;){w=l._findDiff(h,g+(0==g?0:1),1-b),m=l._findDiff(h,w,b);var D=0;if(1==f&&(D=r[s>>>3]>>>7-(7&s)&1),2==f&&(D=r[s>>>3]>>>(7&s)&1),s++,d+=D,P){if(null!=l._lens[b][d]){var A=l._lens[b][d];d="",u+=A,A<64&&(l._addNtimes(c,u,b),b=1-b,u=0)}}else if("H"==y){if(null!=l._lens[b][d]){A=l._lens[b][d];d="",u+=A,A<64&&(l._addNtimes(c,u,b),g+=u,b=1-b,u=0,0==--E&&(y=""))}}else"0001"==d&&(d="",l._addNtimes(c,m-g,b),g=m),"001"==d&&(d="",y="H",E=2),null!=l._dmap[d]&&(p=w+l._dmap[d],l._addNtimes(c,p-g,b),g=p,d="",b=1-b);d.endsWith("000000000001")&&(_>=0&&l._writeBits(c,n,8*a+_*I),1==f&&(P=1==(r[s>>>3]>>>7-(7&s)&1)),2==f&&(P=1==(r[s>>>3]>>>(7&s)&1)),s++,null==l._decodeG3.allow2D&&(l._decodeG3.allow2D=P),l._decodeG3.allow2D||(P=!0,s--),d="",b=0,_++,g=0,h=l._makeDiff(c),c=[])}c.length==o&&l._writeBits(c,n,8*a+_*I)},e.decode._addNtimes=function(e,r,t){for(var i=0;i<r;i++)e.push(t)},e.decode._writeBits=function(e,r,t){for(var i=0;i<e.length;i++)r[t+i>>>3]|=e[i]<<7-(t+i&7)},e.decode._decodeLZW=function(r,t,i,n){if(null==e.decode._lzwTab){for(var a=new Uint32Array(65535),o=new Uint16Array(65535),f=new Uint8Array(2e6),l=0;l<256;l++)f[l<<2]=l,a[l]=l<<2,o[l]=1;e.decode._lzwTab=[a,o,f]}for(var s=e.decode._copyData,u=e.decode._lzwTab[0],d=e.decode._lzwTab[1],c=(f=e.decode._lzwTab[2],258),h=1032,v=9,g=t<<3,p=0,w=0;p=(r[g>>>3]<<16|r[g+8>>>3]<<8|r[g+16>>>3])>>24-(7&g)-v&(1<<v)-1,g+=v,257!=p;){if(256==p){if(v=9,c=258,h=1032,p=(r[g>>>3]<<16|r[g+8>>>3]<<8|r[g+16>>>3])>>24-(7&g)-v&(1<<v)-1,g+=v,257==p)break;i[n]=p,n++}else if(p<c){var m=u[p],b=d[p];if(s(f,m,i,n,b),n+=b,w>=c)u[c]=h,f[u[c]]=m[0],d[c]=1,h=h+1+3&-4,c++;else u[c]=h,s(f,u[w],f,h,_=d[w]),f[h+_]=f[m],_++,d[c]=_,c++,h=h+_+3&-4;c+1==1<<v&&v++}else{var _;if(w>=c)u[c]=h,d[c]=0,c++;else u[c]=h,s(f,u[w],f,h,_=d[w]),f[h+_]=f[h],_++,d[c]=_,c++,s(f,h,i,n,_),n+=_,h=h+_+3&-4;c+1==1<<v&&v++}w=p}},e.decode._copyData=function(e,r,t,i,n){for(var a=0;a<n;a+=4)t[i+a]=e[r+a],t[i+a+1]=e[r+a+1],t[i+a+2]=e[r+a+2],t[i+a+3]=e[r+a+3]},e.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},e.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},e._readIFD=function(r,i,n,a){var o=r.readUshort(i,n);n+=2;var f={};a.push(f);for(var l=0;l<o;l++){var s=r.readUshort(i,n);n+=2;var u=r.readUshort(i,n);n+=2;var d=r.readUint(i,n);n+=4;var c=r.readUint(i,n);n+=4;var h=[];if(f["t"+s]=h,1==u||7==u)for(var v=0;v<d;v++)h.push(i[(d<5?n-4:c)+v]);if(2==u&&h.push(r.readASCII(i,d<5?n-4:c,d-1)),3==u)for(v=0;v<d;v++)h.push(r.readUshort(i,(d<3?n-4:c)+2*v));if(4==u)for(v=0;v<d;v++)h.push(r.readUint(i,(d<2?n-4:c)+4*v));if(5==u)for(v=0;v<d;v++)h.push(r.readUint(i,c+8*v)/r.readUint(i,c+8*v+4));if(8==u)for(v=0;v<d;v++)h.push(r.readShort(i,(d<3?n-4:c)+2*v));if(9==u)for(v=0;v<d;v++)h.push(r.readInt(i,(d<2?n-4:c)+4*v));if(10==u)for(v=0;v<d;v++)h.push(r.readInt(i,c+8*v)/r.readInt(i,c+8*v+4));if(11==u)for(v=0;v<d;v++)h.push(r.readFloat(i,c+4*v));if(12==u)for(v=0;v<d;v++)h.push(r.readDouble(i,c+8*v));if(0!=d&&0==h.length&&t("unknown TIFF tag type: ",u,"num:",d),330==s)for(v=0;v<d;v++)e._readIFD(r,i,h[v],a)}return n},e._writeIFD=function(r,t,i,n){var a=Object.keys(n);r.writeUshort(t,i,a.length);for(var o=(i+=2)+12*a.length+4,f=0;f<a.length;f++){var l=a[f],s=parseInt(l.slice(1)),u=e.ttypes[s];if(null==u)throw new Error("unknown type of tag: "+s);var d=n[l];2==u&&(d=d[0]+"\0");var c=d.length;r.writeUshort(t,i,s),i+=2,r.writeUshort(t,i,u),i+=2,r.writeUint(t,i,c);var h=[-1,1,1,2,4,8,0,0,0,0,0,0,8][u]*c,v=i+=4;if(h>4&&(r.writeUint(t,i,o),v=o),2==u&&r.writeASCII(t,v,d),3==u)for(var g=0;g<c;g++)r.writeUshort(t,v+2*g,d[g]);if(4==u)for(g=0;g<c;g++)r.writeUint(t,v+4*g,d[g]);if(5==u)for(g=0;g<c;g++)r.writeUint(t,v+8*g,Math.round(1e4*d[g])),r.writeUint(t,v+8*g+4,1e4);if(12==u)for(g=0;g<c;g++)r.writeDouble(t,v+8*g,d[g]);h>4&&(o+=h+=1&h),i+=4}return[i,o]},e.toRGBA8=function(e){var r=e.width,i=e.height,n=r*i,a=4*n,o=e.data,f=new Uint8Array(4*n),l=e.t262[0],s=e.t258?Math.min(32,e.t258[0]):1,u=e.isLE?1:0;if(0==l)for(var d=Math.ceil(s*r/8),c=0;c<i;c++){var h=c*d,v=c*r;if(1==s)for(var g=0;g<r;g++){var p=v+g<<2,w=o[h+(g>>3)]>>7-(7&g)&1;f[p]=f[p+1]=f[p+2]=255*(1-w),f[p+3]=255}if(4==s)for(g=0;g<r;g++){p=v+g<<2,w=o[h+(g>>1)]>>4-4*(1&g)&15;f[p]=f[p+1]=f[p+2]=17*(15-w),f[p+3]=255}if(8==s)for(g=0;g<r;g++){p=v+g<<2,w=o[h+g];f[p]=f[p+1]=f[p+2]=255-w,f[p+3]=255}}else if(1==l)for(d=Math.ceil(s*r/8),c=0;c<i;c++){h=c*d,v=c*r;if(1==s)for(g=0;g<r;g++){p=v+g<<2,w=o[h+(g>>3)]>>7-(7&g)&1;f[p]=f[p+1]=f[p+2]=255*w,f[p+3]=255}if(2==s)for(g=0;g<r;g++){p=v+g<<2,w=o[h+(g>>2)]>>6-2*(3&g)&3;f[p]=f[p+1]=f[p+2]=85*w,f[p+3]=255}if(8==s)for(g=0;g<r;g++){p=v+g<<2,w=o[h+g];f[p]=f[p+1]=f[p+2]=w,f[p+3]=255}if(16==s)for(g=0;g<r;g++){p=v+g<<2,w=o[h+(2*g+u)];f[p]=f[p+1]=f[p+2]=Math.min(255,w),f[p+3]=255}}else if(2==l)if(8==s)if(e.t338)if(e.t338[0]>0)for(g=0;g<a;g++)f[g]=o[g];else for(g=0;g<a;g+=4)f[g]=o[g],f[g+1]=o[g+1],f[g+2]=o[g+2],f[g+3]=255;else{if(4==(y=e.t258?e.t258.length:3))for(g=0;g<a;g++)f[g]=o[g];if(3==y)for(g=0;g<n;g++){var m=3*g;f[p=g<<2]=o[m],f[p+1]=o[m+1],f[p+2]=o[m+2],f[p+3]=255}}else for(g=0;g<n;g++){m=6*g;f[p=g<<2]=o[m],f[p+1]=o[m+2],f[p+2]=o[m+4],f[p+3]=255}else if(3==l){var b=e.t320;for(g=0;g<n;g++){p=g<<2;var _=o[g];f[p]=b[_]>>8,f[p+1]=b[256+_]>>8,f[p+2]=b[512+_]>>8,f[p+3]=255}}else if(5==l){var y,E=(y=e.t258?e.t258.length:4)>4?1:0;for(g=0;g<n;g++){p=g<<2;var P=g*y,I=255-o[P],D=255-o[P+1],A=255-o[P+2],S=(255-o[P+3])*(1/255);f[p]=~~(I*S+.5),f[p+1]=~~(D*S+.5),f[p+2]=~~(A*S+.5),f[p+3]=255*(1-E)+o[P+4]*E}}else t("Unknown Photometric interpretation: "+l);return f},e.replaceIMG=function(){for(var r=document.getElementsByTagName("img"),t=0;t<r.length;t++){var i=r[t],n=i.getAttribute("src");if(null!=n){var a=n.split(".").pop().toLowerCase();if("tif"==a||"tiff"==a){var o=new XMLHttpRequest;e._xhrs.push(o),e._imgs.push(i),o.open("GET",n),o.responseType="arraybuffer",o.onload=e._imgLoaded,o.send()}}}},e._xhrs=[],e._imgs=[],e._imgLoaded=function(r){var t=r.target.response,i=e.decode(t),n=i[0];e.decodeImages(t,i);var a=e.toRGBA8(n),o=n.width,f=n.height,l=e._xhrs.indexOf(r.target),s=e._imgs[l];e._xhrs.splice(l,1),e._imgs.splice(l,1);var u=document.createElement("canvas");u.width=o,u.height=f;for(var d=u.getContext("2d"),c=d.createImageData(o,f),h=0;h<a.length;h++)c.data[h]=a[h];d.putImageData(c,0,0);var v=["style","class","id"];for(h=0;h<v.length;h++)u.setAttribute(v[h],s.getAttribute(v[h]));s.parentNode.replaceChild(u,s)},e._binBE={nextZero:function(e,r){for(;0!=e[r];)r++;return r},readUshort:function(e,r){return e[r]<<8|e[r+1]},readShort:function(r,t){var i=e._binBE.ui8;return i[0]=r[t+1],i[1]=r[t+0],e._binBE.i16[0]},readInt:function(r,t){var i=e._binBE.ui8;return i[0]=r[t+3],i[1]=r[t+2],i[2]=r[t+1],i[3]=r[t+0],e._binBE.i32[0]},readUint:function(r,t){var i=e._binBE.ui8;return i[0]=r[t+3],i[1]=r[t+2],i[2]=r[t+1],i[3]=r[t+0],e._binBE.ui32[0]},readASCII:function(e,r,t){for(var i="",n=0;n<t;n++)i+=String.fromCharCode(e[r+n]);return i},readFloat:function(r,t){for(var i=e._binBE.ui8,n=0;n<4;n++)i[n]=r[t+3-n];return e._binBE.fl32[0]},readDouble:function(r,t){for(var i=e._binBE.ui8,n=0;n<8;n++)i[n]=r[t+7-n];return e._binBE.fl64[0]},writeUshort:function(e,r,t){e[r]=t>>8&255,e[r+1]=255&t},writeUint:function(e,r,t){e[r]=t>>24&255,e[r+1]=t>>16&255,e[r+2]=t>>8&255,e[r+3]=t>>0&255},writeASCII:function(e,r,t){for(var i=0;i<t.length;i++)e[r+i]=t.charCodeAt(i)},writeDouble:function(r,t,i){e._binBE.fl64[0]=i;for(var n=0;n<8;n++)r[t+n]=e._binBE.ui8[7-n]}},e._binBE.ui8=new Uint8Array(8),e._binBE.i16=new Int16Array(e._binBE.ui8.buffer),e._binBE.i32=new Int32Array(e._binBE.ui8.buffer),e._binBE.ui32=new Uint32Array(e._binBE.ui8.buffer),e._binBE.fl32=new Float32Array(e._binBE.ui8.buffer),e._binBE.fl64=new Float64Array(e._binBE.ui8.buffer),e._binLE={nextZero:e._binBE.nextZero,readUshort:function(e,r){return e[r+1]<<8|e[r]},readShort:function(r,t){var i=e._binBE.ui8;return i[0]=r[t+0],i[1]=r[t+1],e._binBE.i16[0]},readInt:function(r,t){var i=e._binBE.ui8;return i[0]=r[t+0],i[1]=r[t+1],i[2]=r[t+2],i[3]=r[t+3],e._binBE.i32[0]},readUint:function(r,t){var i=e._binBE.ui8;return i[0]=r[t+0],i[1]=r[t+1],i[2]=r[t+2],i[3]=r[t+3],e._binBE.ui32[0]},readASCII:e._binBE.readASCII,readFloat:function(r,t){for(var i=e._binBE.ui8,n=0;n<4;n++)i[n]=r[t+n];return e._binBE.fl32[0]},readDouble:function(r,t){for(var i=e._binBE.ui8,n=0;n<8;n++)i[n]=r[t+n];return e._binBE.fl64[0]}},e._copyTile=function(e,r,t,i,n,a,o,f){for(var l=Math.min(r,n-o),s=Math.min(t,a-f),u=0;u<s;u++)for(var d=(f+u)*n+o,c=u*r,h=0;h<l;h++)i[d+h]=e[c+h]}}(r,"function"==typeof require?require("pako"):self.pako)}();
},{"pako":"t52q","process":"rH1J"}],"bPGw":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,t=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime/helpers/defineProperty")),a=t(require("utif")),u="image/tiff",f=function(){return{mime:(0,r.default)({},u,["tiff","tif"]),constants:{MIME_TIFF:u},decoders:(0,r.default)({},u,function(t){var r=a.default.decode(t),u=r[0];a.default.decodeImages(t,r);var f=a.default.toRGBA8(u);return{data:e.from(f),width:u.t256[0],height:u.t257[0]}}),encoders:(0,r.default)({},u,function(t){var r=a.default.encodeImage(t.bitmap.data,t.bitmap.width,t.bitmap.height);return e.from(r)})}};exports.default=f;
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/defineProperty":"6x3D","utif":"bjqy","buffer":"VjIL"}],"S6Cm":[function(require,module,exports) {
"use strict";function r(r,t,n,o){var a=0,i=void 0===(o=void 0===o?{}:o).loop?null:o.loop,l=void 0===o.palette?null:o.palette;if(t<=0||n<=0||t>65535||n>65535)throw new Error("Width/Height invalid.");function f(r){var e=r.length;if(e<2||e>256||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}r[a++]=71,r[a++]=73,r[a++]=70,r[a++]=56,r[a++]=57,r[a++]=97;var h=0,s=0;if(null!==l){for(var u=f(l);u>>=1;)++h;if(u=1<<h,--h,void 0!==o.background){if((s=o.background)>=u)throw new Error("Background index out of range.");if(0===s)throw new Error("Background index explicitly passed as 0.")}}if(r[a++]=255&t,r[a++]=t>>8&255,r[a++]=255&n,r[a++]=n>>8&255,r[a++]=(null!==l?128:0)|h,r[a++]=s,r[a++]=0,null!==l)for(var d=0,v=l.length;d<v;++d){var c=l[d];r[a++]=c>>16&255,r[a++]=c>>8&255,r[a++]=255&c}if(null!==i){if(i<0||i>65535)throw new Error("Loop count invalid.");r[a++]=33,r[a++]=255,r[a++]=11,r[a++]=78,r[a++]=69,r[a++]=84,r[a++]=83,r[a++]=67,r[a++]=65,r[a++]=80,r[a++]=69,r[a++]=50,r[a++]=46,r[a++]=48,r[a++]=3,r[a++]=1,r[a++]=255&i,r[a++]=i>>8&255,r[a++]=0}var w=!1;this.addFrame=function(t,n,o,i,h,s){if(!0===w&&(--a,w=!1),s=void 0===s?{}:s,t<0||n<0||t>65535||n>65535)throw new Error("x/y invalid.");if(o<=0||i<=0||o>65535||i>65535)throw new Error("Width/Height invalid.");if(h.length<o*i)throw new Error("Not enough pixels for the frame size.");var u=!0,d=s.palette;if(null==d&&(u=!1,d=l),null==d)throw new Error("Must supply either a local or global palette.");for(var v=f(d),c=0;v>>=1;)++c;v=1<<c;var g=void 0===s.delay?0:s.delay,p=void 0===s.disposal?0:s.disposal;if(p<0||p>3)throw new Error("Disposal out of range.");var k=!1,x=0;if(void 0!==s.transparent&&null!==s.transparent&&(k=!0,(x=s.transparent)<0||x>=v))throw new Error("Transparent color index.");if((0!==p||k||0!==g)&&(r[a++]=33,r[a++]=249,r[a++]=4,r[a++]=p<<2|(!0===k?1:0),r[a++]=255&g,r[a++]=g>>8&255,r[a++]=x,r[a++]=0),r[a++]=44,r[a++]=255&t,r[a++]=t>>8&255,r[a++]=255&n,r[a++]=n>>8&255,r[a++]=255&o,r[a++]=o>>8&255,r[a++]=255&i,r[a++]=i>>8&255,r[a++]=!0===u?128|c-1:0,!0===u)for(var b=0,E=d.length;b<E;++b){var y=d[b];r[a++]=y>>16&255,r[a++]=y>>8&255,r[a++]=255&y}return a=e(r,a,c<2?2:c,h)},this.end=function(){return!1===w&&(r[a++]=59,w=!0),a},this.getOutputBuffer=function(){return r},this.setOutputBuffer=function(e){r=e},this.getOutputBufferPosition=function(){return a},this.setOutputBufferPosition=function(r){a=r}}function e(r,e,t,n){r[e++]=t;var o=e++,a=1<<t,i=a-1,l=a+1,f=l+1,h=t+1,s=0,u=0;function d(t){for(;s>=t;)r[e++]=255&u,u>>=8,s-=8,e===o+256&&(r[o]=255,o=e++)}function v(r){u|=r<<s,s+=h,d(8)}var c=n[0]&i,w={};v(a);for(var g=1,p=n.length;g<p;++g){var k=n[g]&i,x=c<<8|k,b=w[x];if(void 0===b){for(u|=c<<s,s+=h;s>=8;)r[e++]=255&u,u>>=8,s-=8,e===o+256&&(r[o]=255,o=e++);4096===f?(v(a),f=l+1,h=t+1,w={}):(f>=1<<h&&++h,w[x]=f++),c=k}else c=b}return v(c),v(l),d(1),o+1===e?r[o]=0:(r[o]=e-o-1,r[e++]=0),e}function t(r){var e=0;if(71!==r[e++]||73!==r[e++]||70!==r[e++]||56!==r[e++]||56!=(r[e++]+1&253)||97!==r[e++])throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,o=r[e++]|r[e++]<<8,a=r[e++],i=a>>7,l=1<<(7&a)+1;r[e++];r[e++];var f=null,h=null;i&&(f=e,h=l,e+=3*l);var s=!0,u=[],d=0,v=null,c=0,w=null;for(this.width=t,this.height=o;s&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(11!==r[e]||78==r[e+1]&&69==r[e+2]&&84==r[e+3]&&83==r[e+4]&&67==r[e+5]&&65==r[e+6]&&80==r[e+7]&&69==r[e+8]&&50==r[e+9]&&46==r[e+10]&&48==r[e+11]&&3==r[e+12]&&1==r[e+13]&&0==r[e+16])e+=14,w=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((F=r[e++])>=0))throw Error("Invalid block size");if(0===F)break;e+=F}break;case 249:if(4!==r[e++]||0!==r[e+4])throw new Error("Invalid graphics extension block.");var g=r[e++];d=r[e++]|r[e++]<<8,v=r[e++],0==(1&g)&&(v=null),c=g>>2&7,e++;break;case 254:for(;;){if(!((F=r[e++])>=0))throw Error("Invalid block size");if(0===F)break;e+=F}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var p=r[e++]|r[e++]<<8,k=r[e++]|r[e++]<<8,x=r[e++]|r[e++]<<8,b=r[e++]|r[e++]<<8,E=r[e++],y=E>>6&1,m=1<<(7&E)+1,_=f,I=h,B=!1;if(E>>7){B=!0;_=e,I=m,e+=3*m}var A=e;for(e++;;){var F;if(!((F=r[e++])>=0))throw Error("Invalid block size");if(0===F)break;e+=F}u.push({x:p,y:k,width:x,height:b,has_local_palette:B,palette_offset:_,palette_size:I,data_offset:A,data_length:e-A,transparent_index:v,interlaced:!!y,delay:d,disposal:c});break;case 59:s=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return w},this.frameInfo=function(r){if(r<0||r>=u.length)throw new Error("Frame index out of range.");return u[r]},this.decodeAndBlitFrameBGRA=function(e,o){var a=this.frameInfo(e),i=a.width*a.height,l=new Uint8Array(i);n(r,a.data_offset,l,i);var f=a.palette_offset,h=a.transparent_index;null===h&&(h=256);var s=a.width,u=t-s,d=s,v=4*(a.y*t+a.x),c=4*((a.y+a.height)*t+a.x),w=v,g=4*u;!0===a.interlaced&&(g+=4*t*7);for(var p=8,k=0,x=l.length;k<x;++k){var b=l[k];if(0===d&&(d=s,(w+=g)>=c&&(g=4*u+4*t*(p-1),w=v+(s+u)*(p<<1),p>>=1)),b===h)w+=4;else{var E=r[f+3*b],y=r[f+3*b+1],m=r[f+3*b+2];o[w++]=m,o[w++]=y,o[w++]=E,o[w++]=255}--d}},this.decodeAndBlitFrameRGBA=function(e,o){var a=this.frameInfo(e),i=a.width*a.height,l=new Uint8Array(i);n(r,a.data_offset,l,i);var f=a.palette_offset,h=a.transparent_index;null===h&&(h=256);var s=a.width,u=t-s,d=s,v=4*(a.y*t+a.x),c=4*((a.y+a.height)*t+a.x),w=v,g=4*u;!0===a.interlaced&&(g+=4*t*7);for(var p=8,k=0,x=l.length;k<x;++k){var b=l[k];if(0===d&&(d=s,(w+=g)>=c&&(g=4*u+4*t*(p-1),w=v+(s+u)*(p<<1),p>>=1)),b===h)w+=4;else{var E=r[f+3*b],y=r[f+3*b+1],m=r[f+3*b+2];o[w++]=E,o[w++]=y,o[w++]=m,o[w++]=255}--d}}}function n(r,e,t,n){for(var o=r[e++],a=1<<o,i=a+1,l=i+1,f=o+1,h=(1<<f)-1,s=0,u=0,d=0,v=r[e++],c=new Int32Array(4096),w=null;;){for(;s<16&&0!==v;)u|=r[e++]<<s,s+=8,1===v?v=r[e++]:--v;if(s<f)break;var g=u&h;if(u>>=f,s-=f,g!==a){if(g===i)break;for(var p=g<l?g:w,k=0,x=p;x>a;)x=c[x]>>8,++k;var b=x;if(d+k+(p!==g?1:0)>n)return void console.log("Warning, gif stream longer than expected.");t[d++]=b;var E=d+=k;for(p!==g&&(t[d++]=b),x=p;k--;)x=c[x],t[--E]=255&x,x>>=8;null!==w&&l<4096&&(c[l++]=w<<8|b,l>=h+1&&f<12&&(++f,h=h<<1|1)),w=g}else l=i+1,h=(1<<(f=o+1))-1,w=null}return d!==n&&console.log("Warning, gif stream shorter than expected."),t}try{exports.GifWriter=r,exports.GifReader=t}catch(o){}
},{}],"kvY1":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;class i{constructor(...e){if(0===e.length)throw new Error("constructor requires parameters");const r=e[0];if(null!==r&&"object"==typeof r)if(r instanceof i){const i=r.bitmap;this.bitmap={width:i.width,height:i.height,data:new t(i.width*i.height*4)},i.data.copy(this.bitmap.data)}else{if(!(r.width&&r.height&&r.data))throw new Error("unrecognized constructor parameters");this.bitmap=r}else{if("number"!=typeof r||"number"!=typeof e[1])throw new Error("unrecognized constructor parameters");{const i=r,h=e[1],a=e[2];this.bitmap={width:i,height:h},t.isBuffer(a)?this.bitmap.data=a:(this.bitmap.data=new t(i*h*4),"number"==typeof a&&this.fillRGBA(a))}}}blit(t,i,e,r,h,a,s){if(r+a>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(i+a>t.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(h+s>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(e+s>t.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const o=this.bitmap.data,n=t.bitmap.data,p=4*this.bitmap.width,d=4*t.bitmap.width,m=4*a;let b=h*p+4*r,c=e*d+4*i;for(;--s>=0;)o.copy(n,c,b,b+m),b+=p,c+=d;return this}fillRGBA(t){const i=this.bitmap.data,e=4*this.bitmap.height;let r=0;for(;r<e;)i.writeUInt32BE(t,r),r+=4;for(;r<i.length;)i.copy(i,r,0,e),r+=e;return this}getRGBA(t,i){const e=4*(i*this.bitmap.width+t);return this.bitmap.data.readUInt32BE(e)}getRGBASet(){const t=new Set,i=this.bitmap.data;for(let e=0;e<i.length;e+=4)t.add(i.readUInt32BE(e,!0));return t}greyscale(){const t=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(i,e,r)=>{const h=Math.round(.299*t[r]+.587*t[r+1]+.114*t[r+2]);t[r]=h,t[r+1]=h,t[r+2]=h}),this}reframe(t,e,r,h,a){const s=t<0?0:t,o=e<0?0:e,n=r+s>this.bitmap.width?this.bitmap.width-s:r,p=h+o>this.bitmap.height?this.bitmap.height-o:h,d=t<0?-t:0,m=e<0?-e:0;let b;if(void 0===a){if(s!==t||o!=e||n!==r||p!==h)throw new GifError("fillRGBA required for this reframing");b=new i(r,h)}else b=new i(r,h,a);return this.blit(b,d,m,s,o,n,p),this.bitmap=b.bitmap,this}scale(i){if(1===i)return;if(!Number.isInteger(i)||i<1)throw new Error("the scale must be an integer >= 1");const e=this.bitmap.width,r=this.bitmap.height,h=e*i*4,a=this.bitmap.data,s=new t(r*h*i);let o,n=0,p=0;for(let t=0;t<r;++t){o=p;for(let t=0;t<e;++t){const t=a.readUInt32BE(n,!0);for(let e=0;e<i;++e)s.writeUInt32BE(t,p),p+=4;n+=4}for(let t=1;t<i;++t)s.copy(s,p,o,p),p+=h,o+=h}return this.bitmap={width:e*i,height:r*i,data:s},this}scanAllCoords(t){const i=this.bitmap.width,e=this.bitmap.data.length;let r=0,h=0;for(let a=0;a<e;a+=4)t(r,h,a),++r===i&&(r=0,++h)}scanAllIndexes(t){const i=this.bitmap.data.length;for(let e=0;e<i;e+=4)t(e)}}module.exports=i;
},{"buffer":"VjIL"}],"AhcS":[function(require,module,exports) {
"use strict";class s{constructor(s,r,o){this.width=o.width,this.height=o.height,this.loops=o.loops,this.usesTransparency=o.usesTransparency,this.colorScope=o.colorScope,this.frames=r,this.buffer=s}}s.GlobalColorsPreferred=0,s.GlobalColorsOnly=1,s.LocalColorsOnly=2;class r extends Error{constructor(s){super(s),s instanceof Error&&(this.stack="Gif"+s.stack)}}exports.Gif=s,exports.GifError=r;
},{}],"loSs":[function(require,module,exports) {
var define;
var i;!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof i&&i.amd?i("iq",[],e):"object"==typeof exports?exports.iq=e():t.iq=e()}(this,function(){return function(i){var t={};function e(r){if(t[r])return t[r].exports;var a=t[r]={exports:{},id:r,loaded:!1};return i[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}return e.m=i,e.c=t,e.p="",e(0)}([function(i,t,e){"use strict";var r=e(1);t.constants=r;var a=e(3);t.conversion=a;var n=e(12);t.distance=n;var s=e(20);t.palette=s;var o=e(30);t.image=o;var u=e(35);t.quality=u;var h=e(37);t.utils=h},function(i,t,e){"use strict";var r=e(2);t.bt709=r},function(i,t){"use strict";var e,r,a;!function(i){i[i.RED=.2126]="RED",i[i.GREEN=.7152]="GREEN",i[i.BLUE=.0722]="BLUE",i[i.WHITE=1]="WHITE"}(e||(e={})),t.Y=e,function(i){i[i.RED=.64]="RED",i[i.GREEN=.3]="GREEN",i[i.BLUE=.15]="BLUE",i[i.WHITE=.3127]="WHITE"}(r||(r={})),t.x=r,function(i){i[i.RED=.33]="RED",i[i.GREEN=.6]="GREEN",i[i.BLUE=.06]="BLUE",i[i.WHITE=.329]="WHITE"}(a||(a={})),t.y=a},function(i,t,e){"use strict";var r=e(4);t.rgb2xyz=r.rgb2xyz;var a=e(5);t.rgb2hsl=a.rgb2hsl;var n=e(7);t.rgb2lab=n.rgb2lab;var s=e(9);t.lab2xyz=s.lab2xyz;var o=e(10);t.lab2rgb=o.lab2rgb;var u=e(8);t.xyz2lab=u.xyz2lab;var h=e(11);t.xyz2rgb=h.xyz2rgb},function(i,t){"use strict";function e(i){return i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92}t.rgb2xyz=function(i,t,r){return{x:.4124*(i=e(i/255))+.3576*(t=e(t/255))+.1805*(r=e(r/255)),y:.2126*i+.7152*t+.0722*r,z:.0193*i+.1192*t+.9505*r}}},function(i,t,e){"use strict";var r=e(6);t.rgb2hsl=function(i,t,e){var a=r.min3(i,t,e),n=r.max3(i,t,e),s=n-a,o=(a+n)/510,u=0;o>0&&o<1&&(u=s/(o<.5?n+a:510-n-a));var h=0;return s>0&&(h=n===i?(t-e)/s:n===t?2+(e-i)/s:4+(i-t)/s,(h*=60)<0&&(h+=360)),{h:h,s:u,l:o}}},function(i,t){"use strict";t.degrees2radians=function(i){return i*(Math.PI/180)},t.max3=function(i,t,e){var r=i;return r<t&&(r=t),r<e&&(r=e),r},t.min3=function(i,t,e){var r=i;return r>t&&(r=t),r>e&&(r=e),r},t.intInRange=function(i,t,e){return i>e&&(i=e),i<t&&(i=t),0|i},t.inRange0to255Rounded=function(i){return(i=Math.round(i))>255?i=255:i<0&&(i=0),i},t.inRange0to255=function(i){return i>255?i=255:i<0&&(i=0),i},t.stableSort=function(i,t){var e,r=typeof i[0];if("number"===r||"string"===r){for(var a=Object.create(null),n=0,s=i.length;n<s;n++){var o=i[n];a[o]||0===a[o]||(a[o]=n)}e=i.sort(function(i,e){return t(i,e)||a[i]-a[e]})}else{var u=i.slice(0);e=i.sort(function(i,e){return t(i,e)||u.indexOf(i)-u.indexOf(e)})}return e}},function(i,t,e){"use strict";var r=e(4),a=e(8);t.rgb2lab=function(i,t,e){var n=r.rgb2xyz(i,t,e);return a.xyz2lab(n.x,n.y,n.z)}},function(i,t){"use strict";var e=.95047,r=1,a=1.08883;function n(i){return i>.008856?Math.pow(i,1/3):7.787*i+16/116}t.xyz2lab=function(i,t,s){if(i=n(i/e),t=n(t/r),s=n(s/a),116*t-16<0)throw new Error("xxx");return{L:Math.max(0,116*t-16),a:500*(i-t),b:200*(t-s)}}},function(i,t){"use strict";var e=.95047,r=1,a=1.08883;function n(i){return i>.206893034?Math.pow(i,3):(i-16/116)/7.787}t.lab2xyz=function(i,t,s){var o=(i+16)/116,u=o-s/200;return{x:e*n(t/500+o),y:r*n(o),z:a*n(u)}}},function(i,t,e){"use strict";var r=e(9),a=e(11);t.lab2rgb=function(i,t,e){var n=r.lab2xyz(i,t,e);return a.xyz2rgb(n.x,n.y,n.z)}},function(i,t,e){"use strict";var r=e(6);function a(i){return i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i}t.xyz2rgb=function(i,t,e){var n=a(3.2406*i+-1.5372*t+-.4986*e),s=a(-.9689*i+1.8758*t+.0415*e),o=a(.0557*i+-.204*t+1.057*e);return{r:r.inRange0to255Rounded(255*n),g:r.inRange0to255Rounded(255*s),b:r.inRange0to255Rounded(255*o)}}},function(i,t,e){"use strict";var r=e(13);t.AbstractDistanceCalculator=r.AbstractDistanceCalculator;var a=e(14);t.CIE94Textiles=a.CIE94Textiles,t.CIE94GraphicArts=a.CIE94GraphicArts;var n=e(15);t.CIEDE2000=n.CIEDE2000;var s=e(16);t.CMETRIC=s.CMETRIC;var o=e(17);t.AbstractEuclidean=o.AbstractEuclidean,t.Euclidean=o.Euclidean,t.EuclideanRgbQuantWOAlpha=o.EuclideanRgbQuantWOAlpha,t.EuclideanRgbQuantWithAlpha=o.EuclideanRgbQuantWithAlpha;var u=e(18);t.AbstractManhattan=u.AbstractManhattan,t.Manhattan=u.Manhattan,t.ManhattanSRGB=u.ManhattanSRGB,t.ManhattanNommyde=u.ManhattanNommyde;var h=e(19);t.PNGQUANT=h.PNGQUANT},function(i,t){"use strict";var e=function(){function i(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return i.prototype.setWhitePoint=function(i,t,e,r){this._whitePoint={r:i>0?255/i:0,g:t>0?255/t:0,b:e>0?255/e:0,a:r>0?255/r:0},this._maxDistance=this.calculateRaw(i,t,e,r,0,0,0,0)},i.prototype.calculateNormalized=function(i,t){return this.calculateRaw(i.r,i.g,i.b,i.a,t.r,t.g,t.b,t.a)/this._maxDistance},i.prototype._setDefaults=function(){},i}();t.AbstractDistanceCalculator=e},function(i,t,e){"use strict";var r=this&&this.__extends||function(i,t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);function r(){this.constructor=i}i.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=e(13),n=e(7),s=e(6),o=function(i){function t(){i.apply(this,arguments)}return r(t,i),t.prototype.calculateRaw=function(i,t,e,r,a,o,u,h){var m=n.rgb2lab(s.inRange0to255(i*this._whitePoint.r),s.inRange0to255(t*this._whitePoint.g),s.inRange0to255(e*this._whitePoint.b)),_=n.rgb2lab(s.inRange0to255(a*this._whitePoint.r),s.inRange0to255(o*this._whitePoint.g),s.inRange0to255(u*this._whitePoint.b)),l=m.L-_.L,c=m.a-_.a,p=m.b-_.b,f=Math.sqrt(m.a*m.a+m.b*m.b),d=f-Math.sqrt(_.a*_.a+_.b*_.b),M=c*c+p*p-d*d;M=M<0?0:Math.sqrt(M);var g=(h-r)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(l/this._Kl,2)+Math.pow(d/(1+this._K1*f),2)+Math.pow(M/(1+this._K2*f),2)+Math.pow(g,2))},t}(a.AbstractDistanceCalculator);t.AbstractCIE94=o;var u=function(i){function t(){i.apply(this,arguments)}return r(t,i),t.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=12.5/255},t}(o);t.CIE94Textiles=u;var h=function(i){function t(){i.apply(this,arguments)}return r(t,i),t.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=25/255},t}(o);t.CIE94GraphicArts=h},function(i,t,e){"use strict";var r=this&&this.__extends||function(i,t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);function r(){this.constructor=i}i.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=e(13),n=e(7),s=e(6),o=function(i){function t(){i.apply(this,arguments)}return r(t,i),t.prototype.calculateRaw=function(i,e,r,a,o,u,h,m){var _=n.rgb2lab(s.inRange0to255(i*this._whitePoint.r),s.inRange0to255(e*this._whitePoint.g),s.inRange0to255(r*this._whitePoint.b)),l=n.rgb2lab(s.inRange0to255(o*this._whitePoint.r),s.inRange0to255(u*this._whitePoint.g),s.inRange0to255(h*this._whitePoint.b)),c=(m-a)*this._whitePoint.a*t._kA,p=this.calculateRawInLab(_,l);return Math.sqrt(p+c*c)},t.prototype.calculateRawInLab=function(i,e){var r=i.L,a=i.a,n=i.b,s=e.L,o=e.a,u=e.b,h=Math.sqrt(a*a+n*n),m=Math.sqrt(o*o+u*u),_=Math.pow((h+m)/2,7),l=.5*(1-Math.sqrt(_/(_+t._pow25to7))),c=(1+l)*a,p=(1+l)*o,f=Math.sqrt(c*c+n*n),d=Math.sqrt(p*p+u*u),M=f*d,g=t._calculatehp(n,c),b=t._calculatehp(u,p),v=Math.abs(g-b),x=s-r,y=d-f,w=t._calculate_dHp(M,v,b,g),S=t._calculate_ahp(M,v,g,b),R=t._calculateT(S),k=(f+d)/2,A=Math.pow((r+s)/2-50,2),z=1+.015*A/Math.sqrt(20+A),E=1+.045*k,P=1+.015*R*k,B=t._calculateRT(S,k),I=x/z,C=y/E,D=w/P;return Math.pow(I,2)+Math.pow(C,2)+Math.pow(D,2)+B*C*D},t._calculatehp=function(i,e){var r=Math.atan2(i,e);return r>=0?r:r+t._deg360InRad},t._calculateRT=function(i,e){var r=Math.pow(e,7),a=2*Math.sqrt(r/(r+t._pow25to7)),n=t._deg30InRad*Math.exp(-Math.pow((i-t._deg275InRad)/t._deg25InRad,2));return-Math.sin(2*n)*a},t._calculateT=function(i){return 1-.17*Math.cos(i-t._deg30InRad)+.24*Math.cos(2*i)+.32*Math.cos(3*i+t._deg6InRad)-.2*Math.cos(4*i-t._deg63InRad)},t._calculate_ahp=function(i,e,r,a){var n=r+a;return 0==i?n:e<=t._deg180InRad?n/2:n<t._deg360InRad?(n+t._deg360InRad)/2:(n-t._deg360InRad)/2},t._calculate_dHp=function(i,e,r,a){var n;return n=0==i?0:e<=t._deg180InRad?r-a:r<=a?r-a+t._deg360InRad:r-a-t._deg360InRad,2*Math.sqrt(i)*Math.sin(n/2)},t._kA=25/255,t._pow25to7=Math.pow(25,7),t._deg360InRad=s.degrees2radians(360),t._deg180InRad=s.degrees2radians(180),t._deg30InRad=s.degrees2radians(30),t._deg6InRad=s.degrees2radians(6),t._deg63InRad=s.degrees2radians(63),t._deg275InRad=s.degrees2radians(275),t._deg25InRad=s.degrees2radians(25),t}(a.AbstractDistanceCalculator);t.CIEDE2000=o},function(i,t,e){"use strict";var r=this&&this.__extends||function(i,t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);function r(){this.constructor=i}i.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=function(i){function t(){i.apply(this,arguments)}return r(t,i),t.prototype.calculateRaw=function(i,t,e,r,a,n,s,o){var u=(i+a)/2*this._whitePoint.r,h=(i-a)*this._whitePoint.r,m=(t-n)*this._whitePoint.g,_=(e-s)*this._whitePoint.b,l=((512+u)*h*h>>8)+4*m*m+((767-u)*_*_>>8),c=(o-r)*this._whitePoint.a;return Math.sqrt(l+c*c)},t}(e(13).AbstractDistanceCalculator);t.CMETRIC=a},function(i,t,e){"use strict";var r=this&&this.__extends||function(i,t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);function r(){this.constructor=i}i.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=e(13),n=e(2),s=function(i){function t(){i.apply(this,arguments)}return r(t,i),t.prototype.calculateRaw=function(i,t,e,r,a,n,s,o){var u=a-i,h=n-t,m=s-e,_=o-r;return Math.sqrt(this._kR*u*u+this._kG*h*h+this._kB*m*m+this._kA*_*_)},t}(a.AbstractDistanceCalculator);t.AbstractEuclidean=s;var o=function(i){function t(){i.apply(this,arguments)}return r(t,i),t.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},t}(s);t.Euclidean=o;var u=function(i){function t(){i.apply(this,arguments)}return r(t,i),t.prototype._setDefaults=function(){this._kR=n.Y.RED,this._kG=n.Y.GREEN,this._kB=n.Y.BLUE,this._kA=1},t}(s);t.EuclideanRgbQuantWithAlpha=u;var h=function(i){function t(){i.apply(this,arguments)}return r(t,i),t.prototype._setDefaults=function(){this._kR=n.Y.RED,this._kG=n.Y.GREEN,this._kB=n.Y.BLUE,this._kA=0},t}(s);t.EuclideanRgbQuantWOAlpha=h},function(i,t,e){"use strict";var r=this&&this.__extends||function(i,t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);function r(){this.constructor=i}i.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=e(13),n=e(2),s=function(i){function t(){i.apply(this,arguments)}return r(t,i),t.prototype.calculateRaw=function(i,t,e,r,a,n,s,o){var u=a-i,h=n-t,m=s-e,_=o-r;return u<0&&(u=0-u),h<0&&(h=0-h),m<0&&(m=0-m),_<0&&(_=0-_),this._kR*u+this._kG*h+this._kB*m+this._kA*_},t}(a.AbstractDistanceCalculator);t.AbstractManhattan=s;var o=function(i){function t(){i.apply(this,arguments)}return r(t,i),t.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},t}(s);t.Manhattan=o;var u=function(i){function t(){i.apply(this,arguments)}return r(t,i),t.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},t}(s);t.ManhattanNommyde=u;var h=function(i){function t(){i.apply(this,arguments)}return r(t,i),t.prototype._setDefaults=function(){this._kR=n.Y.RED,this._kG=n.Y.GREEN,this._kB=n.Y.BLUE,this._kA=1},t}(s);t.ManhattanSRGB=h},function(i,t,e){"use strict";var r=this&&this.__extends||function(i,t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);function r(){this.constructor=i}i.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},a=function(i){function t(){i.apply(this,arguments)}return r(t,i),t.prototype.calculateRaw=function(i,t,e,r,a,n,s,o){var u=(o-r)*this._whitePoint.a;return this._colordifference_ch(i*this._whitePoint.r,a*this._whitePoint.r,u)+this._colordifference_ch(t*this._whitePoint.g,n*this._whitePoint.g,u)+this._colordifference_ch(e*this._whitePoint.b,s*this._whitePoint.b,u)},t.prototype._colordifference_ch=function(i,t,e){var r=i-t,a=r+e;return r*r+a*a},t}(e(13).AbstractDistanceCalculator);t.PNGQUANT=a},function(i,t,e){"use strict";var r=e(21);t.NeuQuant=r.NeuQuant;var a=e(25);t.NeuQuantFloat=a.NeuQuantFloat;var n=e(26);t.RGBQuant=n.RGBQuant;var s=e(27);t.ColorHistogram=s.ColorHistogram;var o=e(29);t.WuQuant=o.WuQuant,t.WuColorCube=o.WuColorCube},function(i,t,e){"use strict";var r=e(22),a=e(24),n=3,s=function(){function i(i){this.r=this.g=this.b=this.a=i}return i.prototype.toPoint=function(){return a.Point.createByRGBA(this.r>>n,this.g>>n,this.b>>n,this.a>>n)},i.prototype.subtract=function(i,t,e,r){this.r-=0|i,this.g-=0|t,this.b-=0|e,this.a-=0|r},i}(),o=function(){function i(i,t){void 0===t&&(t=256),this._distance=i,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(255<<n,255<<n,255<<n,255<<n)}return i.prototype.sample=function(i){this._pointArray=this._pointArray.concat(i.getPointArray())},i.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},i.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var t=0;t<this._networkSize;t++)this._network[t]=new s((t<<n+8)/this._networkSize|0),this._freq[t]=i._initialBias/this._networkSize|0,this._bias[t]=0},i.prototype._learn=function(){var t=this._sampleFactor,e=this._pointArray.length;e<i._minpicturebytes&&(t=1);var r,a=30+(t-1)/3|0,s=e/t|0,o=s/i._nCycles|0,u=i._initAlpha,h=(this._networkSize>>3)*i._radiusBias,m=h>>i._radiusBiasShift;m<=1&&(m=0);for(var _=0;_<m;_++)this._radPower[_]=u*((m*m-_*_)*i._radBias/(m*m))>>>0;r=e<i._minpicturebytes?1:e%i._prime1!=0?i._prime1:e%i._prime2!=0?i._prime2:e%i._prime3!=0?i._prime3:i._prime4;_=0;for(var l=0;_<s;){var c=this._pointArray[l],p=c.b<<n,f=c.g<<n,d=c.r<<n,M=c.a<<n,g=this._contest(p,f,d,M);if(this._alterSingle(u,g,p,f,d,M),0!==m&&this._alterNeighbour(m,g,p,f,d,M),(l+=r)>=e&&(l-=e),0===o&&(o=1),++_%o==0){u-=u/a|0,(m=(h-=h/i._radiusDecrease|0)>>i._radiusBiasShift)<=1&&(m=0);for(var b=0;b<m;b++)this._radPower[b]=u*((m*m-b*b)*i._radBias/(m*m))>>>0}}},i.prototype._buildPalette=function(){var i=new r.Palette;return this._network.forEach(function(t){i.add(t.toPoint())}),i.sort(),i},i.prototype._alterNeighbour=function(t,e,r,a,n,s){var o=e-t;o<-1&&(o=-1);var u=e+t;u>this._networkSize&&(u=this._networkSize);for(var h=e+1,m=e-1,_=1;h<u||m>o;){var l,c=this._radPower[_++]/i._alphaRadBias;if(h<u)(l=this._network[h++]).subtract(c*(l.r-n),c*(l.g-a),c*(l.b-r),c*(l.a-s));if(m>o)(l=this._network[m--]).subtract(c*(l.r-n),c*(l.g-a),c*(l.b-r),c*(l.a-s))}},i.prototype._alterSingle=function(t,e,r,a,n,s){t/=i._initAlpha;var o=this._network[e];o.subtract(t*(o.r-n),t*(o.g-a),t*(o.b-r),t*(o.a-s))},i.prototype._contest=function(t,e,r,a){for(var s=1020<<n,o=~(1<<31),u=o,h=-1,m=h,_=0;_<this._networkSize;_++){var l=this._network[_],c=this._distance.calculateNormalized(l,{r:r,g:e,b:t,a:a})*s|0;c<o&&(o=c,h=_);var p=c-(this._bias[_]>>i._initialBiasShift-n);p<u&&(u=p,m=_);var f=this._freq[_]>>i._betaShift;this._freq[_]-=f,this._bias[_]+=f<<i._gammaShift}return this._freq[h]+=i._beta,this._bias[h]-=i._betaGamma,m},i._prime1=499,i._prime2=491,i._prime3=487,i._prime4=503,i._minpicturebytes=i._prime4,i._nCycles=100,i._initialBiasShift=16,i._initialBias=1<<i._initialBiasShift,i._gammaShift=10,i._betaShift=10,i._beta=i._initialBias>>i._betaShift,i._betaGamma=i._initialBias<<i._gammaShift-i._betaShift,i._radiusBiasShift=6,i._radiusBias=1<<i._radiusBiasShift,i._radiusDecrease=30,i._alphaBiasShift=10,i._initAlpha=1<<i._alphaBiasShift,i._radBiasShift=8,i._radBias=1<<i._radBiasShift,i._alphaRadBiasShift=i._alphaBiasShift+i._radBiasShift,i._alphaRadBias=1<<i._alphaRadBiasShift,i}();t.NeuQuant=o},function(i,t,e){"use strict";var r=e(23),a=e(5);function n(i,t){for(var e=360/t,r=1,a=e-e/2;r<t;r++,a+=e)if(i>=a&&i<a+e)return r;return 0}t.hueGroup=n;var s=function(){function i(){this._pointArray=[],this._i32idx={},this._pointContainer=new r.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return i.prototype.add=function(i){this._pointArray.push(i),this._pointContainer.setWidth(this._pointArray.length)},i.prototype.has=function(i){for(var t=this._pointArray.length-1;t>=0;t--)if(i.uint32===this._pointArray[t].uint32)return!0;return!1},i.prototype.getNearestColor=function(i,t){return this._pointArray[0|this.getNearestIndex(i,t)]},i.prototype.getPointContainer=function(){return this._pointContainer},i.prototype._nearestPointFromCache=function(i){return"number"==typeof this._i32idx[i]?this._i32idx[i]:-1},i.prototype.getNearestIndex=function(i,t){var e=this._nearestPointFromCache(""+t.uint32);if(e>=0)return e;var r=Number.MAX_VALUE;e=0;for(var a=0,n=this._pointArray.length;a<n;a++){var s=this._pointArray[a],o=i.calculateRaw(t.r,t.g,t.b,t.a,s.r,s.g,s.b,s.a);o<r&&(r=o,e=a)}return this._i32idx[t.uint32]=e,e},i.prototype.sort=function(){this._i32idx={},this._pointArray.sort(function(i,t){var e=a.rgb2hsl(i.r,i.g,i.b),r=a.rgb2hsl(t.r,t.g,t.b),s=i.r===i.g&&i.g===i.b?0:1+n(e.h,10),o=(t.r===t.g&&t.g===t.b?0:1+n(r.h,10))-s;if(o)return-o;var u=i.getLuminosity(!0),h=t.getLuminosity(!0);if(h-u!=0)return h-u;var m=(100*r.s|0)-(100*e.s|0);return m?-m:0})},i}();t.Palette=s},function(i,t,e){"use strict";var r=e(24),a=function(){function i(){this._width=0,this._height=0,this._pointArray=[]}return i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i.prototype.setWidth=function(i){this._width=i},i.prototype.setHeight=function(i){this._height=i},i.prototype.getPointArray=function(){return this._pointArray},i.prototype.clone=function(){var t=new i;t._width=this._width,t._height=this._height;for(var e=0,a=this._pointArray.length;e<a;e++)t._pointArray[e]=r.Point.createByUint32(0|this._pointArray[e].uint32);return t},i.prototype.toUint32Array=function(){for(var i=this._pointArray.length,t=new Uint32Array(i),e=0;e<i;e++)t[e]=this._pointArray[e].uint32;return t},i.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},i.fromHTMLImageElement=function(t){var e=t.naturalWidth,r=t.naturalHeight,a=document.createElement("canvas");return a.width=e,a.height=r,a.getContext("2d").drawImage(t,0,0,e,r,0,0,e,r),i.fromHTMLCanvasElement(a)},i.fromHTMLCanvasElement=function(t){var e=t.width,r=t.height,a=t.getContext("2d").getImageData(0,0,e,r);return i.fromImageData(a)},i.fromNodeCanvas=function(t){return i.fromHTMLCanvasElement(t)},i.fromImageData=function(t){var e=t.width,r=t.height;return i.fromCanvasPixelArray(t.data,e,r)},i.fromArray=function(t,e,r){var a=new Uint8Array(t);return i.fromUint8Array(a,e,r)},i.fromCanvasPixelArray=function(t,e,r){return i.fromArray(t,e,r)},i.fromUint8Array=function(t,e,r){return i.fromUint32Array(new Uint32Array(t.buffer),e,r)},i.fromUint32Array=function(t,e,a){var n=new i;n._width=e,n._height=a;for(var s=0,o=t.length;s<o;s++)n._pointArray[s]=r.Point.createByUint32(0|t[s]);return n},i}();t.PointContainer=a},function(i,t,e){"use strict";var r=e(2),a=function(){function i(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return i.createByQuadruplet=function(t){var e=new i;return e.r=0|t[0],e.g=0|t[1],e.b=0|t[2],e.a=0|t[3],e._loadUINT32(),e._loadQuadruplet(),e},i.createByRGBA=function(t,e,r,a){var n=new i;return n.r=0|t,n.g=0|e,n.b=0|r,n.a=0|a,n._loadUINT32(),n._loadQuadruplet(),n},i.createByUint32=function(t){var e=new i;return e.uint32=t>>>0,e._loadRGBA(),e._loadQuadruplet(),e},i.prototype.from=function(i){this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.uint32=i.uint32,this.rgba[0]=i.r,this.rgba[1]=i.g,this.rgba[2]=i.b,this.rgba[3]=i.a},i.prototype.getLuminosity=function(i){var t=this.r,e=this.g,a=this.b;return i&&(t=Math.min(255,255-this.a+this.a*t/255),e=Math.min(255,255-this.a+this.a*e/255),a=Math.min(255,255-this.a+this.a*a/255)),t*r.Y.RED+e*r.Y.GREEN+a*r.Y.BLUE},i.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},i.prototype._loadRGBA=function(){this.r=255&this.uint32,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},i.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},i}();t.Point=a},function(i,t,e){"use strict";var r=e(22),a=e(24),n=3,s=function(){function i(i){this.r=this.g=this.b=this.a=i}return i.prototype.toPoint=function(){return a.Point.createByRGBA(this.r>>n,this.g>>n,this.b>>n,this.a>>n)},i.prototype.subtract=function(i,t,e,r){this.r-=i,this.g-=t,this.b-=e,this.a-=r},i}(),o=function(){function i(i,t){void 0===t&&(t=256),this._distance=i,this._pointArray=[],this._sampleFactor=1,this._networkSize=t,this._distance.setWhitePoint(255<<n,255<<n,255<<n,255<<n)}return i.prototype.sample=function(i){this._pointArray=this._pointArray.concat(i.getPointArray())},i.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},i.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var t=0;t<this._networkSize;t++)this._network[t]=new s((t<<n+8)/this._networkSize),this._freq[t]=i._initialBias/this._networkSize,this._bias[t]=0},i.prototype._learn=function(){var t=this._sampleFactor,e=this._pointArray.length;e<i._minpicturebytes&&(t=1);var r,a=30+(t-1)/3,s=e/t,o=s/i._nCycles|0,u=i._initAlpha,h=(this._networkSize>>3)*i._radiusBias,m=h>>i._radiusBiasShift;m<=1&&(m=0);for(var _=0;_<m;_++)this._radPower[_]=u*((m*m-_*_)*i._radBias/(m*m));r=e<i._minpicturebytes?1:e%i._prime1!=0?i._prime1:e%i._prime2!=0?i._prime2:e%i._prime3!=0?i._prime3:i._prime4;_=0;for(var l=0;_<s;){var c=this._pointArray[l],p=c.b<<n,f=c.g<<n,d=c.r<<n,M=c.a<<n,g=this._contest(p,f,d,M);if(this._alterSingle(u,g,p,f,d,M),0!=m&&this._alterNeighbour(m,g,p,f,d,M),(l+=r)>=e&&(l-=e),0==o&&(o=1),++_%o==0){u-=u/a,(m=(h-=h/i._radiusDecrease)>>i._radiusBiasShift)<=1&&(m=0);for(var b=0;b<m;b++)this._radPower[b]=u*((m*m-b*b)*i._radBias/(m*m))}}},i.prototype._buildPalette=function(){var i=new r.Palette;return this._network.forEach(function(t){i.add(t.toPoint())}),i.sort(),i},i.prototype._alterNeighbour=function(t,e,r,a,n,s){var o=e-t;o<-1&&(o=-1);var u=e+t;u>this._networkSize&&(u=this._networkSize);for(var h=e+1,m=e-1,_=1;h<u||m>o;){var l,c=this._radPower[_++]/i._alphaRadBias;if(h<u)(l=this._network[h++]).subtract(c*(l.r-n),c*(l.g-a),c*(l.b-r),c*(l.a-s));if(m>o)(l=this._network[m--]).subtract(c*(l.r-n),c*(l.g-a),c*(l.b-r),c*(l.a-s))}},i.prototype._alterSingle=function(t,e,r,a,n,s){t/=i._initAlpha;var o=this._network[e];o.subtract(t*(o.r-n),t*(o.g-a),t*(o.b-r),t*(o.a-s))},i.prototype._contest=function(t,e,r,a){for(var s=1020<<n,o=~(1<<31),u=o,h=-1,m=h,_=0;_<this._networkSize;_++){var l=this._network[_],c=this._distance.calculateNormalized(l,{r:r,g:e,b:t,a:a})*s;c<o&&(o=c,h=_);var p=c-(this._bias[_]>>i._initialBiasShift-n);p<u&&(u=p,m=_);var f=this._freq[_]>>i._betaShift;this._freq[_]-=f,this._bias[_]+=f<<i._gammaShift}return this._freq[h]+=i._beta,this._bias[h]-=i._betaGamma,m},i._prime1=499,i._prime2=491,i._prime3=487,i._prime4=503,i._minpicturebytes=i._prime4,i._nCycles=100,i._initialBiasShift=16,i._initialBias=1<<i._initialBiasShift,i._gammaShift=10,i._betaShift=10,i._beta=i._initialBias>>i._betaShift,i._betaGamma=i._initialBias<<i._gammaShift-i._betaShift,i._radiusBiasShift=6,i._radiusBias=1<<i._radiusBiasShift,i._radiusDecrease=30,i._alphaBiasShift=10,i._initAlpha=1<<i._alphaBiasShift,i._radBiasShift=8,i._radBias=1<<i._radBiasShift,i._alphaRadBiasShift=i._alphaBiasShift+i._radBiasShift,i._alphaRadBias=1<<i._alphaRadBiasShift,i}();t.NeuQuantFloat=o},function(i,t,e){"use strict";var r=e(22),a=e(24),n=e(27),s=e(6),o=function(){return function(i,t,e){this.index=i,this.color=t,this.distance=e}}(),u=function(){function i(i,t,e){void 0===t&&(t=256),void 0===e&&(e=2),this._distance=i,this._colors=t,this._histogram=new n.ColorHistogram(e,t),this._initialDistance=.01,this._distanceIncrement=.005}return i.prototype.sample=function(i){this._histogram.sample(i)},i.prototype.quantize=function(){var i=this._histogram.getImportanceSortedColorsIDXI32();if(0===i.length)throw new Error("No colors in image");var t=this._buildPalette(i);return t.sort(),t},i.prototype._buildPalette=function(i){for(var t=new r.Palette,e=t.getPointContainer().getPointArray(),n=new Array(i.length),u=0;u<i.length;u++)e.push(a.Point.createByUint32(i[u])),n[u]=1;for(var h=e.length,m=[],_=h,l=this._initialDistance;_>this._colors;){m.length=0;for(u=0;u<h;u++)if(0!==n[u])for(var c=e[u],p=u+1;p<h;p++)if(0!==n[p]){var f=e[p],d=this._distance.calculateNormalized(c,f);d<l&&(m.push(new o(p,f,d)),n[p]=0,_--)}l+=_>3*this._colors?this._initialDistance:this._distanceIncrement}if(_<this._colors){s.stableSort(m,function(i,t){return t.distance-i.distance});for(var M=0;_<this._colors&&M<m.length;){n[m[M].index]=1,_++,M++}}for(var g=e.length,b=g-1;b>=0;b--)0===n[b]&&(b!==g-1&&(e[b]=e[g-1]),--g);return e.length=g,t},i}();t.RGBQuant=u},function(i,t,e){"use strict";var r=e(28),a=e(6),n=function(){function i(t,e){this._method=t,this._minHueCols=e<<2,this._initColors=e<<2,this._hueStats=new r.HueStatistics(i._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return i.prototype.sample=function(i){switch(this._method){case 1:this._colorStats1D(i);break;case 2:this._colorStats2D(i)}},i.prototype.getImportanceSortedColorsIDXI32=function(){var i,t=this,e=a.stableSort(Object.keys(this._histogram),function(i,e){return t._histogram[e]-t._histogram[i]});if(0===e.length)return[];switch(this._method){case 1:var r=Math.min(e.length,this._initColors),n=e[r-1],s=this._histogram[n];i=e.slice(0,r);for(var o=r,u=e.length;o<u&&this._histogram[e[o]]==s;)i.push(e[o++]);this._hueStats.injectIntoArray(i);break;case 2:i=e;break;default:throw new Error("Incorrect method")}return i.map(function(i){return+i})},i.prototype._colorStats1D=function(i){for(var t=this._histogram,e=i.getPointArray(),r=e.length,a=0;a<r;a++){var n=e[a].uint32;this._hueStats.check(n),n in t?t[n]++:t[n]=1}},i.prototype._colorStats2D=function(t){var e=this,r=t.getWidth(),a=t.getHeight(),n=t.getPointArray(),s=i._boxSize[0],o=i._boxSize[1],u=s*o,h=this._makeBoxes(r,a,s,o),m=this._histogram;h.forEach(function(t){var a=Math.round(t.w*t.h/u)*i._boxPixels;a<2&&(a=2);var s={};e._iterateBox(t,r,function(i){var t=n[i].uint32;e._hueStats.check(t),t in m?m[t]++:t in s?++s[t]>=a&&(m[t]=s[t]):s[t]=1})}),this._hueStats.injectIntoDictionary(m)},i.prototype._iterateBox=function(i,t,e){var r=i,a=r.y*t+r.x,n=(r.y+r.h-1)*t+(r.x+r.w-1),s=t-r.w+1,o=0,u=a;do{e.call(this,u),u+=++o%r.w==0?s:1}while(u<=n)},i.prototype._makeBoxes=function(i,t,e,r){for(var a=i%e,n=t%r,s=i-a,o=t-n,u=[],h=0;h<t;h+=r)for(var m=0;m<i;m+=e)u.push({x:m,y:h,w:m==s?a:e,h:h==o?n:r});return u},i._boxSize=[64,64],i._boxPixels=2,i._hueGroups=10,i}();t.ColorHistogram=n},function(i,t,e){"use strict";var r=e(5),a=e(22),n=function(){return function(){this.num=0,this.cols=[]}}(),s=function(){function i(i,t){this._numGroups=i,this._minCols=t,this._stats=[];for(var e=0;e<=i;e++)this._stats[e]=new n;this._groupsFull=0}return i.prototype.check=function(i){this._groupsFull==this._numGroups+1&&(this.check=function(){});var t=255&i,e=i>>>8&255,n=i>>>16&255,s=t==e&&e==n?0:1+a.hueGroup(r.rgb2hsl(t,e,n).h,this._numGroups),o=this._stats[s],u=this._minCols;o.num++,o.num>u||(o.num==u&&this._groupsFull++,o.num<=u&&this._stats[s].cols.push(i))},i.prototype.injectIntoDictionary=function(i){for(var t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(function(t){i[t]?i[t]++:i[t]=1})},i.prototype.injectIntoArray=function(i){for(var t=0;t<=this._numGroups;t++)this._stats[t].num<=this._minCols&&this._stats[t].cols.forEach(function(t){-1==i.indexOf(t)&&i.push(t)})},i}();t.HueStatistics=s},function(i,t,e){"use strict";var r=e(22),a=e(24);function n(i){for(var t=[],e=0;e<i;e++)t[e]=0;return t}function s(i,t,e,r){for(var a=new Array(i),n=0;n<i;n++){a[n]=new Array(t);for(var s=0;s<t;s++){a[n][s]=new Array(e);for(var o=0;o<e;o++){a[n][s][o]=new Array(r);for(var u=0;u<r;u++)a[n][s][o][u]=0}}}return a}function o(i,t,e){for(var r=new Array(i),a=0;a<i;a++){r[a]=new Array(t);for(var n=0;n<t;n++){r[a][n]=new Array(e);for(var s=0;s<e;s++)r[a][n][s]=0}}return r}function u(i,t,e,r,a){for(var n=0;n<t;n++){i[n]=[];for(var s=0;s<e;s++){i[n][s]=[];for(var o=0;o<r;o++)i[n][s][o]=a}}}function h(i,t,e){for(var r=0;r<t;r++)i[r]=e}var m=function(){return function(){}}();t.WuColorCube=m;var _=function(){function i(i,t,e){void 0===t&&(t=256),void 0===e&&(e=5),this._distance=i,this._setQuality(e),this._initialize(t)}return i.prototype.sample=function(i){for(var t=i.getPointArray(),e=0,r=t.length;e<r;e++)this._addColor(t[e]);this._pixels=this._pixels.concat(t)},i.prototype.quantize=function(){this._preparePalette();for(var i=new r.Palette,t=0;t<this._colors;t++)if(this._sums[t]>0){var e=this._sums[t],n=this._reds[t]/e,s=this._greens[t]/e,o=this._blues[t]/e,u=this._alphas[t]/e,h=a.Point.createByRGBA(0|n,0|s,0|o,0|u);i.add(h)}return i.sort(),i},i.prototype._preparePalette=function(){this._calculateMoments();for(var t=0,e=n(this._colors),r=1;r<this._colors;++r){this._cut(this._cubes[t],this._cubes[r])?(e[t]=this._cubes[t].volume>1?this._calculateVariance(this._cubes[t]):0,e[r]=this._cubes[r].volume>1?this._calculateVariance(this._cubes[r]):0):(e[t]=0,r--),t=0;for(var a=e[0],s=1;s<=r;++s)e[s]>a&&(a=e[s],t=s);if(a<=0){this._colors=r+1;break}}for(var o=[],u=[],h=[],m=[],_=0;_<this._colors;++_){var l=i._volume(this._cubes[_],this._weights);l>0?(o[_]=i._volume(this._cubes[_],this._momentsRed)/l|0,u[_]=i._volume(this._cubes[_],this._momentsGreen)/l|0,h[_]=i._volume(this._cubes[_],this._momentsBlue)/l|0,m[_]=i._volume(this._cubes[_],this._momentsAlpha)/l|0):(o[_]=0,u[_]=0,h[_]=0,m[_]=0)}this._reds=n(this._colors+1),this._greens=n(this._colors+1),this._blues=n(this._colors+1),this._alphas=n(this._colors+1),this._sums=n(this._colors+1);s=0;for(var c=this._pixels.length;s<c;s++){for(var p=this._pixels[s],f=-1,d=Number.MAX_VALUE,M=0;M<this._colors;M++){var g=o[M],b=u[M],v=h[M],x=m[M],y=this._distance.calculateRaw(g,b,v,x,p.r,p.g,p.b,p.a);y<d&&(d=y,f=M)}this._reds[f]+=p.r,this._greens[f]+=p.g,this._blues[f]+=p.b,this._alphas[f]+=p.a,this._sums[f]++}},i.prototype._addColor=function(i){var t=8-this._significantBitsPerChannel,e=1+(i.r>>t),r=1+(i.g>>t),a=1+(i.b>>t),n=1+(i.a>>t);this._weights[n][e][r][a]++,this._momentsRed[n][e][r][a]+=i.r,this._momentsGreen[n][e][r][a]+=i.g,this._momentsBlue[n][e][r][a]+=i.b,this._momentsAlpha[n][e][r][a]+=i.a,this._moments[n][e][r][a]+=this._table[i.r]+this._table[i.g]+this._table[i.b]+this._table[i.a]},i.prototype._calculateMoments=function(){for(var i=[],t=[],e=[],r=[],a=[],n=[],s=o(this._sideSize,this._sideSize,this._sideSize),m=o(this._sideSize,this._sideSize,this._sideSize),_=o(this._sideSize,this._sideSize,this._sideSize),l=o(this._sideSize,this._sideSize,this._sideSize),c=o(this._sideSize,this._sideSize,this._sideSize),p=o(this._sideSize,this._sideSize,this._sideSize),f=1;f<=this._alphaMaxSideIndex;++f){u(s,this._sideSize,this._sideSize,this._sideSize,0),u(m,this._sideSize,this._sideSize,this._sideSize,0),u(_,this._sideSize,this._sideSize,this._sideSize,0),u(l,this._sideSize,this._sideSize,this._sideSize,0),u(c,this._sideSize,this._sideSize,this._sideSize,0),u(p,this._sideSize,this._sideSize,this._sideSize,0);for(var d=1;d<=this._maxSideIndex;++d){h(i,this._sideSize,0),h(t,this._sideSize,0),h(e,this._sideSize,0),h(r,this._sideSize,0),h(a,this._sideSize,0),h(n,this._sideSize,0);for(var M=1;M<=this._maxSideIndex;++M)for(var g=0,b=0,v=0,x=0,y=0,w=0,S=1;S<=this._maxSideIndex;++S)g+=this._weights[f][d][M][S],b+=this._momentsRed[f][d][M][S],v+=this._momentsGreen[f][d][M][S],x+=this._momentsBlue[f][d][M][S],y+=this._momentsAlpha[f][d][M][S],w+=this._moments[f][d][M][S],i[S]+=g,t[S]+=b,e[S]+=v,r[S]+=x,a[S]+=y,n[S]+=w,s[d][M][S]=s[d-1][M][S]+i[S],m[d][M][S]=m[d-1][M][S]+t[S],_[d][M][S]=_[d-1][M][S]+e[S],l[d][M][S]=l[d-1][M][S]+r[S],c[d][M][S]=c[d-1][M][S]+a[S],p[d][M][S]=p[d-1][M][S]+n[S],this._weights[f][d][M][S]=this._weights[f-1][d][M][S]+s[d][M][S],this._momentsRed[f][d][M][S]=this._momentsRed[f-1][d][M][S]+m[d][M][S],this._momentsGreen[f][d][M][S]=this._momentsGreen[f-1][d][M][S]+_[d][M][S],this._momentsBlue[f][d][M][S]=this._momentsBlue[f-1][d][M][S]+l[d][M][S],this._momentsAlpha[f][d][M][S]=this._momentsAlpha[f-1][d][M][S]+c[d][M][S],this._moments[f][d][M][S]=this._moments[f-1][d][M][S]+p[d][M][S]}}},i._volumeFloat=function(i,t){return t[i.alphaMaximum][i.redMaximum][i.greenMaximum][i.blueMaximum]-t[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMaximum]-t[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMaximum]+t[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMaximum]-t[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMaximum]+t[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMaximum]+t[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMaximum]-t[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMaximum]-(t[i.alphaMaximum][i.redMaximum][i.greenMaximum][i.blueMinimum]-t[i.alphaMinimum][i.redMaximum][i.greenMaximum][i.blueMinimum]-t[i.alphaMaximum][i.redMaximum][i.greenMinimum][i.blueMinimum]+t[i.alphaMinimum][i.redMaximum][i.greenMinimum][i.blueMinimum]-t[i.alphaMaximum][i.redMinimum][i.greenMaximum][i.blueMinimum]+t[i.alphaMinimum][i.redMinimum][i.greenMaximum][i.blueMinimum]+t[i.alphaMaximum][i.redMinimum][i.greenMinimum][i.blueMinimum]-t[i.alphaMinimum][i.redMinimum][i.greenMinimum][i.blueMinimum])},i._volume=function(t,e){return 0|i._volumeFloat(t,e)},i._top=function(t,e,r,a){var n;switch(e){case i.alpha:n=a[r][t.redMaximum][t.greenMaximum][t.blueMaximum]-a[r][t.redMaximum][t.greenMinimum][t.blueMaximum]-a[r][t.redMinimum][t.greenMaximum][t.blueMaximum]+a[r][t.redMinimum][t.greenMinimum][t.blueMaximum]-(a[r][t.redMaximum][t.greenMaximum][t.blueMinimum]-a[r][t.redMaximum][t.greenMinimum][t.blueMinimum]-a[r][t.redMinimum][t.greenMaximum][t.blueMinimum]+a[r][t.redMinimum][t.greenMinimum][t.blueMinimum]);break;case i.red:n=a[t.alphaMaximum][r][t.greenMaximum][t.blueMaximum]-a[t.alphaMaximum][r][t.greenMinimum][t.blueMaximum]-a[t.alphaMinimum][r][t.greenMaximum][t.blueMaximum]+a[t.alphaMinimum][r][t.greenMinimum][t.blueMaximum]-(a[t.alphaMaximum][r][t.greenMaximum][t.blueMinimum]-a[t.alphaMaximum][r][t.greenMinimum][t.blueMinimum]-a[t.alphaMinimum][r][t.greenMaximum][t.blueMinimum]+a[t.alphaMinimum][r][t.greenMinimum][t.blueMinimum]);break;case i.green:n=a[t.alphaMaximum][t.redMaximum][r][t.blueMaximum]-a[t.alphaMaximum][t.redMinimum][r][t.blueMaximum]-a[t.alphaMinimum][t.redMaximum][r][t.blueMaximum]+a[t.alphaMinimum][t.redMinimum][r][t.blueMaximum]-(a[t.alphaMaximum][t.redMaximum][r][t.blueMinimum]-a[t.alphaMaximum][t.redMinimum][r][t.blueMinimum]-a[t.alphaMinimum][t.redMaximum][r][t.blueMinimum]+a[t.alphaMinimum][t.redMinimum][r][t.blueMinimum]);break;case i.blue:n=a[t.alphaMaximum][t.redMaximum][t.greenMaximum][r]-a[t.alphaMaximum][t.redMaximum][t.greenMinimum][r]-a[t.alphaMaximum][t.redMinimum][t.greenMaximum][r]+a[t.alphaMaximum][t.redMinimum][t.greenMinimum][r]-(a[t.alphaMinimum][t.redMaximum][t.greenMaximum][r]-a[t.alphaMinimum][t.redMaximum][t.greenMinimum][r]-a[t.alphaMinimum][t.redMinimum][t.greenMaximum][r]+a[t.alphaMinimum][t.redMinimum][t.greenMinimum][r]);break;default:throw new Error("impossible")}return 0|n},i._bottom=function(t,e,r){switch(e){case i.alpha:return-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMaximum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case i.red:return-r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMaximum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case i.green:return-r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMaximum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMaximum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMaximum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMaximum]-(-r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);case i.blue:return-r[t.alphaMaximum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMaximum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMaximum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMaximum][t.redMinimum][t.greenMinimum][t.blueMinimum]-(-r[t.alphaMinimum][t.redMaximum][t.greenMaximum][t.blueMinimum]+r[t.alphaMinimum][t.redMaximum][t.greenMinimum][t.blueMinimum]+r[t.alphaMinimum][t.redMinimum][t.greenMaximum][t.blueMinimum]-r[t.alphaMinimum][t.redMinimum][t.greenMinimum][t.blueMinimum]);default:return 0}},i.prototype._calculateVariance=function(t){var e=i._volume(t,this._momentsRed),r=i._volume(t,this._momentsGreen),a=i._volume(t,this._momentsBlue),n=i._volume(t,this._momentsAlpha);return i._volumeFloat(t,this._moments)-(e*e+r*r+a*a+n*n)/i._volume(t,this._weights)},i.prototype._maximize=function(t,e,r,a,n,s,o,u,h){for(var m=0|i._bottom(t,e,this._momentsRed),_=0|i._bottom(t,e,this._momentsGreen),l=0|i._bottom(t,e,this._momentsBlue),c=0|i._bottom(t,e,this._momentsAlpha),p=0|i._bottom(t,e,this._weights),f=0,d=-1,M=r;M<a;++M){var g=m+i._top(t,e,M,this._momentsRed),b=_+i._top(t,e,M,this._momentsGreen),v=l+i._top(t,e,M,this._momentsBlue),x=c+i._top(t,e,M,this._momentsAlpha),y=p+i._top(t,e,M,this._weights);if(0!=y){var w=g*g+b*b+v*v+x*x,S=w/y;g=n-g,b=s-b,v=o-v,x=u-x,0!=(y=h-y)&&(S+=(w=g*g+b*b+v*v+x*x)/y)>f&&(f=S,d=M)}}return{max:f,position:d}},i.prototype._cut=function(t,e){var r,a=i._volume(t,this._momentsRed),n=i._volume(t,this._momentsGreen),s=i._volume(t,this._momentsBlue),o=i._volume(t,this._momentsAlpha),u=i._volume(t,this._weights),h=this._maximize(t,i.red,t.redMinimum+1,t.redMaximum,a,n,s,o,u),m=this._maximize(t,i.green,t.greenMinimum+1,t.greenMaximum,a,n,s,o,u),_=this._maximize(t,i.blue,t.blueMinimum+1,t.blueMaximum,a,n,s,o,u),l=this._maximize(t,i.alpha,t.alphaMinimum+1,t.alphaMaximum,a,n,s,o,u);if(l.max>=h.max&&l.max>=m.max&&l.max>=_.max){if(r=i.alpha,l.position<0)return!1}else r=h.max>=l.max&&h.max>=m.max&&h.max>=_.max?i.red:m.max>=l.max&&m.max>=h.max&&m.max>=_.max?i.green:i.blue;switch(e.redMaximum=t.redMaximum,e.greenMaximum=t.greenMaximum,e.blueMaximum=t.blueMaximum,e.alphaMaximum=t.alphaMaximum,r){case i.red:e.redMinimum=t.redMaximum=h.position,e.greenMinimum=t.greenMinimum,e.blueMinimum=t.blueMinimum,e.alphaMinimum=t.alphaMinimum;break;case i.green:e.greenMinimum=t.greenMaximum=m.position,e.redMinimum=t.redMinimum,e.blueMinimum=t.blueMinimum,e.alphaMinimum=t.alphaMinimum;break;case i.blue:e.blueMinimum=t.blueMaximum=_.position,e.redMinimum=t.redMinimum,e.greenMinimum=t.greenMinimum,e.alphaMinimum=t.alphaMinimum;break;case i.alpha:e.alphaMinimum=t.alphaMaximum=l.position,e.blueMinimum=t.blueMinimum,e.redMinimum=t.redMinimum,e.greenMinimum=t.greenMinimum}return t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum),e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum),!0},i.prototype._initialize=function(i){this._colors=i,this._cubes=[];for(var t=0;t<i;t++)this._cubes[t]=new m;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=s(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=s(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=s(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=s(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=s(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=s(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var e=0;e<256;++e)this._table[e]=e*e;this._pixels=[]},i.prototype._setQuality=function(i){void 0===i&&(i=5),this._significantBitsPerChannel=i,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},i.alpha=3,i.red=2,i.green=1,i.blue=0,i}();t.WuQuant=_},function(i,t,e){"use strict";var r=e(31);t.NearestColor=r.NearestColor;var a=e(32);t.ErrorDiffusionArray=a.ErrorDiffusionArray,t.ErrorDiffusionArrayKernel=a.ErrorDiffusionArrayKernel;var n=e(33);t.ErrorDiffusionRiemersma=n.ErrorDiffusionRiemersma},function(i,t){"use strict";var e=function(){function i(i){this._distance=i}return i.prototype.quantize=function(i,t){for(var e=i.getPointArray(),r=i.getWidth(),a=i.getHeight(),n=0;n<a;n++)for(var s=0,o=n*r;s<r;s++,o++){var u=e[o];u.from(t.getNearestColor(this._distance,u))}return i},i}();t.NearestColor=e},function(i,t,e){"use strict";var r=e(24),a=e(6);!function(i){i[i.FloydSteinberg=0]="FloydSteinberg",i[i.FalseFloydSteinberg=1]="FalseFloydSteinberg",i[i.Stucki=2]="Stucki",i[i.Atkinson=3]="Atkinson",i[i.Jarvis=4]="Jarvis",i[i.Burkes=5]="Burkes",i[i.Sierra=6]="Sierra",i[i.TwoSierra=7]="TwoSierra",i[i.SierraLite=8]="SierraLite"}(t.ErrorDiffusionArrayKernel||(t.ErrorDiffusionArrayKernel={}));var n=t.ErrorDiffusionArrayKernel,s=function(){function i(i,t,e,r,a){void 0===e&&(e=!0),void 0===r&&(r=0),void 0===a&&(a=!1),this._setKernel(t),this._distance=i,this._minColorDistance=r,this._serpentine=e,this._calculateErrorLikeGIMP=a}return i.prototype.quantize=function(i,t){for(var e=i.getPointArray(),n=new r.Point,s=i.getWidth(),o=i.getHeight(),u=[],h=1,m=1,_=0;_<this._kernel.length;_++){var l=this._kernel[_][2]+1;m<l&&(m=l)}for(_=0;_<m;_++)this._fillErrorLine(u[_]=[],s);for(var c=0;c<o;c++){this._serpentine&&(h*=-1);var p=c*s,f=1==h?0:s-1,d=1==h?s:-1;this._fillErrorLine(u[0],s),u.push(u.shift());for(var M=u[0],g=f,b=p+f;g!==d;g+=h,b+=h){var v=e[b],x=M[g];n.from(v);var y=r.Point.createByRGBA(a.inRange0to255Rounded(v.r+x[0]),a.inRange0to255Rounded(v.g+x[1]),a.inRange0to255Rounded(v.b+x[2]),a.inRange0to255Rounded(v.a+x[3])),w=t.getNearestColor(this._distance,y);if(v.from(w),this._minColorDistance)if(this._distance.calculateNormalized(v,w)<this._minColorDistance)continue;var S=void 0,R=void 0,k=void 0,A=void 0;this._calculateErrorLikeGIMP?(S=y.r-w.r,R=y.g-w.g,k=y.b-w.b,A=y.a-w.a):(S=n.r-w.r,R=n.g-w.g,k=n.b-w.b,A=n.a-w.a);var z=1==h?0:this._kernel.length-1,E=1==h?this._kernel.length:-1;for(_=z;_!==E;_+=h){var P=this._kernel[_][1]*h,B=this._kernel[_][2];if(P+g>=0&&P+g<s&&B+c>=0&&B+c<o){var I=this._kernel[_][0],C=u[B][P+g];C[0]=C[0]+S*I,C[1]=C[1]+R*I,C[2]=C[2]+k*I,C[3]=C[3]+A*I}}}}return i},i.prototype._fillErrorLine=function(i,t){i.length>t&&(i.length=t);for(var e=i.length,r=0;r<e;r++){var a=i[r];a[0]=a[1]=a[2]=a[3]=0}for(r=e;r<t;r++)i[r]=[0,0,0,0]},i.prototype._setKernel=function(i){switch(i){case n.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case n.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[.25,1,1]];break;case n.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case n.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case n.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case n.Burkes:this._kernel=[[.25,1,0],[.125,2,0],[2/32,-2,1],[.125,-1,1],[.25,0,1],[.125,1,1],[2/32,2,1]];break;case n.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[.125,-1,1],[5/32,0,1],[.125,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case n.TwoSierra:this._kernel=[[.25,1,0],[3/16,2,0],[1/16,-2,1],[.125,-1,1],[3/16,0,1],[.125,1,1],[1/16,2,1]];break;case n.SierraLite:this._kernel=[[.5,1,0],[.25,-1,1],[.25,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+i)}},i}();t.ErrorDiffusionArray=s},function(i,t,e){"use strict";var r=e(34),a=e(24),n=e(6),s=function(){function i(i,t,e){void 0===t&&(t=16),void 0===e&&(e=1),this._distance=i,this._errorPropagation=e,this._errorQueueSize=t,this._max=this._errorQueueSize,this._createWeights()}return i.prototype.quantize=function(i,t){for(var e=this,s=new r.HilbertCurveBase,o=i.getPointArray(),u=i.getWidth(),h=i.getHeight(),m=[],_=0,l=0;l<this._errorQueueSize;l++)m[l]={r:0,g:0,b:0,a:0};return s.walk(u,h,function(i,r){for(var s=o[i+r*u],h=s.r,l=s.g,c=s.b,p=s.a,f=0;f<e._errorQueueSize;f++){var d=e._weights[f],M=m[(f+_)%e._errorQueueSize];h+=M.r*d,l+=M.g*d,c+=M.b*d,p+=M.a*d}var g=a.Point.createByRGBA(n.inRange0to255Rounded(h),n.inRange0to255Rounded(l),n.inRange0to255Rounded(c),n.inRange0to255Rounded(p)),b=t.getNearestColor(e._distance,g),v=((_=(_+1)%e._errorQueueSize)+e._errorQueueSize-1)%e._errorQueueSize;m[v].r=s.r-b.r,m[v].g=s.g-b.g,m[v].b=s.b-b.b,m[v].a=s.a-b.a,s.from(b)}),i},i.prototype._createWeights=function(){this._weights=[];for(var i=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),t=0,e=1;t<this._errorQueueSize;t++)this._weights[t]=(e+.5|0)/this._max*this._errorPropagation,e*=i},i}();t.ErrorDiffusionRiemersma=s},function(i,t){"use strict";var e;!function(i){i[i.NONE=0]="NONE",i[i.UP=1]="UP",i[i.LEFT=2]="LEFT",i[i.RIGHT=3]="RIGHT",i[i.DOWN=4]="DOWN"}(e||(e={}));var r=function(){function i(){}return i.prototype.walk=function(i,t,r){this._x=0,this._y=0,this._d=0,this._width=i,this._height=t,this._callback=r;var a=Math.max(i,t);this._level=Math.log(a)/Math.log(2)+1|0,this._walkHilbert(e.UP),this._visit(e.NONE)},i.prototype._walkHilbert=function(i){if(!(this._level<1)){switch(this._level--,i){case e.LEFT:this._walkHilbert(e.UP),this._visit(e.RIGHT),this._walkHilbert(e.LEFT),this._visit(e.DOWN),this._walkHilbert(e.LEFT),this._visit(e.LEFT),this._walkHilbert(e.DOWN);break;case e.RIGHT:this._walkHilbert(e.DOWN),this._visit(e.LEFT),this._walkHilbert(e.RIGHT),this._visit(e.UP),this._walkHilbert(e.RIGHT),this._visit(e.RIGHT),this._walkHilbert(e.UP);break;case e.UP:this._walkHilbert(e.LEFT),this._visit(e.DOWN),this._walkHilbert(e.UP),this._visit(e.RIGHT),this._walkHilbert(e.UP),this._visit(e.UP),this._walkHilbert(e.RIGHT);break;case e.DOWN:this._walkHilbert(e.RIGHT),this._visit(e.UP),this._walkHilbert(e.DOWN),this._visit(e.LEFT),this._walkHilbert(e.DOWN),this._visit(e.DOWN),this._walkHilbert(e.LEFT)}this._level++}},i.prototype._visit=function(i){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),i){case e.LEFT:this._x--;break;case e.RIGHT:this._x++;break;case e.UP:this._y--;break;case e.DOWN:this._y++}},i}();t.HilbertCurveBase=r},function(i,t,e){"use strict";var r=e(36);t.SSIM=r.SSIM},function(i,t,e){"use strict";var r=e(2),a=function(){function i(){}return i.prototype.compare=function(i,t){if(i.getHeight()!==t.getHeight()||i.getWidth()!==t.getWidth())throw new Error("Images have different sizes!");var e=Math.pow(.01*255,2),r=Math.pow(.03*255,2),a=0,n=0;return this._iterate(i,t,function(i,t,s,o){for(var u=0,h=0,m=0,_=0;_<i.length;_++)h+=Math.pow(i[_]-s,2),m+=Math.pow(t[_]-o,2),u+=(i[_]-s)*(t[_]-o);var l=i.length-1;h/=l,m/=l;var c=(2*s*o+e)*(2*(u/=l)+r),p=(Math.pow(s,2)+Math.pow(o,2)+e)*(h+m+r);n+=c/p,a++}),n/a},i.prototype._iterate=function(i,t,e){for(var r=i.getWidth(),a=i.getHeight(),n=0;n<a;n+=8)for(var s=0;s<r;s+=8){var o=Math.min(8,r-s),u=Math.min(8,a-n),h=this._calculateLumaValuesForWindow(i,s,n,o,u),m=this._calculateLumaValuesForWindow(t,s,n,o,u);e(h,m,this._calculateAverageLuma(h),this._calculateAverageLuma(m))}},i.prototype._calculateLumaValuesForWindow=function(i,t,e,a,n){for(var s=i.getPointArray(),o=[],u=0,h=e;h<e+n;h++)for(var m=h*i.getWidth(),_=t;_<t+a;_++){var l=s[m+_];o[u]=l.r*r.Y.RED+l.g*r.Y.GREEN+l.b*r.Y.BLUE,u++}return o},i.prototype._calculateAverageLuma=function(i){for(var t=0,e=0;e<i.length;e++)t+=i[e];return t/i.length},i}();t.SSIM=a},function(i,t,e){"use strict";var r=e(6);t.arithmetic=r;var a=e(28);t.HueStatistics=a.HueStatistics;var n=e(22);t.Palette=n.Palette;var s=e(24);t.Point=s.Point;var o=e(23);t.PointContainer=o.PointContainer}])});
},{}],"8Wr5":[function(require,module,exports) {
"use strict";const e=require("./bitmapimage"),{GifError:s}=require("./gif");class t extends e{constructor(...s){if(super(...s),s[0]instanceof t){const e=s[0];this.xOffset=e.xOffset,this.yOffset=e.yOffset,this.disposalMethod=e.disposalMethod,this.delayCentisecs=e.delayCentisecs,this.interlaced=e.interlaced}else{const i=s[s.length-1];let o={};"object"!=typeof i||i instanceof e||(o=i),this.xOffset=o.xOffset||0,this.yOffset=o.yOffset||0,this.disposalMethod=void 0!==o.disposalMethod?o.disposalMethod:t.DisposeToBackgroundColor,this.delayCentisecs=o.delayCentisecs||8,this.interlaced=o.interlaced||!1}}getPalette(){const e=new Set,s=this.bitmap.data;let t=0,i=!1;for(;t<s.length;){if(0===s[t+3])i=!0;else{const i=s.readUInt32BE(t,!0)>>8&16777215;e.add(i)}t+=4}const o=new Array(e.size),n=e.values();for(t=0;t<o.length;++t)o[t]=n.next().value;o.sort((e,s)=>e-s);let r=o.length;return i&&++r,{colors:o,usesTransparency:i,indexCount:r}}}t.DisposeToAnything=0,t.DisposeNothing=1,t.DisposeToBackgroundColor=2,t.DisposeToPrevious=3,exports.GifFrame=t;
},{"./bitmapimage":"kvY1","./gif":"AhcS"}],"bECn":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;const r=require("fs"),t=require("image-q"),n=require("./bitmapimage"),{GifFrame:i}=require("./gifframe"),{GifError:o}=require("./gif"),{GifCodec:a}=require("./gifcodec"),s=[".jpg",".jpeg",".png",".bmp"],u=new a;function c(e,r,n,i,o){const a=Array.isArray(e)?e:[e];if(o){if(["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"].indexOf(o.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${o.ditherAlgorithm}'`);void 0===o.serpentine&&(o.serpentine=!0),void 0===o.minimumColorDistanceToDither&&(o.minimumColorDistanceToDither=0),void 0===o.calculateErrorLikeGIMP&&(o.calculateErrorLikeGIMP=!1)}const s=new t.distance.Euclidean,u=new t.palette[r](s,n,i);let c;c=o?new t.image.ErrorDiffusionArray(s,t.image.ErrorDiffusionArrayKernel[o.ditherAlgorithm],o.serpentine,o.minimumColorDistanceToDither,o.calculateErrorLikeGIMP):new t.image.NearestColor(s);const f=[];a.forEach(e=>{const r=e.bitmap.data,n=new ArrayBuffer(r.length),i=new Uint32Array(n);for(let t=0,a=0;t<r.length;t+=4,++a)i[a]=r.readUInt32LE(t,!0);const o=t.utils.PointContainer.fromUint32Array(i,e.bitmap.width,e.bitmap.height);u.sample(o),f.push(o)});const l=u.quantize();for(let t=0;t<a.length;++t){const e=a[t].bitmap.data,r=c.quantize(f[t],l).toUint32Array();for(let t=0,n=0;t<e.length;t+=4,++n)e.writeUInt32LE(r[n],t)}}function f(e){return new Promise((t,n)=>{r.readFile(e,(e,r)=>e?n(e):t(r))})}function l(e,t){return new Promise((n,i)=>{r.writeFile(e,t,e=>e?i(e):n())})}exports.cloneFrames=function(e){let r=[];return e.forEach(e=>{r.push(new i(e))}),r},exports.getColorInfo=function(e,r){let t=!1;const n=[];for(let c=0;c<e.length;++c){let r=e[c].getPalette();if(r.usesTransparency&&(t=!0),r.indexCount>256)throw new o(`Frame ${c} uses more than 256 color indexes`);n.push(r)}if(0===r)return{usesTransparency:t,palettes:n};const i=new Set;n.forEach(e=>{e.colors.forEach(e=>{i.add(e)})});let a=i.size;if(t&&++a,r&&a>r)return{usesTransparency:t,palettes:n};const s=new Array(i.size),u=i.values();for(let o=0;o<s.length;++o)s[o]=u.next().value;return s.sort((e,r)=>e-r),{colors:s,indexCount:a,usesTransparency:t,palettes:n}},exports.copyAsJimp=function(e,r){return exports.shareAsJimp(e,new n(r))},exports.getMaxDimensions=function(e){let r=0,t=0;return e.forEach(e=>{const n=e.xOffset+e.bitmap.width;n>r&&(r=n);const i=e.yOffset+e.bitmap.height;i>t&&(t=i)}),{maxWidth:r,maxHeight:t}},exports.quantizeDekker=function(e,r,t){c(e,"NeuQuantFloat",r=r||256,0,t)},exports.quantizeSorokin=function(e,r,t,n){let i;switch(r=r||256,t=t||"min-pop"){case"min-pop":i=2;break;case"top-pop":i=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${t}'`)}c(e,"RGBQuant",r,i,n)},exports.quantizeWu=function(e,r,t,n){if(r=r||256,(t=t||5)<1||t>8)throw new Error("Invalid quantization quality");c(e,"WuQuant",r,t,n)},exports.read=function(r,t){return t=t||u,e.isBuffer(r)?t.decodeGif(r):f(r).then(e=>t.decodeGif(e))},exports.shareAsJimp=function(e,r){const t=new e(r.bitmap.width,r.bitmap.height,0);return t.bitmap.data=r.bitmap.data,t},exports.write=function(e,r,t,n){n=n||u;const i=e.match(/\.[a-zA-Z]+$/);if(null!==i&&s.includes(i[0].toLowerCase()))throw new Error(`GIF '${e}' has an unexpected suffix`);return n.encodeGif(r,t).then(r=>l(e,r.buffer).then(()=>r))};
},{"fs":"N2bG","image-q":"loSs","./bitmapimage":"kvY1","./gifframe":"8Wr5","./gif":"AhcS","./gifcodec":"OT6N","buffer":"VjIL"}],"OT6N":[function(require,module,exports) {
var process = require("process");
var Buffer = require("buffer").Buffer;
var e=require("process"),t=require("buffer").Buffer;const r=require("omggif"),{Gif:n,GifError:o}=require("./gif");let i;e.nextTick(()=>{i=require("./gifutil")});const{GifFrame:s}=require("./gifframe"),l=200,a=100;class c{constructor(e={}){this._transparentRGB=null,"number"==typeof e.transparentRGB&&0!==e.transparentRGB&&(this._transparentRGBA=256*e.transparentRGB),this._testInitialBufferSize=0}decodeGif(e){try{let i;try{i=new r.GifReader(e)}catch(t){throw new o(t)}const s=i.numFrames(),l=[],a={width:i.width,height:i.height,loops:i.loopCount(),usesTransparency:!1};for(let e=0;e<s;++e){const t=this._decodeFrame(i,e,a.usesTransparency);l.push(t.frame),t.usesTransparency&&(a.usesTransparency=!0)}return Promise.resolve(new n(e,l,a))}catch(t){return Promise.reject(t)}}encodeGif(e,t={}){try{if(null===e||0===e.length)throw new o("there are no frames");const s=i.getMaxDimensions(e);return(t=Object.assign({},t)).width=s.maxWidth,t.height=s.maxHeight,t.loops=t.loops||0,t.colorScope=t.colorScope||n.GlobalColorsPreferred,Promise.resolve(this._encodeGif(e,t))}catch(r){return Promise.reject(r)}}_decodeFrame(e,r,n){let i,l;try{if(i=e.frameInfo(r),l=new t(e.width*e.height*4),e.decodeAndBlitFrameRGBA(r,l),i.width!==e.width||i.height!==e.height){if(i.y&&(l=l.slice(i.y*e.width*4)),e.width>i.width)for(let t=0;t<i.height;++t)l.copy(l,t*i.width*4,4*(i.x+t*e.width),4*(i.x+t*e.width)+4*i.width);l=l.slice(0,i.width*i.height*4)}}catch(c){throw new o(c)}let a=!1;if(null===this._transparentRGBA){if(!n)for(let t=3;t<l.length;t+=4)0===l[t]&&(a=!0,t=l.length)}else for(let t=3;t<l.length;t+=4)0===l[t]&&(l.writeUInt32BE(this._transparentRGBA,t-3),a=!0);return{frame:new s(i.width,i.height,l,{xOffset:i.x,yOffset:i.y,disposalMethod:i.disposal,interlaced:i.interlaced,delayCentisecs:i.delay}),usesTransparency:a}}_encodeGif(e,t){let r;if(t.colorScope===n.LocalColorsOnly)r=i.getColorInfo(e,0);else if(!(r=i.getColorInfo(e,256)).colors){if(t.colorScope===n.GlobalColorsOnly)throw new o("Too many color indexes for global color table");t.colorScope=n.LocalColorsOnly}t.usesTransparency=r.usesTransparency;const s=r.palettes;if(t.colorScope===n.LocalColorsOnly){return d(e,t,2e3,s)}return u(e,t,2e3,r)}_getSizeEstimateGlobal(e,t){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let r=l+768;const n=y(e);return t.forEach(e=>{r+=w(e,n)}),r}_getSizeEstimateLocal(e,t){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let r=l;for(let n=0;n<t.length;++n){const o=y(e[n]);r+=w(t[n],o)}return r}}function f(e,t){const r=e.indexOf(t);return-1===r?null:r}function h(e,t){for(var r,n=0,o=e.length-1;n<=o;)if(e[r=Math.floor((n+o)/2)]>t)o=r-1;else{if(!(e[r]<t))return r;n=r+1}return null}function u(e,i,s,l){const a={colors:l.colors.slice(),usesTransparency:l.usesTransparency};p(a);const c={palette:a.colors,loop:i.loops};let f,h=new t(s);try{f=new r.GifWriter(h,i.width,i.height,c)}catch(u){throw new o(u)}for(let t=0;t<e.length;++t)h=m(f,t,e[t],l,!1);return new n(h.slice(0,f.end()),e,i)}function d(e,i,s,l){const a={loop:i.loops};let c,f=new t(s);try{c=new r.GifWriter(f,i.width,i.height,a)}catch(h){throw new o(h)}for(let t=0;t<e.length;++t)f=m(c,t,e[t],l[t],!0);return new n(f.slice(0,c.end()),e,i)}function p(e){const t=e.colors;e.usesTransparency&&t.push(0);const r=t.length;let n=2;for(;r>n;)n<<=1;t.length=n,t.fill(0,r)}function w(e,t){let r=e.bitmap.width*e.bitmap.height;return r=Math.ceil(r*t/8),r+=Math.ceil(r/255),a+r+768}function g(e,r,n){const i=n.colors,s=i.length<=8?f:h,l=r.bitmap.data,a=new t(l.length/4);let c=i.length,u=0,d=0;for(;u<l.length;){if(0!==l[u+3]){const e=l.readUInt32BE(u,!0)>>8&16777215;a[d]=s(i,e)}else a[d]=c;u+=4,++d}if(n.usesTransparency){if(256===c)throw new o(`Frame ${e} already has 256 colors`+"and so can't use transparency")}else c=null;return{buffer:a,transparentIndex:c}}function y(e){let t=e.indexCount,r=0;for(--t;t;)++r,t>>=1;return r>0?r:1}function m(e,r,n,i,s){if(n.interlaced)throw new o("writing interlaced GIFs is not supported");const l=g(r,n,i),a={delay:n.delayCentisecs,disposal:n.disposalMethod,transparent:l.transparentIndex};s&&(p(i),a.palette=i.colors);try{let r,i=e.getOutputBuffer(),s=e.getOutputBufferPosition(),f=!0;for(;f;)if(r=e.addFrame(n.xOffset,n.yOffset,n.bitmap.width,n.bitmap.height,l.buffer,a),f=!1,r>=i.length-1){const r=new t(1.5*i.length);i.copy(r),e.setOutputBuffer(r),e.setOutputBufferPosition(s),i=r,f=!0}return i}catch(c){throw new o(c)}}exports.GifCodec=c;
},{"omggif":"S6Cm","./gif":"AhcS","./gifutil":"bECn","./gifframe":"8Wr5","process":"rH1J","buffer":"VjIL"}],"/KZi":[function(require,module,exports) {
"use strict";const i=require("./bitmapimage"),{Gif:e,GifError:r}=require("./gif"),{GifCodec:f}=require("./gifcodec"),{GifFrame:G}=require("./gifframe"),m=require("./gifutil");module.exports={BitmapImage:i,Gif:e,GifCodec:f,GifFrame:G,GifUtil:m,GifError:r};
},{"./bitmapimage":"kvY1","./gif":"AhcS","./gifcodec":"OT6N","./gifframe":"8Wr5","./gifutil":"bECn"}],"CfnT":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime/helpers/defineProperty")),i=r(require("omggif")),u=require("gifwrap"),a="image/gif",f=function(){return{mime:(0,t.default)({},a,["gif"]),constants:{MIME_GIF:a},decoders:(0,t.default)({},a,function(r){var t=new i.default.GifReader(r),u=e.alloc(t.width*t.height*4);return t.decodeAndBlitFrameRGBA(0,u),{data:u,width:t.width,height:t.height}}),encoders:(0,t.default)({},a,function(e){var r=new u.BitmapImage(e.bitmap);u.GifUtil.quantizeDekker(r,256);var t=new u.GifFrame(r);return(new u.GifCodec).encodeGif([t],{}).then(function(e){return e.buffer})})}};exports.default=f;
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/defineProperty":"6x3D","omggif":"S6Cm","gifwrap":"/KZi","buffer":"VjIL"}],"iJh4":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("timm"),i=e(require("@jimp/jpeg")),u=e(require("@jimp/png")),t=e(require("@jimp/bmp")),p=e(require("@jimp/tiff")),f=e(require("@jimp/gif")),a=function(){return(0,r.mergeDeep)((0,i.default)(),(0,u.default)(),(0,t.default)(),(0,p.default)(),(0,f.default)())};exports.default=a;
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","timm":"EyTc","@jimp/jpeg":"t09+","@jimp/png":"2Xw1","@jimp/bmp":"4WTJ","@jimp/tiff":"bPGw","@jimp/gif":"CfnT"}],"0B/b":[function(require,module,exports) {
"use strict";var t=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=t(require("@babel/runtime/helpers/typeof")),r=require("@jimp/utils"),i=function(){return{blit:function(t,i,e,u,s,b,h,n){if(!(t instanceof this.constructor))return r.throwError.call(this,"The source must be a Jimp image",n);if("number"!=typeof i||"number"!=typeof e)return r.throwError.call(this,"x and y must be numbers",n);if("function"==typeof u)n=u,u=0,s=0,b=t.bitmap.width,h=t.bitmap.height;else{if((0,a.default)(u)!==(0,a.default)(s)||(0,a.default)(s)!==(0,a.default)(b)||(0,a.default)(b)!==(0,a.default)(h))return r.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",n);u=u||0,s=s||0,b=b||t.bitmap.width,h=h||t.bitmap.height}i=Math.round(i),e=Math.round(e),u=Math.round(u),s=Math.round(s),b=Math.round(b),h=Math.round(h);var d=this.bitmap.width,o=this.bitmap.height,m=this;return t.scanQuiet(u,s,b,h,function(t,a,r){var b=i+t-u,h=e+a-s;if(b>=0&&h>=0&&d-b>0&&o-h>0){var n=m.getPixelIndex(b,h),p={r:this.bitmap.data[r],g:this.bitmap.data[r+1],b:this.bitmap.data[r+2],a:this.bitmap.data[r+3]},l={r:m.bitmap.data[n],g:m.bitmap.data[n+1],b:m.bitmap.data[n+2],a:m.bitmap.data[n+3]};m.bitmap.data[n]=(p.a*(p.r-l.r)-l.r+255>>8)+l.r,m.bitmap.data[n+1]=(p.a*(p.g-l.g)-l.g+255>>8)+l.g,m.bitmap.data[n+2]=(p.a*(p.b-l.b)-l.b+255>>8)+l.b,m.bitmap.data[n+3]=this.constructor.limit255(l.a+p.a)}}),(0,r.isNodePattern)(n)&&n.call(this,null,this),this}}};exports.default=i;
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/typeof":"FlpK","@jimp/utils":"O8K0"}],"ms42":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shgTable=exports.mulTable=void 0;var e=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];exports.mulTable=e;var r=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];exports.shgTable=r;
},{}],"K49m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@jimp/utils"),a=require("./blur-tables"),i=function(){return{blur:function(i,h){if("number"!=typeof i)return t.throwError.call(this,"r must be a number",h);if(i<1)return t.throwError.call(this,"r must be greater than 0",h);for(var s,b,r,m,p,d,e,u,o,l,f,n,w,c,g=this.bitmap.width-1,v=this.bitmap.height-1,x=i+1,j=a.mulTable[i],q=a.shgTable[i],y=[],E=[],P=[],T=[],_=[],M=[],N=2;N-- >0;){for(n=0,w=0,d=0;d<this.bitmap.height;d++){for(s=this.bitmap.data[w]*x,b=this.bitmap.data[w+1]*x,r=this.bitmap.data[w+2]*x,m=this.bitmap.data[w+3]*x,e=1;e<=i;e++)u=w+((e>g?g:e)<<2),s+=this.bitmap.data[u++],b+=this.bitmap.data[u++],r+=this.bitmap.data[u++],m+=this.bitmap.data[u];for(p=0;p<this.bitmap.width;p++)y[n]=s,E[n]=b,P[n]=r,T[n]=m,0===d&&(_[p]=((u=p+x)<g?u:g)<<2,M[p]=(u=p-i)>0?u<<2:0),o=w+_[p],l=w+M[p],s+=this.bitmap.data[o++]-this.bitmap.data[l++],b+=this.bitmap.data[o++]-this.bitmap.data[l++],r+=this.bitmap.data[o++]-this.bitmap.data[l++],m+=this.bitmap.data[o]-this.bitmap.data[l],n++;w+=this.bitmap.width<<2}for(p=0;p<this.bitmap.width;p++){for(s=y[f=p]*x,b=E[f]*x,r=P[f]*x,m=T[f]*x,e=1;e<=i;e++)s+=y[f+=e>v?0:this.bitmap.width],b+=E[f],r+=P[f],m+=T[f];for(n=p<<2,d=0;d<this.bitmap.height;d++)c=m*j>>>q,this.bitmap.data[n+3]=c,c>255&&(this.bitmap.data[n+3]=255),c>0?(c=255/c,this.bitmap.data[n]=(s*j>>>q)*c,this.bitmap.data[n+1]=(b*j>>>q)*c,this.bitmap.data[n+2]=(r*j>>>q)*c):(this.bitmap.data[n+2]=0,this.bitmap.data[n+1]=0,this.bitmap.data[n]=0),0===p&&(_[d]=((u=d+x)<v?u:v)*this.bitmap.width,M[d]=(u=d-i)>0?u*this.bitmap.width:0),o=p+_[d],l=p+M[d],s+=y[o]-y[l],b+=E[o]-E[l],r+=P[o]-P[l],m+=T[o]-T[l],n+=this.bitmap.width<<2}}return(0,t.isNodePattern)(h)&&h.call(this,null,this),this}}};exports.default=i;
},{"@jimp/utils":"O8K0","./blur-tables":"ms42"}],"FmWp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@jimp/utils"),i=function(){return{circle:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;"function"==typeof i&&(e=i,i={});var h=i.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,a="number"==typeof i.x?i.x:this.bitmap.width/2,s="number"==typeof i.y?i.y:this.bitmap.height/2;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,i,e){var r=Math.sqrt(Math.pow(t-a,2)+Math.pow(i-s,2));h-r<=0?this.bitmap.data[e+3]=0:h-r<1&&(this.bitmap.data[e+3]=255*(h-r))}),(0,t.isNodePattern)(e)&&e.call(this,null,this),this}}};exports.default=i;
},{"@jimp/utils":"O8K0"}],"lnv6":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,a=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=a(require("@babel/runtime/helpers/toConsumableArray")),r=a(require("tinycolor2")),e=require("@jimp/utils");function s(t,a,i,r){for(var e=[0,0,0],s=(a.length-1)/2,h=0;h<a.length;h+=1)for(var n=0;n<a[h].length;n+=1){var l=t.getPixelIndex(i+h-s,r+n-s);e[0]+=t.bitmap.data[l]*a[h][n],e[1]+=t.bitmap.data[l+1]*a[h][n],e[2]+=t.bitmap.data[l+2]*a[h][n]}return e}var h=function(t){return null!=t};function n(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,a,i){var r=parseInt(.2126*this.bitmap.data[i]+.7152*this.bitmap.data[i+1]+.0722*this.bitmap.data[i+2],10);this.bitmap.data[i]=r,this.bitmap.data[i+1]=r,this.bitmap.data[i+2]=r}),(0,e.isNodePattern)(t)&&t.call(this,null,this),this}function l(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return{r:(a.r-t.r)*(i/100)+t.r,g:(a.g-t.g)*(i/100)+t.g,b:(a.b-t.b)*(i/100)+t.b}}function u(t,a){var s=this;return t&&Array.isArray(t)?(t=t.map(function(t){return"xor"!==t.apply&&"mix"!==t.apply||(t.params[0]=(0,r.default)(t.params[0]).toRgb()),t}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,n,u){var o={r:s.bitmap.data[u],g:s.bitmap.data[u+1],b:s.bitmap.data[u+2]},m=function(t,a){return s.constructor.limit255(o[t]+a)};t.forEach(function(t){if("mix"===t.apply)o=l(o,t.params[0],t.params[1]);else if("tint"===t.apply)o=l(o,{r:255,g:255,b:255},t.params[0]);else if("shade"===t.apply)o=l(o,{r:0,g:0,b:0},t.params[0]);else if("xor"===t.apply)o={r:o.r^t.params[0].r,g:o.g^t.params[0].g,b:o.b^t.params[0].b};else if("red"===t.apply)o.r=m("r",t.params[0]);else if("green"===t.apply)o.g=m("g",t.params[0]);else if("blue"===t.apply)o.b=m("b",t.params[0]);else{var h;if("hue"===t.apply&&(t.apply="spin"),!(o=(0,r.default)(o))[t.apply])return e.throwError.call(s,"action "+t.apply+" not supported",a);o=(h=o)[t.apply].apply(h,(0,i.default)(t.params)).toRgb()}}),s.bitmap.data[u]=o.r,s.bitmap.data[u+1]=o.g,s.bitmap.data[u+2]=o.b}),(0,e.isNodePattern)(a)&&a.call(this,null,this),this):e.throwError.call(this,"actions must be an array",a)}var o=function(){return{brightness:function(t,a){return"number"!=typeof t?e.throwError.call(this,"val must be numbers",a):t<-1||t>1?e.throwError.call(this,"val must be a number between -1 and +1",a):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(a,i,r){t<0?(this.bitmap.data[r]=this.bitmap.data[r]*(1+t),this.bitmap.data[r+1]=this.bitmap.data[r+1]*(1+t),this.bitmap.data[r+2]=this.bitmap.data[r+2]*(1+t)):(this.bitmap.data[r]=this.bitmap.data[r]+(255-this.bitmap.data[r])*t,this.bitmap.data[r+1]=this.bitmap.data[r+1]+(255-this.bitmap.data[r+1])*t,this.bitmap.data[r+2]=this.bitmap.data[r+2]+(255-this.bitmap.data[r+2])*t)}),(0,e.isNodePattern)(a)&&a.call(this,null,this),this)},contrast:function(t,a){if("number"!=typeof t)return e.throwError.call(this,"val must be numbers",a);if(t<-1||t>1)return e.throwError.call(this,"val must be a number between -1 and +1",a);var i=(t+1)/(1-t);function r(t){return(t=Math.floor(i*(t-127)+127))<0?0:t>255?255:t}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,a,i){this.bitmap.data[i]=r(this.bitmap.data[i]),this.bitmap.data[i+1]=r(this.bitmap.data[i+1]),this.bitmap.data[i+2]=r(this.bitmap.data[i+2])}),(0,e.isNodePattern)(a)&&a.call(this,null,this),this},posterize:function(t,a){return"number"!=typeof t?e.throwError.call(this,"n must be numbers",a):(t<2&&(t=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(a,i,r){this.bitmap.data[r]=Math.floor(this.bitmap.data[r]/255*(t-1))/(t-1)*255,this.bitmap.data[r+1]=Math.floor(this.bitmap.data[r+1]/255*(t-1))/(t-1)*255,this.bitmap.data[r+2]=Math.floor(this.bitmap.data[r+2]/255*(t-1))/(t-1)*255}),(0,e.isNodePattern)(a)&&a.call(this,null,this),this)},greyscale:n,grayscale:n,opacity:function(t,a){return"number"!=typeof t?e.throwError.call(this,"f must be a number",a):t<0||t>1?e.throwError.call(this,"f must be a number from 0 to 1",a):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(a,i,r){var e=this.bitmap.data[r+3]*t;this.bitmap.data[r+3]=e}),(0,e.isNodePattern)(a)&&a.call(this,null,this),this)},sepia:function(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,a,i){var r=this.bitmap.data[i],e=this.bitmap.data[i+1],s=this.bitmap.data[i+2];s=.272*(r=.393*r+.769*e+.189*s)+.534*(e=.349*r+.686*e+.168*s)+.131*s,this.bitmap.data[i]=r<255?r:255,this.bitmap.data[i+1]=e<255?e:255,this.bitmap.data[i+2]=s<255?s:255}),(0,e.isNodePattern)(t)&&t.call(this,null,this),this},fade:function(t,a){return"number"!=typeof t?e.throwError.call(this,"f must be a number",a):t<0||t>1?e.throwError.call(this,"f must be a number from 0 to 1",a):(this.opacity(1-t),(0,e.isNodePattern)(a)&&a.call(this,null,this),this)},convolution:function(a,i,r){"function"==typeof i&&void 0===r&&(r=i,i=null),i||(i=this.constructor.EDGE_EXTEND);var s,h,n,l,u,o,m,p,b,f,c=t.from(this.bitmap.data),d=a.length,y=a[0].length,g=Math.floor(d/2),w=Math.floor(y/2),v=-g,E=-w;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,r,e){l=0,n=0,h=0;for(var d=v;d<=g;d++)for(var y=E;y<=w;y++)p=t+y,b=r+d,s=a[d+g][y+w],-1===(f=this.getPixelIndex(p,b,i))?(m=0,o=0,u=0):(u=this.bitmap.data[f+0],o=this.bitmap.data[f+1],m=this.bitmap.data[f+2]),h+=s*u,n+=s*o,l+=s*m;h<0&&(h=0),n<0&&(n=0),l<0&&(l=0),h>255&&(h=255),n>255&&(n=255),l>255&&(l=255),c[e+0]=h,c[e+1]=n,c[e+2]=l}),this.bitmap.data=c,(0,e.isNodePattern)(r)&&r.call(this,null,this),this},opaque:function(t){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,a,i){this.bitmap.data[i+3]=255}),(0,e.isNodePattern)(t)&&t.call(this,null,this),this},pixelate:function(t,a,i,r,n,l){if("function"==typeof a)l=a,n=null,r=null,i=null,a=null;else{if("number"!=typeof t)return e.throwError.call(this,"size must be a number",l);if(h(a)&&"number"!=typeof a)return e.throwError.call(this,"x must be a number",l);if(h(i)&&"number"!=typeof i)return e.throwError.call(this,"y must be a number",l);if(h(r)&&"number"!=typeof r)return e.throwError.call(this,"w must be a number",l);if(h(n)&&"number"!=typeof n)return e.throwError.call(this,"h must be a number",l)}var u=[[1/16,.125,1/16],[.125,.25,.125],[1/16,.125,1/16]];a=a||0,i=i||0,r=h(r)?r:this.bitmap.width-a,n=h(n)?n:this.bitmap.height-i;var o=this.cloneQuiet();return this.scanQuiet(a,i,r,n,function(a,i,r){a=t*Math.floor(a/t),i=t*Math.floor(i/t);var e=s(o,u,a,i);this.bitmap.data[r]=e[0],this.bitmap.data[r+1]=e[1],this.bitmap.data[r+2]=e[2]}),(0,e.isNodePattern)(l)&&l.call(this,null,this),this},convolute:function(t,a,i,r,n,l){if(!Array.isArray(t))return e.throwError.call(this,"the kernel must be an array",l);if("function"==typeof a)l=a,a=null,i=null,r=null,n=null;else{if(h(a)&&"number"!=typeof a)return e.throwError.call(this,"x must be a number",l);if(h(i)&&"number"!=typeof i)return e.throwError.call(this,"y must be a number",l);if(h(r)&&"number"!=typeof r)return e.throwError.call(this,"w must be a number",l);if(h(n)&&"number"!=typeof n)return e.throwError.call(this,"h must be a number",l)}var u=(t.length-1)/2;a=h(a)?a:u,i=h(i)?i:u,r=h(r)?r:this.bitmap.width-a,n=h(n)?n:this.bitmap.height-i;var o=this.cloneQuiet();return this.scanQuiet(a,i,r,n,function(a,i,r){var e=s(o,t,a,i);this.bitmap.data[r]=this.constructor.limit255(e[0]),this.bitmap.data[r+1]=this.constructor.limit255(e[1]),this.bitmap.data[r+2]=this.constructor.limit255(e[2])}),(0,e.isNodePattern)(l)&&l.call(this,null,this),this},color:u,colour:u}};exports.default=o;
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/toConsumableArray":"I9dH","tinycolor2":"ZdXS","@jimp/utils":"O8K0","buffer":"VjIL"}],"xhmy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@jimp/utils"),i=function(){return{contain:function(i,e,n,r,h){if("number"!=typeof i||"number"!=typeof e)return t.throwError.call(this,"w and h must be numbers",h);"string"==typeof n&&("function"==typeof r&&void 0===h&&(h=r),r=n,n=null),"function"==typeof n&&(void 0===h&&(h=n),r=null,n=null),"function"==typeof r&&void 0===h&&(h=r,r=null);var s=7&(n=n||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),o=n>>3;if((0===s||s&s-1)&&(0===o||o&o-1))return t.throwError.call(this,"only use one flag per alignment direction",h);var u=s>>1,a=o>>1,l=i/e>this.bitmap.width/this.bitmap.height?e/this.bitmap.height:i/this.bitmap.width,p=this.cloneQuiet().scale(l,r);return this.resize(i,e,r),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,i,e){this.bitmap.data.writeUInt32BE(this._background,e)}),this.blit(p,(this.bitmap.width-p.bitmap.width)/2*u,(this.bitmap.height-p.bitmap.height)/2*a),(0,t.isNodePattern)(h)&&h.call(this,null,this),this}}};exports.default=i;
},{"@jimp/utils":"O8K0"}],"bHSs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@jimp/utils"),i=function(){return{cover:function(i,e,r,o,n){if("number"!=typeof i||"number"!=typeof e)return t.throwError.call(this,"w and h must be numbers",n);r&&"function"==typeof r&&void 0===n?(n=r,r=null,o=null):"function"==typeof o&&void 0===n&&(n=o,o=null);var s=7&(r=r||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE),h=r>>3;if((0===s||s&s-1)&&(0===h||h&h-1))return t.throwError.call(this,"only use one flag per alignment direction",n);var u=s>>1,l=h>>1,a=i/e>this.bitmap.width/this.bitmap.height?i/this.bitmap.width:e/this.bitmap.height;return this.scale(a,o),this.crop((this.bitmap.width-i)/2*u,(this.bitmap.height-e)/2*l,i,e),(0,t.isNodePattern)(n)&&n.call(this,null,this),this}}};exports.default=i;
},{"@jimp/utils":"O8K0"}],"e6KB":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,r=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=r(require("@babel/runtime/helpers/typeof")),i=require("@jimp/utils");function o(r){return r("crop",function(r,e,o,a,s){if("number"!=typeof r||"number"!=typeof e)return i.throwError.call(this,"x and y must be numbers",s);if("number"!=typeof o||"number"!=typeof a)return i.throwError.call(this,"w and h must be numbers",s);if(r=Math.round(r),e=Math.round(e),o=Math.round(o),a=Math.round(a),0===r&&o===this.bitmap.width){var n=o*e+r<<2,h=n+a*o<<2;this.bitmap.data=this.bitmap.data.slice(n,h)}else{var l=t.allocUnsafe(o*a*4),f=0;this.scanQuiet(r,e,o,a,function(t,r,e){var i=this.bitmap.data.readUInt32BE(e,!0);l.writeUInt32BE(i,f,!0),f+=4}),this.bitmap.data=l}return this.bitmap.width=o,this.bitmap.height=a,(0,i.isNodePattern)(s)&&s.call(this,null,this),this}),{class:{autocrop:function(){for(var t,r=this.bitmap.width,o=this.bitmap.height,a=0,s=2e-4,n=!0,h=!1,l={north:!1,south:!1,east:!1,west:!1},f=arguments.length,u=new Array(f),c=0;c<f;c++)u[c]=arguments[c];for(var p=0,v=u.length;p<v;p++)if("number"==typeof u[p]&&(s=u[p]),"boolean"==typeof u[p]&&(n=u[p]),"function"==typeof u[p]&&(t=u[p]),"object"===(0,e.default)(u[p])){var b=u[p];void 0!==b.tolerance&&(s=b.tolerance),void 0!==b.cropOnlyFrames&&(n=b.cropOnlyFrames),void 0!==b.cropSymmetric&&(h=b.cropSymmetric),void 0!==b.leaveBorder&&(a=b.leaveBorder),void 0!==b.ignoreSides&&(l=b.ignoreSides)}var d=this.getPixelColor(0,0),m=this.constructor.intToRGBA(d),g=0,y=0,x=0,P=0;if(d=this.getPixelColor(0,0),!l.north)t:for(var w=0;w<o-1;w++){for(var B=0;B<r;B++){var C=this.getPixelColor(B,w),M=this.constructor.intToRGBA(C);if(this.constructor.colorDiff(m,M)>s)break t}g++}if(d=this.getPixelColor(r,0),!l.east)t:for(var A=0;A<r-1;A++){for(var R=0+g;R<o;R++){var q=this.getPixelColor(A,R),D=this.constructor.intToRGBA(q);if(this.constructor.colorDiff(m,D)>s)break t}y++}if(d=this.getPixelColor(0,o),!l.south)t:for(var G=o-1;G>=g+1;G--){for(var T=r-y-1;T>=0;T--){var k=this.getPixelColor(T,G),E=this.constructor.intToRGBA(k);if(this.constructor.colorDiff(m,E)>s)break t}x++}if(d=this.getPixelColor(r,o),!l.west)t:for(var S=r-1;S>=0+y+1;S--){for(var j=o-1;j>=0+g;j--){var O=this.getPixelColor(S,j),U=this.constructor.intToRGBA(O);if(this.constructor.colorDiff(m,U)>s)break t}P++}if(P-=a,y-=a,g-=a,x-=a,h){var F=Math.min(y,P),I=Math.min(g,x);P=F,y=F,g=I,x=I}var N=r-((P=P>=0?P:0)+(y=y>=0?y:0)),_=o-((x=x>=0?x:0)+(g=g>=0?g:0));return(n?0!==y&&0!==g&&0!==P&&0!==x:0!==y||0!==g||0!==P||0!==x)&&this.crop(y,g,N,_),(0,i.isNodePattern)(t)&&t.call(this,null,this),this}}}}
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/typeof":"FlpK","@jimp/utils":"O8K0","buffer":"VjIL"}],"Tab7":[function(require,module,exports) {
"use strict";var t=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("@babel/runtime/helpers/typeof")),i=require("@jimp/utils"),r=function(){return{displace:function(t,r,a){if("object"!==(0,e.default)(t)||t.constructor!==this.constructor)return i.throwError.call(this,"The source must be a Jimp image",a);if("number"!=typeof r)return i.throwError.call(this,"factor must be a number",a);var u=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,i,a){var s=t.bitmap.data[a]/256*r;s=Math.round(s);var o=this.getPixelIndex(e+s,i);this.bitmap.data[o]=u.bitmap.data[a],this.bitmap.data[o+1]=u.bitmap.data[a+1],this.bitmap.data[o+2]=u.bitmap.data[a+2]}),(0,i.isNodePattern)(a)&&a.call(this,null,this),this}}};exports.default=r;
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/typeof":"FlpK","@jimp/utils":"O8K0"}],"n7Le":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@jimp/utils");function i(i){var a=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,i,e){var s=a[((3&i)<<2)+t%4];this.bitmap.data[e]=Math.min(this.bitmap.data[e]+s,255),this.bitmap.data[e+1]=Math.min(this.bitmap.data[e+1]+s,255),this.bitmap.data[e+2]=Math.min(this.bitmap.data[e+2]+s,255)}),(0,t.isNodePattern)(i)&&i.call(this,null,this),this}var a=function(){return{dither565:i,dither16:i}};exports.default=a;
},{"@jimp/utils":"O8K0"}],"FKtp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@jimp/utils"),e=function(){return{fisheye:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{r:2.5},o=arguments.length>1?arguments[1]:void 0;"function"==typeof i&&(o=i,i={r:2.5});var r=this.cloneQuiet(),l=r.bitmap,n=l.width,s=l.height;return r.scanQuiet(0,0,n,s,function(t,o){var l=t/n,h=o/s,u=Math.sqrt(Math.pow(l-.5,2)+Math.pow(h-.5,2)),a=2*Math.pow(u,i.r),d=(l-.5)/u,p=(h-.5)/u,c=Math.round((a*d+.5)*n),f=Math.round((a*p+.5)*s),v=r.getPixelColor(c,f);e.setPixelColor(v,t,o)}),this.setPixelColor(r.getPixelColor(n/2,s/2),n/2,s/2),(0,t.isNodePattern)(o)&&o.call(this,null,this),this}}};exports.default=e;
},{"@jimp/utils":"O8K0"}],"fcoA":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("@jimp/utils");function e(e,r,a){if("boolean"!=typeof e||"boolean"!=typeof r)return i.throwError.call(this,"horizontal and vertical must be Booleans",a);var o=t.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,i,a){var h=e?this.bitmap.width-1-t:t,s=r?this.bitmap.height-1-i:i,n=this.bitmap.width*s+h<<2,l=this.bitmap.data.readUInt32BE(a);o.writeUInt32BE(l,n)}),this.bitmap.data=t.from(o),(0,i.isNodePattern)(a)&&a.call(this,null,this),this}var r=function(){return{flip:e,mirror:e}};exports.default=r;
},{"@jimp/utils":"O8K0","buffer":"VjIL"}],"hRfM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@jimp/utils"),a=function(){return{gaussian:function(a,i){if("number"!=typeof a)return t.throwError.call(this,"r must be a number",i);if(a<1)return t.throwError.call(this,"r must be greater than 0",i);for(var r=Math.ceil(2.57*a),h=2*r+1,e=a*a*2,s=e*Math.PI,o=[],m=0;m<h;m++){o[m]=[];for(var p=0;p<h;p++){var u=Math.pow(p-r,2)+Math.pow(m-r,2);o[m][p]=Math.exp(-u/e)/s}}for(var d=0;d<this.bitmap.height;d++)for(var n=0;n<this.bitmap.width;n++)for(var b=0,f=0,l=0,M=0,v=0,c=0;c<h;c++){for(var w=0;w<h;w++){var x=Math.min(this.bitmap.width-1,Math.max(0,w+n-r)),g=Math.min(this.bitmap.height-1,Math.max(0,c+d-r)),P=o[c][w],j=g*this.bitmap.width+x<<2;b+=this.bitmap.data[j]*P,f+=this.bitmap.data[j+1]*P,l+=this.bitmap.data[j+2]*P,M+=this.bitmap.data[j+3]*P,v+=P}var y=d*this.bitmap.width+n<<2;this.bitmap.data[y]=Math.round(b/v),this.bitmap.data[y+1]=Math.round(f/v),this.bitmap.data[y+2]=Math.round(l/v),this.bitmap.data[y+3]=Math.round(M/v)}return(0,t.isNodePattern)(i)&&i.call(this,null,this),this}}};exports.default=a;
},{"@jimp/utils":"O8K0"}],"Mcx7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@jimp/utils"),i=function(){return{invert:function(i){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,i,a){this.bitmap.data[a]=255-this.bitmap.data[a],this.bitmap.data[a+1]=255-this.bitmap.data[a+1],this.bitmap.data[a+2]=255-this.bitmap.data[a+2]}),(0,t.isNodePattern)(i)&&i.call(this,null,this),this}}};exports.default=i;
},{"@jimp/utils":"O8K0"}],"jDLo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@jimp/utils"),e=function(){return{mask:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0;if(!(e instanceof this.constructor))return t.throwError.call(this,"The source must be a Jimp image",a);if("number"!=typeof i||"number"!=typeof r)return t.throwError.call(this,"x and y must be numbers",a);i=Math.round(i),r=Math.round(r);var n=this.bitmap.width,s=this.bitmap.height,o=this;return e.scanQuiet(0,0,e.bitmap.width,e.bitmap.height,function(t,e,a){var u=i+t,h=r+e;if(u>=0&&h>=0&&u<n&&h<s){var d=o.getPixelIndex(u,h),l=this.bitmap.data,m=(l[a+0]+l[a+1]+l[a+2])/3;o.bitmap.data[d+3]*=m/255}}),(0,t.isNodePattern)(a)&&a.call(this,null,this),this}}};exports.default=e;
},{"@jimp/utils":"O8K0"}],"zLpZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@jimp/utils");function i(){var t={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(i,a,r){t.r[this.bitmap.data[r+0]]++,t.g[this.bitmap.data[r+1]]++,t.b[this.bitmap.data[r+2]]++}),t}var a=function(t,i,a){return 255*(t-i)/(a-i)},r=function(t){return[t.findIndex(function(t){return t>0}),255-t.slice().reverse().findIndex(function(t){return t>0})]},e=function(){return{normalize:function(e){var n=i.call(this),s={r:r(n.r),g:r(n.g),b:r(n.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,i,r){var e=this.bitmap.data[r+0],n=this.bitmap.data[r+1],u=this.bitmap.data[r+2];this.bitmap.data[r+0]=a(e,s.r[0],s.r[1]),this.bitmap.data[r+1]=a(n,s.g[0],s.g[1]),this.bitmap.data[r+2]=a(u,s.b[0],s.b[1])}),(0,t.isNodePattern)(e)&&e.call(this,null,this),this}}};exports.default=e;
},{"@jimp/utils":"O8K0"}],"2s71":[function(require,module,exports) {
var global = arguments[3];
var e,d=arguments[3];e="undefined"!=typeof window?window:void 0!==d?d:"undefined"!=typeof self?self:{},module.exports=e;
},{}],"fCXS":[function(require,module,exports) {
module.exports=t;var o=Object.prototype.toString;function t(t){if(!t)return!1;var n=o.call(t);return"[object Function]"===n||"function"==typeof t&&"[object RegExp]"!==n||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}
},{}],"2BIj":[function(require,module,exports) {
var r=function(r){return r.replace(/^\s+|\s+$/g,"")},e=function(r){return"[object Array]"===Object.prototype.toString.call(r)};module.exports=function(t){if(!t)return{};for(var n={},o=r(t).split("\n"),i=0;i<o.length;i++){var c=o[i],u=c.indexOf(":"),l=r(c.slice(0,u)).toLowerCase(),s=r(c.slice(u+1));void 0===n[l]?n[l]=s:e(n[l])?n[l].push(s):n[l]=[n[l],s]}return n};
},{}],"lKyF":[function(require,module,exports) {
module.exports=o;var r=Object.prototype.hasOwnProperty;function o(){for(var o={},t=0;t<arguments.length;t++){var e=arguments[t];for(var a in e)r.call(e,a)&&(o[a]=e[a])}return o}
},{}],"PPE/":[function(require,module,exports) {
"use strict";var e=require("global/window"),t=require("is-function"),r=require("parse-headers"),n=require("xtend");function o(e,t){for(var r=0;r<e.length;r++)t(e[r])}function s(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function u(e,r,o){var s=e;return t(r)?(o=r,"string"==typeof e&&(s={uri:e})):s=n(r,{uri:e}),s.callback=o,s}function a(e,t,r){return i(t=u(e,t,r))}function i(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(r,n,o){t||(t=!0,e.callback(r,n,o))};function o(){var e=void 0;if(e=l.response?l.response:l.responseText||d(l),R)try{e=JSON.parse(e)}catch(t){}return e}function u(e){return clearTimeout(f),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,X)}function i(){if(!c){var t;clearTimeout(f),t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var s=X,u=null;return 0!==t?(s={body:o(),statusCode:t,method:m,headers:{},url:h,rawRequest:l},l.getAllResponseHeaders&&(s.headers=r(l.getAllResponseHeaders()))):u=new Error("Internal XMLHttpRequest Error"),n(u,s,s.body)}}var p,c,l=e.xhr||null;l||(l=e.cors||e.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var f,h=l.url=e.uri||e.url,m=l.method=e.method||"GET",y=e.body||e.data,w=l.headers=e.headers||{},q=!!e.sync,R=!1,X={body:void 0,headers:{},statusCode:0,method:m,url:h,rawRequest:l};if("json"in e&&!1!==e.json&&(R=!0,w.accept||w.Accept||(w.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(w["content-type"]||w["Content-Type"]||(w["Content-Type"]="application/json"),y=JSON.stringify(!0===e.json?y:e.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(i,0)},l.onload=i,l.onerror=u,l.onprogress=function(){},l.onabort=function(){c=!0},l.ontimeout=u,l.open(m,h,!q,e.username,e.password),q||(l.withCredentials=!!e.withCredentials),!q&&e.timeout>0&&(f=setTimeout(function(){if(!c){c=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",u(e)}},e.timeout)),l.setRequestHeader)for(p in w)w.hasOwnProperty(p)&&l.setRequestHeader(p,w[p]);else if(e.headers&&!s(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(l),l.send(y||null),l}function d(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(r){}return null}function p(){}module.exports=a,module.exports.default=a,a.XMLHttpRequest=e.XMLHttpRequest||p,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:e.XDomainRequest,o(["get","put","post","patch","head","delete"],function(e){a["delete"===e?"del":e]=function(t,r,n){return(r=u(t,r,n)).method=e.toUpperCase(),i(r)}});
},{"global/window":"2s71","is-function":"fCXS","parse-headers":"2BIj","xtend":"lKyF"}],"bpq5":[function(require,module,exports) {
function e(e,t){if(!(e=e.replace(/\t+/g," ").trim()))return null;var n=e.indexOf(" ");if(-1===n)throw new Error("no named row at line "+t);var a=e.substring(0,n);e=(e=(e=(e=e.substring(n+1)).replace(/letter=[\'\"]\S+[\'\"]/gi,"")).split("=")).map(function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var i=[],o=0;o<e.length;o++){var f=e[o];0===o?i.push({key:f[0],data:""}):o===e.length-1?i[i.length-1].data=r(f[0]):(i[i.length-1].data=r(f[0]),i.push({key:f[1],data:""}))}var d={key:a,data:{}};return i.forEach(function(e){d.data[e.key]=e.data}),d}function r(e){return e&&0!==e.length?0===e.indexOf('"')||0===e.indexOf("'")?e.substring(1,e.length-1):-1!==e.indexOf(",")?t(e):parseInt(e,10):""}function t(e){return e.split(",").map(function(e){return parseInt(e,10)})}module.exports=function(r){if(!r)throw new Error("no data provided");var t={pages:[],chars:[],kernings:[]},n=(r=r.toString().trim()).split(/\r\n?|\n/g);if(0===n.length)throw new Error("no data in BMFont file");for(var a=0;a<n.length;a++){var i=e(n[a],a);if(i)if("page"===i.key){if("number"!=typeof i.data.id)throw new Error("malformed file at line "+a+" -- needs page id=N");if("string"!=typeof i.data.file)throw new Error("malformed file at line "+a+' -- needs page file="path"');t.pages[i.data.id]=i.data.file}else"chars"===i.key||"kernings"===i.key||("char"===i.key?t.chars.push(i.data):"kerning"===i.key?t.kernings.push(i.data):t[i.key]=i.data)}return t};
},{}],"tEXE":[function(require,module,exports) {
var n="chasrset";function r(n){return n.split(",").map(function(n){return parseInt(n,10)})}module.exports=function(e){for(var t in n in e&&(e.charset=e[n],delete e[n]),e)"face"!==t&&"charset"!==t&&(e[t]="padding"===t||"spacing"===t?r(e[t]):parseInt(e[t],10));return e};
},{}],"4+wB":[function(require,module,exports) {
module.exports=void 0!==self.DOMParser?function(e){return(new self.DOMParser).parseFromString(e,"application/xml")}:void 0!==self.ActiveXObject&&new self.ActiveXObject("Microsoft.XMLDOM")?function(e){var r=new self.ActiveXObject("Microsoft.XMLDOM");return r.async="false",r.loadXML(e),r}:function(e){var r=document.createElement("div");return r.innerHTML=e,r};
},{}],"U7y9":[function(require,module,exports) {
var e=require("./parse-attribs"),r=require("xml-parse-from-string"),t={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};function n(e){return a(e).reduce(function(e,r){return e[i(r.nodeName)]=r.nodeValue,e},{})}function a(e){for(var r=[],t=0;t<e.attributes.length;t++)r.push(e.attributes[t]);return r}function i(e){return t[e.toLowerCase()]||e}module.exports=function(t){t=t.toString();var a=r(t),i={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(r){var t=a.getElementsByTagName(r)[0];t&&(i[r]=e(n(t)))});var l=a.getElementsByTagName("pages")[0];if(!l)throw new Error("malformed file -- no <pages> element");for(var s=l.getElementsByTagName("page"),o=0;o<s.length;o++){var g=s[o],h=parseInt(g.getAttribute("id"),10),u=g.getAttribute("file");if(isNaN(h))throw new Error('malformed file -- page "id" attribute is NaN');if(!u)throw new Error('malformed file -- needs page "file" attribute');i.pages[parseInt(h,10)]=u}return["chars","kernings"].forEach(function(r){var t=a.getElementsByTagName(r)[0];if(t)for(var l=r.substring(0,r.length-1),s=t.getElementsByTagName(l),o=0;o<s.length;o++){var g=s[o];i[r].push(e(n(g)))}}),i};
},{"./parse-attribs":"tEXE","xml-parse-from-string":"4+wB"}],"tfPV":[function(require,module,exports) {
var r=[66,77,70];function n(r,n,i){if(i>n.length-1)return 0;var I=n.readUInt8(i++),c=n.readInt32LE(i);switch(i+=4,I){case 1:r.info=e(n,i);break;case 2:r.common=t(n,i);break;case 3:r.pages=a(n,i,c);break;case 4:r.chars=d(n,i,c);break;case 5:r.kernings=o(n,i,c)}return 5+c}function e(r,n){var e={};e.size=r.readInt16LE(n);var t=r.readUInt8(n+2);return e.smooth=t>>7&1,e.unicode=t>>6&1,e.italic=t>>5&1,e.bold=t>>4&1,t>>3&1&&(e.fixedHeight=1),e.charset=r.readUInt8(n+3)||"",e.stretchH=r.readUInt16LE(n+4),e.aa=r.readUInt8(n+6),e.padding=[r.readInt8(n+7),r.readInt8(n+8),r.readInt8(n+9),r.readInt8(n+10)],e.spacing=[r.readInt8(n+11),r.readInt8(n+12)],e.outline=r.readUInt8(n+13),e.face=I(r,n+14),e}function t(r,n){var e={};e.lineHeight=r.readUInt16LE(n),e.base=r.readUInt16LE(n+2),e.scaleW=r.readUInt16LE(n+4),e.scaleH=r.readUInt16LE(n+6),e.pages=r.readUInt16LE(n+8);r.readUInt8(n+10);return e.packed=0,e.alphaChnl=r.readUInt8(n+11),e.redChnl=r.readUInt8(n+12),e.greenChnl=r.readUInt8(n+13),e.blueChnl=r.readUInt8(n+14),e}function a(r,n,e){for(var t=[],a=i(r,n),d=a.length+1,o=e/d,I=0;I<o;I++)t[I]=r.slice(n,n+a.length).toString("utf8"),n+=d;return t}function d(r,n,e){for(var t=[],a=e/20,d=0;d<a;d++){var o={},i=20*d;o.id=r.readUInt32LE(n+0+i),o.x=r.readUInt16LE(n+4+i),o.y=r.readUInt16LE(n+6+i),o.width=r.readUInt16LE(n+8+i),o.height=r.readUInt16LE(n+10+i),o.xoffset=r.readInt16LE(n+12+i),o.yoffset=r.readInt16LE(n+14+i),o.xadvance=r.readInt16LE(n+16+i),o.page=r.readUInt8(n+18+i),o.chnl=r.readUInt8(n+19+i),t[d]=o}return t}function o(r,n,e){for(var t=[],a=e/10,d=0;d<a;d++){var o={},i=10*d;o.first=r.readUInt32LE(n+0+i),o.second=r.readUInt32LE(n+4+i),o.amount=r.readInt16LE(n+8+i),t[d]=o}return t}function i(r,n){for(var e=n;e<r.length&&0!==r[e];e++);return r.slice(n,e)}function I(r,n){return i(r,n).toString("utf8")}module.exports=function(e){if(e.length<6)throw new Error("invalid buffer length for BMFont");if(!r.every(function(r,n){return e.readUInt8(n)===r}))throw new Error("BMFont missing BMF byte header");var t=3;if(e.readUInt8(t++)>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var a={kernings:[],chars:[]},d=0;d<5;d++)t+=n(a,e,t);return a};
},{}],"aG8f":[function(require,module,exports) {

var e=require("buffer").Buffer;module.exports=function(r,f){if(e.isBuffer(r)&&e.isBuffer(f)){if("function"==typeof r.equals)return r.equals(f);if(r.length!==f.length)return!1;for(var u=0;u<r.length;u++)if(r[u]!==f[u])return!1;return!0}};
},{"buffer":"VjIL"}],"TNt5":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("buffer-equal"),u=e.from([66,77,70,3]);module.exports=function(e){return"string"==typeof e?"BMF"===e.substring(0,3):e.length>4&&r(e.slice(0,4),u)};
},{"buffer-equal":"aG8f","buffer":"VjIL"}],"k3gn":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,e=require("xhr"),t=function(){},n=require("parse-bmfont-ascii"),i=require("parse-bmfont-xml"),o=require("parse-bmfont-binary"),s=require("./lib/is-binary"),u=require("xtend"),f=self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;function a(r){return"[object ArrayBuffer]"===Object.prototype.toString.call(r)}function p(r){if(f)return u(r,{responseType:"arraybuffer"});if(void 0===self.XMLHttpRequest)throw new Error("your browser does not support XHR loading");var e=new self.XMLHttpRequest;return e.overrideMimeType("text/plain; charset=x-user-defined"),u({xhr:e},r)}module.exports=function(u,f){f="function"==typeof f?f:t,"string"==typeof u?u={uri:u}:u||(u={}),u.binary&&(u=p(u)),e(u,function(e,p,c){if(e)return f(e);if(!/^2/.test(p.statusCode))return f(new Error("http status code: "+p.statusCode));if(!c)return f(new Error("no body result"));var y,b=!1;if(a(c)){var d=new Uint8Array(c);c=r.from(d,"binary")}s(c)&&(b=!0,"string"==typeof c&&(c=r.from(c,"binary"))),b||(r.isBuffer(c)&&(c=c.toString(u.encoding)),c=c.trim());try{var l=p.headers["content-type"];y=b?o(c):/json/.test(l)||"{"===c.charAt(0)?JSON.parse(c):/xml/.test(l)||"<"===c.charAt(0)?i(c):n(c)}catch(m){f(new Error("error parsing font "+m.message)),f=t}f(null,y)})};
},{"xhr":"PPE/","parse-bmfont-ascii":"bpq5","parse-bmfont-xml":"U7y9","parse-bmfont-binary":"tfPV","./lib/is-binary":"TNt5","xtend":"lKyF","buffer":"VjIL"}],"1AXB":[function(require,module,exports) {
"use strict";function e(e,r){for(var n=0,t=0;t<r.length;t++)if(e.chars[r[t]]){var i=e.kernings[r[t]]&&e.kernings[r[t]][r[t+1]]?e.kernings[r[t]][r[t+1]]:0;n+=(e.chars[r[t]].xadvance||0)+i}return n}function r(r,n,t){for(var i=n.split(" "),s="",o=r.common.lineHeight,a=0;a<i.length;a++){var c=s+i[a]+" ";e(r,c)>t&&a>0?(o+=r.common.lineHeight,s=i[a]+" "):s=c}return o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.measureText=e,exports.measureTextHeight=r;
},{}],"WqRe":[function(require,module,exports) {
var __dirname = "/home/runner/work/Lentokonepeli/Lentokonepeli/node_modules/@jimp/plugin-print/es";
var n="/home/runner/work/Lentokonepeli/Lentokonepeli/node_modules/@jimp/plugin-print/es",e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("@babel/runtime/helpers/typeof")),o=e(require("@babel/runtime/helpers/toConsumableArray")),s=e(require("path")),r=e(require("load-bmfont")),a=require("@jimp/utils"),i=require("./measure-text");function u(n,e,t,o,s){return s===n.HORIZONTAL_ALIGN_LEFT?0:s===n.HORIZONTAL_ALIGN_CENTER?(o-(0,i.measureText)(e,t))/2:o-(0,i.measureText)(e,t)}function f(n,e,t,o,s){if(s.width>0&&s.height>0){var r=e.pages[s.page];n.blit(r,t+s.xoffset,o+s.yoffset,s.x,s.y,s.width,s.height)}return n}function l(n,e,t,o,s){for(var r=0;r<o.length;r++){var a=void 0;a=n.chars[o[r]]?o[r]:/\s/.test(o[r])?"":"?";var i=n.chars[a]||{},u=n.kernings[a];f(this,n,e,t,i||{}),e+=(u&&u[o[r+1]]?u[o[r+1]]:0)+(i.xadvance||s)}}function c(n,e,t){var s=e.split(" "),r=[],a=[],u=0;return s.forEach(function(e){var s=[].concat((0,o.default)(a),[e]).join(" "),f=(0,i.measureText)(n,s);f<=t?(f>u&&(u=f),a.push(e)):(r.push(a),a=[e])}),r.push(a),{lines:r,longestLine:u}}function p(n,e,t){var o=t.map(function(t){return n.read(e+"/"+t)});return Promise.all(o)}var h="".concat(n,"/../"),_=function(){return{constants:{measureText:i.measureText,measureTextHeight:i.measureTextHeight,FONT_SANS_8_BLACK:s.default.join(h,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:s.default.join(h,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:s.default.join(h,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:s.default.join(h,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:s.default.join(h,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:s.default.join(h,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:s.default.join(h,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:s.default.join(h,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:s.default.join(h,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:s.default.join(h,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:s.default.join(h,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:s.default.join(h,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:s.default.join(h,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(n,e){var t=this;return"string"!=typeof n?a.throwError.call(this,"file must be a string",e):new Promise(function(o,i){e=e||function(n,e){n?i(n):o(e)},(0,r.default)(n,function(o,r){var i={},u={};if(o)return a.throwError.call(t,o,e);for(var f=0;f<r.chars.length;f++)i[String.fromCharCode(r.chars[f].id)]=r.chars[f];for(var l=0;l<r.kernings.length;l++){var c=String.fromCharCode(r.kernings[l].first);u[c]=u[c]||{},u[c][String.fromCharCode(r.kernings[l].second)]=r.kernings[l].amount}p(t,s.default.dirname(n),r.pages).then(function(n){e(null,{chars:i,kernings:u,pages:n,common:r.common,info:r.info})})})})}},class:{print:function(n,e,o,s,r,f,p){var h,_,m=this;if("function"==typeof r&&void 0===p&&(p=r,r=1/0),void 0===r&&(r=1/0),"function"==typeof f&&void 0===p&&(p=f,f=1/0),void 0===f&&(f=1/0),"object"!==(0,t.default)(n))return a.throwError.call(this,"font must be a Jimp loadFont",p);if("number"!=typeof e||"number"!=typeof o||"number"!=typeof r)return a.throwError.call(this,"x, y and maxWidth must be numbers",p);if("number"!=typeof r)return a.throwError.call(this,"maxWidth must be a number",p);if("number"!=typeof f)return a.throwError.call(this,"maxHeight must be a number",p);"object"===(0,t.default)(s)&&null!==s.text&&void 0!==s.text?(h=s.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,_=s.alignmentY||this.constructor.VERTICAL_ALIGN_TOP,s=s.text):(h=this.constructor.HORIZONTAL_ALIGN_LEFT,_=this.constructor.VERTICAL_ALIGN_TOP,s=s.toString());f!==1/0&&_===this.constructor.VERTICAL_ALIGN_BOTTOM?o+=f-(0,i.measureTextHeight)(n,s,r):f!==1/0&&_===this.constructor.VERTICAL_ALIGN_MIDDLE&&(o+=f/2-(0,i.measureTextHeight)(n,s,r)/2);var d=Object.entries(n.chars)[0][1].xadvance,T=c(n,s,r),b=T.lines,N=T.longestLine;return b.forEach(function(t){var s=t.join(" "),a=u(m.constructor,n,s,r,h);l.call(m,n,e+a,o,s,d),o+=n.common.lineHeight}),(0,a.isNodePattern)(p)&&p.call(this,null,this,{x:e+N,y:o}),this}}}};exports.default=_;
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/typeof":"FlpK","@babel/runtime/helpers/toConsumableArray":"I9dH","path":"FHml","load-bmfont":"k3gn","@jimp/utils":"O8K0","./measure-text":"1AXB"}],"BsMX":[function(require,module,exports) {
"use strict";function t(t,i,e,h,s,r,n){this.widthOriginal=Math.abs(Math.floor(t)||0),this.heightOriginal=Math.abs(Math.floor(i)||0),this.targetWidth=Math.abs(Math.floor(e)||0),this.targetHeight=Math.abs(Math.floor(h)||0),this.colorChannels=s?4:3,this.interpolationPass=Boolean(r),this.resizeCallback="function"==typeof n?n:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}t.prototype.initialize=function(){if(!(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0))throw new Error("Invalid settings specified for the resizer.");this.configurePasses()},t.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=4===this.colorChannels?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=4===this.colorChannels?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=4===this.colorChannels?this.resizeHeightRGBA:this.resizeHeightRGB))},t.prototype._resizeWidthInterpolatedRGBChannels=function(t,i){var e,h,s=i?4:3,r=this.ratioWeightWidthPass,n=this.widthBuffer,a=0,l=0,o=0,u=0,d=0;for(e=0;a<1/3;e+=s,a+=r)for(l=e,o=0;l<this.widthPassResultSize;o+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)n[l]=t[o],n[l+1]=t[o+1],n[l+2]=t[o+2],i&&(n[l+3]=t[o+3]);for(a-=1/3,h=this.widthOriginal-1;a<h;e+=s,a+=r)for(u=1-(d=a%1),l=e,o=Math.floor(a)*s;l<this.widthPassResultSize;o+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)n[l+0]=t[o+0]*u+t[o+s+0]*d,n[l+1]=t[o+1]*u+t[o+s+1]*d,n[l+2]=t[o+2]*u+t[o+s+2]*d,i&&(n[l+3]=t[o+3]*u+t[o+s+3]*d);for(h=this.originalWidthMultipliedByChannels-s;e<this.targetWidthMultipliedByChannels;e+=s)for(l=e,o=h;l<this.widthPassResultSize;o+=this.originalWidthMultipliedByChannels,l+=this.targetWidthMultipliedByChannels)n[l]=t[o],n[l+1]=t[o+1],n[l+2]=t[o+2],i&&(n[l+3]=t[o+3]);return n},t.prototype._resizeWidthRGBChannels=function(t,i){var e=i?4:3,h=this.ratioWeightWidthPass,s=1/h,r=this.originalWidthMultipliedByChannels-e+1,n=this.targetWidthMultipliedByChannels-e+1,a=this.outputWidthWorkBench,l=this.widthBuffer,o=this.outputWidthWorkBenchOpaquePixelsCount,u=0,d=0,g=0,f=0,p=0,B=0,W=0,y=1,z=0,C=0,c=0,M=0;do{for(p=0;p<this.originalHeightMultipliedByChannels;)a[p++]=0,a[p++]=0,a[p++]=0,i&&(a[p++]=0,o[p/e-1]=0);u=h;do{for(d=1+g-f,y=Math.min(u,d),p=0,B=g;p<this.originalHeightMultipliedByChannels;B+=r)z=t[B],C=t[++B],c=t[++B],M=i?t[++B]:255,a[p++]+=(M?z:0)*y,a[p++]+=(M?C:0)*y,a[p++]+=(M?c:0)*y,i&&(a[p++]+=M*y,o[p/e-1]+=M?y:0);if(!(u>=d)){f+=u;break}f=g+=e,u-=d}while(u>0&&g<this.originalWidthMultipliedByChannels);for(p=0,B=W;p<this.originalHeightMultipliedByChannels;B+=n)u=i?o[p/e]:1,y=i?u?1/u:0:s,l[B]=a[p++]*y,l[++B]=a[p++]*y,l[++B]=a[p++]*y,i&&(l[++B]=a[p++]*s);W+=e}while(W<this.targetWidthMultipliedByChannels);return l},t.prototype._resizeHeightRGBChannels=function(t,i){var e=this.ratioWeightHeightPass,h=1/e,s=this.outputHeightWorkBench,r=this.heightBuffer,n=this.outputHeightWorkBenchOpaquePixelsCount,a=0,l=0,o=0,u=0,d=0,g=0,f=0,p=1,B=0,W=0,y=0,z=0;do{for(d=0;d<this.targetWidthMultipliedByChannels;)s[d++]=0,s[d++]=0,s[d++]=0,i&&(s[d++]=0,n[d/4-1]=0);a=e;do{for(l=1+o-u,p=Math.min(a,l),f=o,d=0;d<this.targetWidthMultipliedByChannels;)B=t[f++],W=t[f++],y=t[f++],z=i?t[f++]:255,s[d++]+=(z?B:0)*p,s[d++]+=(z?W:0)*p,s[d++]+=(z?y:0)*p,i&&(s[d++]+=z*p,n[d/4-1]+=z?p:0);if(!(a>=l)){u+=a;break}u=o=f,a-=l}while(a>0&&o<this.widthPassResultSize);for(d=0;d<this.targetWidthMultipliedByChannels;)a=i?n[d/4]:1,p=i?a?1/a:0:h,r[g++]=Math.round(s[d++]*p),r[g++]=Math.round(s[d++]*p),r[g++]=Math.round(s[d++]*p),i&&(r[g++]=Math.round(s[d++]*h))}while(g<this.finalResultSize);return r},t.prototype.resizeWidthInterpolatedRGB=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!1)},t.prototype.resizeWidthInterpolatedRGBA=function(t){return this._resizeWidthInterpolatedRGBChannels(t,!0)},t.prototype.resizeWidthRGB=function(t){return this._resizeWidthRGBChannels(t,!1)},t.prototype.resizeWidthRGBA=function(t){return this._resizeWidthRGBChannels(t,!0)},t.prototype.resizeHeightInterpolated=function(t){for(var i,e=this.ratioWeightHeightPass,h=this.heightBuffer,s=0,r=0,n=0,a=0,l=0,o=0,u=0;s<1/3;s+=e)for(n=0;n<this.targetWidthMultipliedByChannels;)h[r++]=Math.round(t[n++]);for(s-=1/3,i=this.heightOriginal-1;s<i;s+=e)for(o=1-(u=s%1),l=(a=Math.floor(s)*this.targetWidthMultipliedByChannels)+this.targetWidthMultipliedByChannels,n=0;n<this.targetWidthMultipliedByChannels;++n)h[r++]=Math.round(t[a++]*o+t[l++]*u);for(;r<this.finalResultSize;)for(n=0,a=i*this.targetWidthMultipliedByChannels;n<this.targetWidthMultipliedByChannels;++n)h[r++]=Math.round(t[a++]);return h},t.prototype.resizeHeightRGB=function(t){return this._resizeHeightRGBChannels(t,!1)},t.prototype.resizeHeightRGBA=function(t){return this._resizeHeightRGBChannels(t,!0)},t.prototype.resize=function(t){this.resizeCallback(this.resizeHeight(this.resizeWidth(t)))},t.prototype.bypassResizer=function(t){return t},t.prototype.initializeFirstPassBuffers=function(t){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),t||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},t.prototype.initializeSecondPassBuffers=function(t){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),t||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},t.prototype.generateFloatBuffer=function(t){try{return new Float32Array(t)}catch(i){return[]}},t.prototype.generateFloat64Buffer=function(t){try{return new Float64Array(t)}catch(i){return[]}},t.prototype.generateUint8Buffer=function(t){try{return new Uint8Array(t)}catch(i){return[]}},module.exports=t;
},{}],"eCKe":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer;module.exports={nearestNeighbor:function(r,t){for(var a=r.width,o=r.height,n=t.width,i=t.height,h=r.data,e=t.data,f=0;f<i;f++)for(var u=0;u<n;u++){var v=4*(f*n+u),M=4*(Math.floor(f*o/i)*a+Math.floor(u*a/n));e[v++]=h[M++],e[v++]=h[M++],e[v++]=h[M++],e[v++]=h[M++]}},bilinearInterpolation:function(r,t){for(var a=r.width,o=r.height,n=t.width,i=t.height,h=r.data,e=t.data,f=function(r,t,a,o,n){return t===o?a:Math.round((r-t)*n+(o-r)*a)},u=function(r,t,o,n,i,u,v,M){var l=4*(v*a+n)+t,d=4*(v*a+i)+t,c=f(o,n,h[l],i,h[d]);if(M===v)e[r+t]=c;else{d=4*(M*a+i)+t;var m=f(o,n,h[l=4*(M*a+n)+t],i,h[d]);e[r+t]=f(u,v,c,M,m)}},v=0;v<i;v++)for(var M=0;M<n;M++){var l=4*(v*n+M),d=M*a/n,c=Math.floor(d),m=Math.min(Math.ceil(d),a-1),p=v*o/i,g=Math.floor(p),s=Math.min(Math.ceil(p),o-1);u(l,0,d,c,m,p,g,s),u(l,1,d,c,m,p,g,s),u(l,2,d,c,m,p,g,s),u(l,3,d,c,m,p,g,s)}},_interpolate2D:function(t,a,o,n){for(var i=t.data,h=a.data,e=t.width,f=t.height,u=a.width,v=a.height,M=Math.max(1,Math.floor(e/u)),l=u*M,d=Math.max(1,Math.floor(f/v)),c=v*d,m=r.alloc(l*f*4),p=0;p<f;p++)for(var g=0;g<l;g++)for(var s=g*(e-1)/l,b=Math.floor(s),w=s-b,x=4*(p*e+b),D=4*(p*l+g),I=0;I<4;I++){var _=x+I,q=b>0?i[_-4]:2*i[_]-i[_+4],z=i[_],B=i[_+4],N=b<e-2?i[_+8]:2*i[_+4]-i[_];m[D+I]=n(q,z,B,N,w)}for(var j=r.alloc(l*c*4),k=0;k<c;k++)for(var y=0;y<l;y++)for(var A=k*(f-1)/c,C=Math.floor(A),E=A-C,F=4*(C*l+y),G=4*(k*l+y),H=0;H<4;H++){var J=F+H,K=C>0?m[J-4*l]:2*m[J]-m[J+4*l],L=m[J],O=m[J+4*l],P=C<f-2?m[J+8*l]:2*m[J+4*l]-m[J];j[G+H]=n(K,L,O,P,E)}var Q=M*d;if(Q>1)for(var R=0;R<v;R++)for(var S=0;S<u;S++){for(var T=0,U=0,V=0,W=0,X=0,Y=0;Y<d;Y++)for(var Z=R*d+Y,$=0;$<M;$++){var rr=4*(Z*l+(S*M+$)),tr=j[rr+3];tr&&(T+=j[rr],U+=j[rr+1],V+=j[rr+2],X++),W+=tr}var ar=4*(R*u+S);h[ar]=X?Math.round(T/X):0,h[ar+1]=X?Math.round(U/X):0,h[ar+2]=X?Math.round(V/X):0,h[ar+3]=Math.round(W/Q)}else a.data=j},bicubicInterpolation:function(r,t,a){return this._interpolate2D(r,t,a,function(r,t,a,o,n){var i=o-a-r+t,h=r-t-i,e=a-r,f=t;return Math.max(0,Math.min(255,i*(n*n*n)+h*(n*n)+e*n+f))})},hermiteInterpolation:function(r,t,a){return this._interpolate2D(r,t,a,function(r,t,a,o,n){var i=t,h=.5*(a-r),e=r-2.5*t+2*a-.5*o,f=.5*(o-r)+1.5*(t-a);return Math.max(0,Math.min(255,Math.round(((f*n+e)*n+h)*n+i)))})},bezierInterpolation:function(r,t,a){return this._interpolate2D(r,t,a,function(r,t,a,o,n){var i=1-n,h=t*i*i*i,e=3*(t+(a-r)/4)*i*i*n,f=3*(a-(o-t)/4)*i*n*n,u=a*n*n*n;return Math.max(0,Math.min(255,Math.round(h+e+f+u)))})}};
},{"buffer":"VjIL"}],"oRf/":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer,e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("@jimp/utils"),r=e(require("./modules/resize")),o=e(require("./modules/resize2")),a=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(e,a,n,s){if("number"!=typeof e||"number"!=typeof a)return i.throwError.call(this,"w and h must be numbers",s);if("function"==typeof n&&void 0===s&&(s=n,n=null),e===this.constructor.AUTO&&a===this.constructor.AUTO)return i.throwError.call(this,"w and h cannot both be set to auto",s);if(e===this.constructor.AUTO&&(e=this.bitmap.width*(a/this.bitmap.height)),a===this.constructor.AUTO&&(a=this.bitmap.height*(e/this.bitmap.width)),e<0||a<0)return i.throwError.call(this,"w and h must be positive numbers",s);if(e=Math.round(e),a=Math.round(a),"function"==typeof o.default[n]){var h={data:t.alloc(e*a*4),width:e,height:a};o.default[n](this.bitmap,h),this.bitmap=h}else{var u=this,l=new r.default(this.bitmap.width,this.bitmap.height,e,a,!0,!0,function(i){u.bitmap.data=t.from(i),u.bitmap.width=e,u.bitmap.height=a});l.resize(this.bitmap.data)}return(0,i.isNodePattern)(s)&&s.call(this,null,this),this}}}};exports.default=a;
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@jimp/utils":"O8K0","./modules/resize":"BsMX","./modules/resize2":"eCKe","buffer":"VjIL"}],"jtTJ":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var t=require("buffer").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("@jimp/utils");function a(i,a){var h=(i%=360)*Math.PI/180,e=Math.cos(h),r=Math.sin(h),s=this.bitmap.width,n=this.bitmap.height;if(!0===a||"string"==typeof a){(s=Math.ceil(Math.abs(this.bitmap.width*e)+Math.abs(this.bitmap.height*r))+1)%2!=0&&s++,(n=Math.ceil(Math.abs(this.bitmap.width*r)+Math.abs(this.bitmap.height*e))+1)%2!=0&&n++;var o=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,i,a){this.bitmap.data.writeUInt32BE(this._background,a)});var b=Math.max(s,n,this.bitmap.width,this.bitmap.height);this.resize(b,b,a),this.blit(o,this.bitmap.width/2-o.bitmap.width/2,this.bitmap.height/2-o.bitmap.height/2)}var p=this.bitmap.width,u=this.bitmap.height,l=t.alloc(this.bitmap.data.length);function m(t,i){return function(a,h){return{x:a+t,y:h+i}}}for(var f=m(-p/2,-u/2),d=m(p/2+.5,u/2+.5),c=1;c<=u;c++)for(var g=1;g<=p;g++){var v=f(g,c),w=d(e*v.x-r*v.y,e*v.y+r*v.x),y=p*(c-1)+g-1<<2;if(w.x>=0&&w.x<p&&w.y>=0&&w.y<u){var M=(p*(0|w.y)+w.x|0)<<2,x=this.bitmap.data.readUInt32BE(M);l.writeUInt32BE(x,y)}else l.writeUInt32BE(this._background,y)}if(this.bitmap.data=l,!0===a||"string"==typeof a){var E=p/2-s/2,B=u/2-n/2;this.crop(E,B,s,n)}}var h=function(){return{rotate:function(t,h,e){return null==h&&(h=!0),"function"==typeof h&&void 0===e&&(e=h,h=!0),"number"!=typeof t?i.throwError.call(this,"deg must be a number",e):"boolean"!=typeof h&&"string"!=typeof h?i.throwError.call(this,"mode must be a boolean or a string",e):(a.call(this,t,h,e),(0,i.isNodePattern)(e)&&e.call(this,null,this),this)}}};exports.default=h;
},{"@jimp/utils":"O8K0","buffer":"VjIL"}],"2zgG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@jimp/utils"),i=function(){return{scale:function(i,e,r){if("number"!=typeof i)return t.throwError.call(this,"f must be a number",r);if(i<0)return t.throwError.call(this,"f must be a positive number",r);"function"==typeof e&&void 0===r&&(r=e,e=null);var s=this.bitmap.width*i,u=this.bitmap.height*i;return this.resize(s,u,e),(0,t.isNodePattern)(r)&&r.call(this,null,this),this},scaleToFit:function(i,e,r,s){if("number"!=typeof i||"number"!=typeof e)return t.throwError.call(this,"w and h must be numbers",s);"function"==typeof r&&void 0===s&&(s=r,r=null);var u=i/e>this.bitmap.width/this.bitmap.height?e/this.bitmap.height:i/this.bitmap.width;return this.scale(u,r),(0,t.isNodePattern)(s)&&s.call(this,null,this),this}}};exports.default=i;
},{"@jimp/utils":"O8K0"}],"1WqJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@jimp/utils"),i=function(){return{shadow:function(){var i=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;"function"==typeof a&&(e=a,a={});var o=a,d=o.opacity,s=void 0===d?.7:d,p=o.size,r=void 0===p?1.1:p,n=o.x,h=void 0===n?-25:n,m=o.y,u=void 0===m?25:m,b=o.blur,l=void 0===b?5:b,c=this.clone(),v=this.clone();return v.scan(0,0,v.bitmap.width,v.bitmap.height,function(t,a,e){v.bitmap.data[e]=0,v.bitmap.data[e+1]=0,v.bitmap.data[e+2]=0,v.bitmap.data[e+3]=v.constructor.limit255(v.bitmap.data[e+3]*s),i.bitmap.data[e]=0,i.bitmap.data[e+1]=0,i.bitmap.data[e+2]=0,i.bitmap.data[e+3]=0}),v.resize(v.bitmap.width*r,v.bitmap.height*r).blur(l),this.composite(v,h,u),this.composite(c,0,0),(0,t.isNodePattern)(e)&&e.call(this,null,this),this}}};exports.default=i;
},{"@jimp/utils":"O8K0"}],"C/h8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("@jimp/utils"),e=function(){return{threshold:function(e,a){var r=this,i=e.max,o=e.replace,s=void 0===o?255:o,l=e.autoGreyscale,u=void 0===l||l;return"number"!=typeof i?t.throwError.call(this,"max must be a number",a):"number"!=typeof s?t.throwError.call(this,"replace must be a number",a):"boolean"!=typeof u?t.throwError.call(this,"autoGreyscale must be a boolean",a):(i=this.constructor.limit255(i),s=this.constructor.limit255(s),u&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(t,e,a){var o=r.bitmap.data[a]<i?r.bitmap.data[a]:s;r.bitmap.data[a]=o,r.bitmap.data[a+1]=o,r.bitmap.data[a+2]=o}),(0,t.isNodePattern)(a)&&a.call(this,null,this),this)}}};exports.default=e;
},{"@jimp/utils":"O8K0"}],"D/Ob":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=e(require("@babel/runtime/helpers/toConsumableArray")),r=require("timm"),u=e(require("@jimp/plugin-blit")),l=e(require("@jimp/plugin-blur")),p=e(require("@jimp/plugin-circle")),t=e(require("@jimp/plugin-color")),a=e(require("@jimp/plugin-contain")),n=e(require("@jimp/plugin-cover")),d=e(require("@jimp/plugin-crop")),f=e(require("@jimp/plugin-displace")),m=e(require("@jimp/plugin-dither")),q=e(require("@jimp/plugin-fisheye")),s=e(require("@jimp/plugin-flip")),g=e(require("@jimp/plugin-gaussian")),j=e(require("@jimp/plugin-invert")),o=e(require("@jimp/plugin-mask")),c=e(require("@jimp/plugin-normalize")),v=e(require("@jimp/plugin-print")),b=e(require("@jimp/plugin-resize")),h=e(require("@jimp/plugin-rotate")),y=e(require("@jimp/plugin-scale")),x=e(require("@jimp/plugin-shadow")),z=e(require("@jimp/plugin-threshold")),D=[u.default,l.default,p.default,t.default,a.default,n.default,d.default,f.default,m.default,q.default,s.default,g.default,j.default,o.default,c.default,v.default,b.default,h.default,y.default,x.default,z.default],_=function(e){var u=D.map(function(i){var r=i(e)||{};return r.class||r.constants||(r={class:r}),r});return r.mergeDeep.apply(void 0,(0,i.default)(u))};exports.default=_;
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@babel/runtime/helpers/toConsumableArray":"I9dH","timm":"EyTc","@jimp/plugin-blit":"0B/b","@jimp/plugin-blur":"K49m","@jimp/plugin-circle":"FmWp","@jimp/plugin-color":"lnv6","@jimp/plugin-contain":"xhmy","@jimp/plugin-cover":"bHSs","@jimp/plugin-crop":"e6KB","@jimp/plugin-displace":"Tab7","@jimp/plugin-dither":"n7Le","@jimp/plugin-fisheye":"FKtp","@jimp/plugin-flip":"fcoA","@jimp/plugin-gaussian":"hRfM","@jimp/plugin-invert":"Mcx7","@jimp/plugin-mask":"jDLo","@jimp/plugin-normalize":"zLpZ","@jimp/plugin-print":"WqRe","@jimp/plugin-resize":"oRf/","@jimp/plugin-rotate":"jtTJ","@jimp/plugin-scale":"2zgG","@jimp/plugin-shadow":"1WqJ","@jimp/plugin-threshold":"C/h8"}],"jILU":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e(require("@jimp/custom")),t=e(require("@jimp/types")),u=e(require("@jimp/plugins")),i=(0,r.default)({types:[t.default],plugins:[u.default]});exports.default=i;
},{"@babel/runtime/helpers/interopRequireDefault":"8IKA","@jimp/custom":"63J6","@jimp/types":"iJh4","@jimp/plugins":"D/Ob"}],"dri8":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer;function t(e,t,r,n,i,a,o){try{var f=e[a](o),u=f.value}catch(s){return void r(s)}f.done?t(u):Promise.resolve(u).then(n,i)}function r(e){return function(){var r=this,n=arguments;return new Promise(function(i,a){var o=e.apply(r,n);function f(e){t(o,i,a,f,u,"next",e)}function u(e){t(o,i,a,f,u,"throw",e)}f(void 0)})}}var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadImages=void 0;var f=a(require("../../dist/assets/images/images.json")),u=require("./BufferedImage"),s=o(require("jimp"));function l(){return c.apply(this,arguments)}function c(){return(c=r(regeneratorRuntime.mark(function t(){var r,n,i,a,o,l,c,p,d,m,g,h,b=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=b.length>0&&void 0!==b[0]?b[0]:"./dist/assets/images/images.png",n={},f.frames["bomb.gif"].frame,t.next=5,s.default.read(r);case 5:for(a in i=t.sent,i.clone(),f.frames)if(o=f.frames[a].frame,(l=i.clone()).crop(o.x,o.y,o.w,o.h).autocrop(),n[a]=new u.BufferedImage(e.from(l.bitmap.data),{w:l.bitmap.width,h:l.bitmap.height}),256,"plane6.gif"==a&&l.getBase64(s.default.MIME_PNG,function(e,t){console.log(t)}),["bomb.gif","bullet.gif","plane4.gif","plane5.gif","plane6.gif","plane7.gif","plane8.gif","plane9.gif"].indexOf(a)>=0)for(c=!1,p=0,d=[!0,!1];p<d.length;p++)for(c=d[p],m=0;m<257;++m)(g=l.clone().flip(!1,c)).rotate(-m/256*360).autocrop(),h=g.bitmap.data,n[a+"_rot_"+m+"_flip_"+c]=new u.BufferedImage(e.from(h),{w:g.bitmap.width,h:g.bitmap.height}),64==m&&"plane8.gif"==a&&g.getBase64(s.default.MIME_PNG,function(e,t){});return t.abrupt("return",n);case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}exports.loadImages=l;
},{"../../dist/assets/images/images.json":"y+Uf","./BufferedImage":"5oEN","jimp":"jILU","buffer":"VjIL"}],"/voG":[function(require,module,exports) {
"use strict";function e(e,r){if(null==e)return{};var i,a,n=t(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)i=o[a],r.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function t(e,t){if(null==e)return{};var r,i,a={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(a[r]=e[r]);return a}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameClient=void 0;var o=require("./render/textures"),s=require("./render/renderer"),l=require("./render/event"),d=require("./localization/localizer"),h=require("../../dogfight/src/network/types"),c=require("./inputHandler"),y=require("./types"),u=require("../../dogfight/src/entity"),p=require("./teamSelector"),f=require("../../dogfight/src/constants"),m=require("./takeoffSelector"),g=require("./render/entities/radar"),v=require("./networkHandler"),T=require("../../dogfight/src/entities/PlayerInfo"),k=require("./audio"),b=require("../../dogfight/src/validation"),O=n(require("js-cookie")),w=require("../../dogfight/src/entities/Bullet"),P=require("../../dogfight/src/images"),j=function(){function t(){var e=this;for(var i in r(this,t),this.loadedGame=!1,this.mode=y.ClientMode.SelectTeam,this.lastTick=0,this.playersUpdated=0,this.playerInfo={id:void 0,team:void 0,name:void 0},this.followObject={type:u.EntityType.None,id:void 0},this.audio=new k.AudioManager,this.gameObjects={},u.EntityType)this.gameObjects[i]={};this.teamSelector=new p.TeamSelector,this.takeoffSelector=new m.TakeoffSelector,o.loadSpriteSheet(function(){P.loadImages("./assets/images/images.png").then(function(t){e.images=t,e.initRenderer()})})}return a(t,[{key:"initRenderer",value:function(){var e=this;this.renderer=new s.GameRenderer(o.spriteSheet),this.canvasHandler=new l.CanvasEventHandler(this.renderer),this.canvasHandler.addListeners(),this.network=new v.NetworkHandler(function(t){e.processPacket(t)},this.images),this.renderer.centerCamera(0,150),document.getElementById("game-canvas").appendChild(this.renderer.getView()),this.updateLanguage(d.Localizer.getLanguage()),this.input=new c.InputHandler,this.input.processGameKeyChange=function(t){e.processGameInput(t)},this.lastTick=Date.now(),this.onAnimationFrame()}},{key:"onAnimationFrame",value:function(){for(var e=this,t=this.gameObjects[u.EntityType.Bullet],r=Date.now(),i=r-this.lastTick,a=0,n=Object.keys(t);a<n.length;a++){var o=n[a],s=t[o],l=s.clientVX*f.SCALE_FACTOR,d=s.clientVY*f.SCALE_FACTOR,h=s.x,c=s.y;if(null==l||null==d||null==h||null==c)return;var y=h*f.SCALE_FACTOR,p=c*f.SCALE_FACTOR,m=w.moveBullet(y,p,l,d,i),g=Math.round(m.x/f.SCALE_FACTOR),v=Math.round(m.y/f.SCALE_FACTOR);s.x=g,s.y=v,this.renderer.updateSprite(u.EntityType.Bullet,o,{x:g,y:v})}this.lastTick=r,window.requestAnimationFrame(function(){e.onAnimationFrame()})}},{key:"getFollowObject",value:function(){return this.gameObjects[this.followObject.type][this.followObject.id]}},{key:"setMode",value:function(e){if(this.mode=e,this.renderer.setMode(e),this.mode!=y.ClientMode.SelectTeam){if(this.mode==y.ClientMode.PreFlight){this.takeoffSelector.setTeam(this.playerInfo.team);var t=this.gameObjects[u.EntityType.Runway];this.takeoffSelector.updateRunways(t,this.renderer,!0);var r=this.takeoffSelector.getPlaneSelection();this.renderer.takeoffSelectUI.setPlane(r)}this.mode,y.ClientMode.Playing}else this.renderer.teamChooserUI.setSelection(this.teamSelector.getSelection())}},{key:"processGameInput",value:function(e){switch(this.mode){case y.ClientMode.SelectTeam:this.teamSelector.processInput(e,this.renderer,this.network);break;case y.ClientMode.PreFlight:var t=this.gameObjects[u.EntityType.Runway];this.takeoffSelector.updateRunways(t,this.renderer,!1),this.takeoffSelector.processInput(e,this.renderer,this.network)}var r={type:h.PacketType.UserGameInput,data:e};this.network.send(r)}},{key:"processPacket",value:function(e){var t=this,r=e.type,i=e.data;r==h.PacketType.FullSync&&(this.processCache(i),0==this.loadedGame&&(this.loadedGame=!0,this.setMode(y.ClientMode.SelectTeam),window.setInterval(function(){t.network.send({type:h.PacketType.Ping,data:{time:Date.now()}})},5e3))),r==h.PacketType.ChangeSync&&this.processCache(i),r==h.PacketType.AssignPlayer&&(console.log("Assigned as player",i.id,"team",f.Team[i.team]),console.log(i),this.playerInfo={id:i.id,team:i.team,name:i.name},this.setMode(y.ClientMode.PreFlight),this.renderer.HUD.setTeam(i.team),this.renderer.HUD.radar.refreshRadar(this.gameObjects))}},{key:"processCache",value:function(e){for(var t in e)for(var r in e[t])this.processEntry(e[t][r],r)}},{key:"getControllingPlayer",value:function(e,t){for(var r in this.gameObjects[u.EntityType.Player]){var i=this.gameObjects[u.EntityType.Player][r];if(i.controlType==e&&i.controlID==t)return parseInt(r)}return-1}},{key:"processEntry",value:function(t,r){var i=t.type,a=e(t,["type"]);if(0!==Object.keys(a).length){void 0===this.gameObjects[i][r]&&(this.gameObjects[i][r]={},i==u.EntityType.Explosion&&this.audio.playExplosion(),i==u.EntityType.Bullet?0==a.age&&this.audio.playBullet():i==u.EntityType.Bomb&&0==a.age&&this.audio.playBomb());var n=this.gameObjects[i][r];for(var o in a){var s=a[o];n[o]=s}i==u.EntityType.Player&&(this.playersUpdated=Date.now());var l=this.getControllingPlayer(i,r);if(l>=0){var d=this.gameObjects[u.EntityType.Player][l];this.renderer.playerInfo.setInfo(this.playerInfo.team,l,d,n),i==u.EntityType.Plane&&(n.health=d.health,a.health=d.health)}else i==u.EntityType.Plane&&(n.health=0,a.health=0);if(this.renderer.updateSprite(i,r,a),g.radarObjects.includes(i)&&this.renderer.HUD.radar.refreshRadar(this.gameObjects),i==u.EntityType.Player&&n.controlType==u.EntityType.None&&this.renderer.playerInfo.deletePlayer(parseInt(r)),i==u.EntityType.Player&&this.playerInfo.id==r){void 0!==n.controlType&&void 0!==n.controlID&&(this.followObject={type:n.controlType,id:n.controlID}),void 0!==n.name&&(this.playerInfo.name=n.name),this.followObject.type==u.EntityType.Plane?this.audio.playEngine(!0):this.audio.playEngine(!1);var h=n.status;void 0!==h&&(h==T.PlayerStatus.Playing&&this.setMode(y.ClientMode.Playing),h==T.PlayerStatus.Takeoff&&this.setMode(y.ClientMode.PreFlight)),this.renderer.HUD.updateFollowObject(n)}if(i==this.followObject.type&&this.followObject.id==r){var c=n.x,p=n.y;void 0!==c&&void 0!==p&&this.renderer.centerCamera(c,p)}}else this.deleteObject(i,r)}},{key:"deleteObject",value:function(e,t){this.followObject.type==e&&this.followObject.id==t&&(this.followObject={type:u.EntityType.None,id:void 0}),e==u.EntityType.Player&&this.renderer.playerInfo.deletePlayer(parseInt(t)),delete this.gameObjects[e][t],e==u.EntityType.Player&&(this.playersUpdated=Date.now()),this.renderer.deleteSprite(e,t),this.renderer.HUD.radar.refreshRadar(this.gameObjects)}},{key:"updateName",value:function(e){b.isNameValid(e)&&(O.default.set("name",e,{expires:9999}),console.log("updating name, sending packet"),this.network.send({type:h.PacketType.ChangeName,data:{name:e}}))}},{key:"updateLanguage",value:function(e){console.log("Changing language to",e),d.Localizer.setLanguage(e),this.renderer.updateLanguage(),document.title=d.Localizer.get("gameName")}}]),t}();exports.GameClient=j;
},{"./render/textures":"vTbQ","./render/renderer":"q1ZM","./render/event":"ATJb","./localization/localizer":"mQET","../../dogfight/src/network/types":"W8x0","./inputHandler":"0j2P","./types":"gkAU","../../dogfight/src/entity":"pF7b","./teamSelector":"E2CC","../../dogfight/src/constants":"P1Jh","./takeoffSelector":"9Rjh","./render/entities/radar":"diZs","./networkHandler":"uM2Q","../../dogfight/src/entities/PlayerInfo":"F43/","./audio":"diBc","../../dogfight/src/validation":"8TZu","js-cookie":"6bgg","../../dogfight/src/entities/Bullet":"Y2wn","../../dogfight/src/images":"dri8"}],"EjOG":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=Object.freeze({});function n(t){return null==t}function r(t){return null!=t}function o(t){return!0===t}function i(t){return!1===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function s(t){return null!==t&&"object"==typeof t}var c=Object.prototype.toString;function u(t){return c.call(t).slice(8,-1)}function l(t){return"[object Object]"===c.call(t)}function f(t){return"[object RegExp]"===c.call(t)}function p(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return r(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function v(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function h(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),r=t.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var y=m("slot,component",!0),g=m("key,ref,slot,slot-scope,is");function _(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function C(t,e){return b.call(t,e)}function w(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var $=/-(\w)/g,A=w(function(t){return t.replace($,function(t,e){return e?e.toUpperCase():""})}),x=w(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),O=/\B([A-Z])/g,k=w(function(t){return t.replace(O,"-$1").toLowerCase()});function S(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function j(t,e){return t.bind(e)}var E=Function.prototype.bind?j:S;function T(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function I(t,e){for(var n in e)t[n]=e[n];return t}function D(t){for(var e={},n=0;n<t.length;n++)t[n]&&I(e,t[n]);return e}function N(t,e,n){}var L=function(t,e,n){return!1},P=function(t){return t};function M(t,e){if(t===e)return!0;var n=s(t),r=s(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var o=Array.isArray(t),i=Array.isArray(e);if(o&&i)return t.length===e.length&&t.every(function(t,n){return M(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(o||i)return!1;var a=Object.keys(t),c=Object.keys(e);return a.length===c.length&&a.every(function(n){return M(t[n],e[n])})}catch(u){return!1}}function F(t,e){for(var n=0;n<t.length;n++)if(M(t[n],e))return n;return-1}function R(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var H="data-server-rendered",U=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],z={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:L,isReservedAttr:L,isUnknownElement:L,getTagNamespace:N,parsePlatformTagName:P,mustUseProp:L,async:!0,_lifecycleHooks:B},V=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function W(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function q(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var K=new RegExp("[^"+V.source+".$_\\d]");function X(t){if(!K.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var G,Z="__proto__"in{},J="undefined"!=typeof window,Q="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Y=Q&&WXEnvironment.platform.toLowerCase(),tt=J&&window.navigator.userAgent.toLowerCase(),et=tt&&/msie|trident/.test(tt),nt=tt&&tt.indexOf("msie 9.0")>0,rt=tt&&tt.indexOf("edge/")>0,ot=tt&&tt.indexOf("android")>0||"android"===Y,it=tt&&/iphone|ipad|ipod|ios/.test(tt)||"ios"===Y,at=tt&&/chrome\/\d+/.test(tt)&&!rt,st=tt&&/phantomjs/.test(tt),ct=tt&&tt.match(/firefox\/(\d+)/),ut={}.watch,lt=!1;if(J)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){lt=!0}}),window.addEventListener("test-passive",null,ft)}catch(as){}var pt=function(){return void 0===G&&(G=!J&&!Q&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),G},dt=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function vt(t){return"function"==typeof t&&/native code/.test(t.toString())}var ht,mt="undefined"!=typeof Symbol&&vt(Symbol)&&"undefined"!=typeof Reflect&&vt(Reflect.ownKeys);ht="undefined"!=typeof Set&&vt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var yt,gt,_t,bt,Ct=N,wt=N,$t=N,At=N,xt=0,Ot=function(){this.id=xt++,this.subs=[]};Ot.prototype.addSub=function(t){this.subs.push(t)},Ot.prototype.removeSub=function(t){_(this.subs,t)},Ot.prototype.depend=function(){Ot.target&&Ot.target.addDep(this)},Ot.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},Ot.target=null;var kt=[];function St(t){kt.push(t),Ot.target=t}function jt(){kt.pop(),Ot.target=kt[kt.length-1]}var Et=function(t,e,n,r,o,i,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Tt={child:{configurable:!0}};Tt.child.get=function(){return this.componentInstance},Object.defineProperties(Et.prototype,Tt);var It=function(t){void 0===t&&(t="");var e=new Et;return e.text=t,e.isComment=!0,e};function Dt(t){return new Et(void 0,void 0,void 0,String(t))}function Nt(t){var e=new Et(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Lt=Array.prototype,Pt=Object.create(Lt),Mt=["push","pop","shift","unshift","splice","sort","reverse"];Mt.forEach(function(t){var e=Lt[t];q(Pt,t,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var o,i=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2)}return o&&a.observeArray(o),a.dep.notify(),i})});var Ft=Object.getOwnPropertyNames(Pt),Rt=!0;function Ht(t){Rt=t}var Ut=function(t){this.value=t,this.dep=new Ot,this.vmCount=0,q(t,"__ob__",this),Array.isArray(t)?(Z?Bt(t,Pt):zt(t,Pt,Ft),this.observeArray(t)):this.walk(t)};function Bt(t,e){t.__proto__=e}function zt(t,e,n){for(var r=0,o=n.length;r<o;r++){var i=n[r];q(t,i,e[i])}}function Vt(t,e){var n;if(s(t)&&!(t instanceof Et))return C(t,"__ob__")&&t.__ob__ instanceof Ut?n=t.__ob__:Rt&&!pt()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Ut(t)),e&&n&&n.vmCount++,n}function Wt(t,e,n,r,o){var i=new Ot,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set;s&&!c||2!==arguments.length||(n=t[e]);var u=!o&&Vt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return Ot.target&&(i.depend(),u&&(u.dep.depend(),Array.isArray(e)&&Xt(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!=e&&r!=r||s&&!c||(c?c.call(t,e):n=e,u=!o&&Vt(e),i.notify())}})}}function qt(t,e,n){if(Array.isArray(t)&&p(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Wt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function Kt(t,e){if(Array.isArray(t)&&p(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||C(t,e)&&(delete t[e],n&&n.dep.notify())}}function Xt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Xt(e)}Ut.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Wt(t,e[n])},Ut.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Vt(t[e])};var Gt=z.optionMergeStrategies;function Zt(t,e){if(!e)return t;for(var n,r,o,i=mt?Reflect.ownKeys(e):Object.keys(e),a=0;a<i.length;a++)"__ob__"!==(n=i[a])&&(r=t[n],o=e[n],C(t,n)?r!==o&&l(r)&&l(o)&&Zt(r,o):qt(t,n,o));return t}function Jt(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,o="function"==typeof t?t.call(n,n):t;return r?Zt(r,o):o}:e?t?function(){return Zt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Qt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?Yt(n):n}function Yt(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function te(t,e,n,r){var o=Object.create(t||null);return e?I(o,e):o}Gt.data=function(t,e,n){return n?Jt(t,e,n):e&&"function"!=typeof e?t:Jt(t,e)},B.forEach(function(t){Gt[t]=Qt}),U.forEach(function(t){Gt[t+"s"]=te}),Gt.watch=function(t,e,n,r){if(t===ut&&(t=void 0),e===ut&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var o={};for(var i in I(o,t),e){var a=o[i],s=e[i];a&&!Array.isArray(a)&&(a=[a]),o[i]=a?a.concat(s):Array.isArray(s)?s:[s]}return o},Gt.props=Gt.methods=Gt.inject=Gt.computed=function(t,e,n,r){if(!t)return e;var o=Object.create(null);return I(o,t),e&&I(o,e),o},Gt.provide=Jt;var ee=function(t,e){return void 0===e?t:e};function ne(t){for(var e in t.components)re(e)}function re(t){new RegExp("^[a-zA-Z][\\-\\.0-9_"+V.source+"]*$").test(t)||Ct('Invalid component name: "'+t+'". Component names should conform to valid custom element name in html5 specification.'),(y(t)||z.isReservedTag(t))&&Ct("Do not use built-in or reserved HTML elements as component id: "+t)}function oe(t,e){var n=t.props;if(n){var r,o,i={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(o=n[r])&&(i[A(o)]={type:null});else if(l(n))for(var a in n)o=n[a],i[A(a)]=l(o)?o:{type:o};else 0;t.props=i}}function ie(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(l(n))for(var i in n){var a=n[i];r[i]=l(a)?I({from:i},a):{from:a}}else 0}}function ae(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}function se(t,e,n){l(e)||Ct('Invalid value for option "'+t+'": expected an Object, but got '+u(e)+".",n)}function ce(t,e,n){if("function"==typeof e&&(e=e.options),oe(e,n),ie(e,n),ae(e),!e._base&&(e.extends&&(t=ce(t,e.extends,n)),e.mixins))for(var r=0,o=e.mixins.length;r<o;r++)t=ce(t,e.mixins[r],n);var i,a={};for(i in t)s(i);for(i in e)C(t,i)||s(i);function s(r){var o=Gt[r]||ee;a[r]=o(t[r],e[r],n,r)}return a}function ue(t,e,n,r){if("string"==typeof n){var o=t[e];if(C(o,n))return o[n];var i=A(n);if(C(o,i))return o[i];var a=x(i);if(C(o,a))return o[a];var s=o[n]||o[i]||o[a];return s}}function le(t,e,n,r){var o=e[t],i=!C(n,t),a=n[t],s=ye(Boolean,o.type);if(s>-1)if(i&&!C(o,"default"))a=!1;else if(""===a||a===k(t)){var c=ye(String,o.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=fe(r,o,t);var u=Rt;Ht(!0),Vt(a),Ht(u)}return a}function fe(t,e,n){if(C(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof r&&"Function"!==he(e.type)?r.call(t):r}}function pe(t,e,n,r,o){if(t.required&&o)Ct('Missing required prop: "'+e+'"',r);else if(null!=n||t.required){var i=t.type,a=!i||!0===i,s=[];if(i){Array.isArray(i)||(i=[i]);for(var c=0;c<i.length&&!a;c++){var u=ve(n,i[c]);s.push(u.expectedType||""),a=u.valid}}if(a){var l=t.validator;l&&(l(n)||Ct('Invalid prop: custom validator check failed for prop "'+e+'".',r))}else Ct(ge(e,n,s),r)}}var de=/^(String|Number|Boolean|Function|Symbol)$/;function ve(t,e){var n,r=he(e);if(de.test(r)){var o=typeof t;(n=o===r.toLowerCase())||"object"!==o||(n=t instanceof e)}else n="Object"===r?l(t):"Array"===r?Array.isArray(t):t instanceof e;return{valid:n,expectedType:r}}function he(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function me(t,e){return he(t)===he(e)}function ye(t,e){if(!Array.isArray(e))return me(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(me(e[n],t))return n;return-1}function ge(t,e,n){var r='Invalid prop: type check failed for prop "'+t+'". Expected '+n.map(x).join(", "),o=n[0],i=u(e),a=_e(e,o),s=_e(e,i);return 1===n.length&&be(o)&&!Ce(o,i)&&(r+=" with value "+a),r+=", got "+i+" ",be(i)&&(r+="with value "+s+"."),r}function _e(t,e){return"String"===e?'"'+t+'"':"Number"===e?""+Number(t):""+t}function be(t){return["string","number","boolean"].some(function(e){return t.toLowerCase()===e})}function Ce(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.some(function(t){return"boolean"===t.toLowerCase()})}function we(t,e,n){St();try{if(e)for(var r=e;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{if(!1===o[i].call(r,t,e,n))return}catch(as){Ae(as,r,"errorCaptured hook")}}Ae(t,e,n)}finally{jt()}}function $e(t,e,n,r,o){var i;try{(i=n?t.apply(e,n):t.call(e))&&!i._isVue&&d(i)&&!i._handled&&(i.catch(function(t){return we(t,r,o+" (Promise/async)")}),i._handled=!0)}catch(as){we(as,r,o)}return i}function Ae(t,e,n){if(z.errorHandler)try{return z.errorHandler.call(null,t,e,n)}catch(as){as!==t&&xe(as,null,"config.errorHandler")}xe(t,e,n)}function xe(t,e,n){if(!J&&!Q||"undefined"==typeof console)throw t;console.error(t)}var Oe,ke,Se,je,Ee,Te,Ie,De,Ne,Le=!1,Pe=[],Me=!1;function Fe(){Me=!1;var t=Pe.slice(0);Pe.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&vt(Promise)){var Re=Promise.resolve();Oe=function(){Re.then(Fe),it&&setTimeout(N)},Le=!0}else if(et||"undefined"==typeof MutationObserver||!vt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Oe="undefined"!=typeof setImmediate&&vt(setImmediate)?function(){setImmediate(Fe)}:function(){setTimeout(Fe,0)};else{var He=1,Ue=new MutationObserver(Fe),Be=document.createTextNode(String(He));Ue.observe(Be,{characterData:!0}),Oe=function(){He=(He+1)%2,Be.data=String(He)},Le=!0}function ze(t,e){var n;if(Pe.push(function(){if(t)try{t.call(e)}catch(as){we(as,e,"nextTick")}else n&&n(e)}),Me||(Me=!0,Oe()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}var Ve,We,qe,Ke=new ht;function Xe(t){Ge(t,Ke),Ke.clear()}function Ge(t,e){var n,r,o=Array.isArray(t);if(!(!o&&!s(t)||Object.isFrozen(t)||t instanceof Et)){if(t.__ob__){var i=t.__ob__.dep.id;if(e.has(i))return;e.add(i)}if(o)for(n=t.length;n--;)Ge(t[n],e);else for(n=(r=Object.keys(t)).length;n--;)Ge(t[r[n]],e)}}var Ze=w(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}});function Je(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return $e(r,null,arguments,e,"v-on handler");for(var o=r.slice(),i=0;i<o.length;i++)$e(o[i],null,t,e,"v-on handler")}return n.fns=t,n}function Qe(t,e,r,i,a,s){var c,u,l,f;for(c in t)u=t[c],l=e[c],f=Ze(c),n(u)||(n(l)?(n(u.fns)&&(u=t[c]=Je(u,s)),o(f.once)&&(u=t[c]=a(f.name,u,f.capture)),r(f.name,u,f.capture,f.passive,f.params)):u!==l&&(l.fns=u,t[c]=l));for(c in e)n(t[c])&&i((f=Ze(c)).name,e[c],f.capture)}function Ye(t,e,i){var a;t instanceof Et&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function c(){i.apply(this,arguments),_(a.fns,c)}n(s)?a=Je([c]):r(s.fns)&&o(s.merged)?(a=s).fns.push(c):a=Je([s,c]),a.merged=!0,t[e]=a}function tn(t,e,o){var i=e.options.props;if(!n(i)){var a={},s=t.attrs,c=t.props;if(r(s)||r(c))for(var u in i){var l=k(u);en(a,c,u,l,!0)||en(a,s,u,l,!1)}return a}}function en(t,e,n,o,i){if(r(e)){if(C(e,n))return t[n]=e[n],i||delete e[n],!0;if(C(e,o))return t[n]=e[o],i||delete e[o],!0}return!1}function nn(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function rn(t){return a(t)?[Dt(t)]:Array.isArray(t)?an(t):void 0}function on(t){return r(t)&&r(t.text)&&i(t.isComment)}function an(t,e){var i,s,c,u,l=[];for(i=0;i<t.length;i++)n(s=t[i])||"boolean"==typeof s||(u=l[c=l.length-1],Array.isArray(s)?s.length>0&&(on((s=an(s,(e||"")+"_"+i))[0])&&on(u)&&(l[c]=Dt(u.text+s[0].text),s.shift()),l.push.apply(l,s)):a(s)?on(u)?l[c]=Dt(u.text+s):""!==s&&l.push(Dt(s)):on(s)&&on(u)?l[c]=Dt(u.text+s.text):(o(t._isVList)&&r(s.tag)&&n(s.key)&&r(e)&&(s.key="__vlist"+e+"_"+i+"__"),l.push(s)));return l}function sn(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}function cn(t){var e=un(t.$options.inject,t);e&&(Ht(!1),Object.keys(e).forEach(function(n){Wt(t,n,e[n])}),Ht(!0))}function un(t,e){if(t){for(var n=Object.create(null),r=mt?Reflect.ownKeys(t):Object.keys(t),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){for(var a=t[i].from,s=e;s;){if(s._provided&&C(s._provided,a)){n[i]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[i]){var c=t[i].default;n[i]="function"==typeof c?c.call(e):c}else 0}}return n}}function ln(t,e){if(!t||!t.length)return{};for(var n={},r=0,o=t.length;r<o;r++){var i=t[r],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==e&&i.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(i);else{var s=a.slot,c=n[s]||(n[s]=[]);"template"===i.tag?c.push.apply(c,i.children||[]):c.push(i)}}for(var u in n)n[u].every(fn)&&delete n[u];return n}function fn(t){return t.isComment&&!t.asyncFactory||" "===t.text}function pn(t,n,r){var o,i=Object.keys(n).length>0,a=t?!!t.$stable:!i,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&r&&r!==e&&s===r.$key&&!i&&!r.$hasNormal)return r;for(var c in o={},t)t[c]&&"$"!==c[0]&&(o[c]=dn(n,c,t[c]))}else o={};for(var u in n)u in o||(o[u]=vn(n,u));return t&&Object.isExtensible(t)&&(t._normalized=o),q(o,"$stable",a),q(o,"$key",s),q(o,"$hasNormal",i),o}function dn(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:rn(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function vn(t,e){return function(){return t[e]}}function hn(t,e){var n,o,i,a,c;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),o=0,i=t.length;o<i;o++)n[o]=e(t[o],o);else if("number"==typeof t)for(n=new Array(t),o=0;o<t;o++)n[o]=e(o+1,o);else if(s(t))if(mt&&t[Symbol.iterator]){n=[];for(var u=t[Symbol.iterator](),l=u.next();!l.done;)n.push(e(l.value,n.length)),l=u.next()}else for(a=Object.keys(t),n=new Array(a.length),o=0,i=a.length;o<i;o++)c=a[o],n[o]=e(t[c],c,o);return r(n)||(n=[]),n._isVList=!0,n}function mn(t,e,n,r){var o,i=this.$scopedSlots[t];i?(n=n||{},r&&(n=I(I({},r),n)),o=i(n)||e):o=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},o):o}function yn(t){return ue(this.$options,"filters",t,!0)||P}function gn(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function _n(t,e,n,r,o){var i=z.keyCodes[e]||n;return o&&r&&!z.keyCodes[e]?gn(o,r):i?gn(i,t):r?k(r)!==e:void 0}function bn(t,e,n,r,o){if(n)if(s(n)){var i;Array.isArray(n)&&(n=D(n));var a=function(a){if("class"===a||"style"===a||g(a))i=t;else{var s=t.attrs&&t.attrs.type;i=r||z.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=A(a),u=k(a);c in i||u in i||(i[a]=n[a],o&&((t.on||(t.on={}))["update:"+a]=function(t){n[a]=t}))};for(var c in n)a(c)}else;return t}function Cn(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e?r:($n(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r)}function wn(t,e,n){return $n(t,"__once__"+e+(n?"_"+n:""),!0),t}function $n(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&An(t[r],e+"_"+r,n);else An(t,e,n)}function An(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function xn(t,e){if(e)if(l(e)){var n=t.on=t.on?I({},t.on):{};for(var r in e){var o=n[r],i=e[r];n[r]=o?[].concat(o,i):i}}else;return t}function On(t,e,n,r){e=e||{$stable:!n};for(var o=0;o<t.length;o++){var i=t[o];Array.isArray(i)?On(i,e,n):i&&(i.proxy&&(i.fn.proxy=!0),e[i.key]=i.fn)}return r&&(e.$key=r),e}function kn(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Sn(t,e){return"string"==typeof t?e+t:t}function jn(t){t._o=wn,t._n=h,t._s=v,t._l=hn,t._t=mn,t._q=M,t._i=F,t._m=Cn,t._f=yn,t._k=_n,t._b=bn,t._v=Dt,t._e=It,t._u=On,t._g=xn,t._d=kn,t._p=Sn}function En(t,n,r,i,a){var s,c=this,u=a.options;C(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var l=o(u._compiled),f=!l;this.data=t,this.props=n,this.children=r,this.parent=i,this.listeners=t.on||e,this.injections=un(u.inject,i),this.slots=function(){return c.$slots||pn(t.scopedSlots,c.$slots=ln(r,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return pn(t.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=pn(t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,r){var o=zn(s,t,e,n,r,f);return o&&!Array.isArray(o)&&(o.fnScopeId=u._scopeId,o.fnContext=i),o}:this._c=function(t,e,n,r){return zn(s,t,e,n,r,f)}}function Tn(t,n,o,i,a){var s=t.options,c={},u=s.props;if(r(u))for(var l in u)c[l]=le(l,u,n||e);else r(o.attrs)&&Dn(c,o.attrs),r(o.props)&&Dn(c,o.props);var f=new En(o,c,a,i,t),p=s.render.call(null,f._c,f);if(p instanceof Et)return In(p,o,f.parent,s,f);if(Array.isArray(p)){for(var d=rn(p)||[],v=new Array(d.length),h=0;h<d.length;h++)v[h]=In(d[h],o,f.parent,s,f);return v}}function In(t,e,n,r,o){var i=Nt(t);return i.fnContext=n,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function Dn(t,e){for(var n in e)t[A(n)]=e[n]}jn(En.prototype);var Nn={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Nn.prepatch(n,n)}else{(t.componentInstance=Mn(t,cr)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;vr(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,gr(n,"mounted")),t.data.keepAlive&&(e._isMounted?Dr(n):mr(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?yr(e,!0):e.$destroy())}},Ln=Object.keys(Nn);function Pn(t,e,i,a,c){if(!n(t)){var u=i.$options._base;if(s(t)&&(t=u.extend(t)),"function"==typeof t){var l;if(n(t.cid)&&void 0===(t=Yn(l=t,u)))return Qn(l,e,i,a,c);e=e||{},no(t),r(e.model)&&Hn(t.options,e);var f=tn(e,t,c);if(o(t.options.functional))return Tn(t,f,e,i,a);var p=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}Fn(e);var v=t.options.name||c;return new Et("vue-component-"+t.cid+(v?"-"+v:""),e,void 0,void 0,void 0,i,{Ctor:t,propsData:f,listeners:p,tag:c,children:a},l)}}}function Mn(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},o=t.data.inlineTemplate;return r(o)&&(n.render=o.render,n.staticRenderFns=o.staticRenderFns),new t.componentOptions.Ctor(n)}function Fn(t){for(var e=t.hook||(t.hook={}),n=0;n<Ln.length;n++){var r=Ln[n],o=e[r],i=Nn[r];o===i||o&&o._merged||(e[r]=o?Rn(i,o):i)}}function Rn(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function Hn(t,e){var n=t.model&&t.model.prop||"value",o=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),a=i[o],s=e.model.callback;r(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(i[o]=[s].concat(a)):i[o]=s}var Un=1,Bn=2;function zn(t,e,n,r,i,s){return(Array.isArray(n)||a(n))&&(i=r,r=n,n=void 0),o(s)&&(i=Bn),Vn(t,e,n,r,i)}function Vn(t,e,n,o,i){if(r(n)&&r(n.__ob__))return It();if(r(n)&&r(n.is)&&(e=n.is),!e)return It();var a,s,c;(Array.isArray(o)&&"function"==typeof o[0]&&((n=n||{}).scopedSlots={default:o[0]},o.length=0),i===Bn?o=rn(o):i===Un&&(o=nn(o)),"string"==typeof e)?(s=t.$vnode&&t.$vnode.ns||z.getTagNamespace(e),a=z.isReservedTag(e)?new Et(z.parsePlatformTagName(e),n,o,void 0,void 0,t):n&&n.pre||!r(c=ue(t.$options,"components",e))?new Et(e,n,o,void 0,void 0,t):Pn(c,n,t,o,e)):a=Pn(e,n,t,o);return Array.isArray(a)?a:r(a)?(r(s)&&Wn(a,s),r(n)&&qn(n),a):It()}function Wn(t,e,i){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,i=!0),r(t.children))for(var a=0,s=t.children.length;a<s;a++){var c=t.children[a];r(c.tag)&&(n(c.ns)||o(i)&&"svg"!==c.tag)&&Wn(c,e,i)}}function qn(t){s(t.style)&&Xe(t.style),s(t.class)&&Xe(t.class)}function Kn(t){t._vnode=null,t._staticTrees=null;var n=t.$options,r=t.$vnode=n._parentVnode,o=r&&r.context;t.$slots=ln(n._renderChildren,o),t.$scopedSlots=e,t._c=function(e,n,r,o){return zn(t,e,n,r,o,!1)},t.$createElement=function(e,n,r,o){return zn(t,e,n,r,o,!0)};var i=r&&r.data;Wt(t,"$attrs",i&&i.attrs||e,null,!0),Wt(t,"$listeners",n._parentListeners||e,null,!0)}var Xn,Gn=null;function Zn(t){jn(t.prototype),t.prototype.$nextTick=function(t){return ze(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,o=n._parentVnode;o&&(e.$scopedSlots=pn(o.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=o;try{Gn=e,t=r.call(e._renderProxy,e.$createElement)}catch(as){we(as,e,"render"),t=e._vnode}finally{Gn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof Et||(t=It()),t.parent=o,t}}function Jn(t,e){return(t.__esModule||mt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),s(t)?e.extend(t):t}function Qn(t,e,n,r,o){var i=It();return i.asyncFactory=t,i.asyncMeta={data:e,context:n,children:r,tag:o},i}function Yn(t,e){if(o(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;var i=Gn;if(i&&r(t.owners)&&-1===t.owners.indexOf(i)&&t.owners.push(i),o(t.loading)&&r(t.loadingComp))return t.loadingComp;if(i&&!r(t.owners)){var a=t.owners=[i],c=!0,u=null,l=null;i.$on("hook:destroyed",function(){return _(a,i)});var f=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},p=R(function(n){t.resolved=Jn(n,e),c?a.length=0:f(!0)}),v=R(function(e){r(t.errorComp)&&(t.error=!0,f(!0))}),h=t(p,v);return s(h)&&(d(h)?n(t.resolved)&&h.then(p,v):d(h.component)&&(h.component.then(p,v),r(h.error)&&(t.errorComp=Jn(h.error,e)),r(h.loading)&&(t.loadingComp=Jn(h.loading,e),0===h.delay?t.loading=!0:u=setTimeout(function(){u=null,n(t.resolved)&&n(t.error)&&(t.loading=!0,f(!1))},h.delay||200)),r(h.timeout)&&(l=setTimeout(function(){l=null,n(t.resolved)&&v(null)},h.timeout)))),c=!1,t.loading?t.loadingComp:t.resolved}}function tr(t){return t.isComment&&t.asyncFactory}function er(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(r(n)&&(r(n.componentOptions)||tr(n)))return n}}function nr(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&ar(t,e)}function rr(t,e){Xn.$on(t,e)}function or(t,e){Xn.$off(t,e)}function ir(t,e){var n=Xn;return function r(){null!==e.apply(null,arguments)&&n.$off(t,r)}}function ar(t,e,n){Xn=t,Qe(e,n||{},rr,or,ir,t),Xn=void 0}function sr(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var o=0,i=t.length;o<i;o++)r.$on(t[o],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,o=t.length;r<o;r++)n.$off(t[r],e);return n}var i,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;for(var s=a.length;s--;)if((i=a[s])===e||i.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?T(n):n;for(var r=T(arguments,1),o='event handler for "'+t+'"',i=0,a=n.length;i<a;i++)$e(n[i],e,r,e,o)}return e}}var cr=null,ur=!1;function lr(t){var e=cr;return cr=t,function(){cr=e}}function fr(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function pr(t){t.prototype._update=function(t,e){var n=this,r=n.$el,o=n._vnode,i=lr(n);n._vnode=t,n.$el=o?n.__patch__(o,t):n.__patch__(n.$el,t,e,!1),i(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){gr(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||_(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),gr(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function dr(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=It),gr(t,"beforeMount"),r=function(){t._update(t._render(),n)},new Mr(t,r,N,{before:function(){t._isMounted&&!t._isDestroyed&&gr(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,gr(t,"mounted")),t}function vr(t,n,r,o,i){var a=o.data.scopedSlots,s=t.$scopedSlots,c=!!(a&&!a.$stable||s!==e&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key),u=!!(i||t.$options._renderChildren||c);if(t.$options._parentVnode=o,t.$vnode=o,t._vnode&&(t._vnode.parent=o),t.$options._renderChildren=i,t.$attrs=o.data.attrs||e,t.$listeners=r||e,n&&t.$options.props){Ht(!1);for(var l=t._props,f=t.$options._propKeys||[],p=0;p<f.length;p++){var d=f[p],v=t.$options.props;l[d]=le(d,v,n,t)}Ht(!0),t.$options.propsData=n}r=r||e;var h=t.$options._parentListeners;t.$options._parentListeners=r,ar(t,r,h),u&&(t.$slots=ln(i,o.context),t.$forceUpdate())}function hr(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function mr(t,e){if(e){if(t._directInactive=!1,hr(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)mr(t.$children[n]);gr(t,"activated")}}function yr(t,e){if(!(e&&(t._directInactive=!0,hr(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)yr(t.$children[n]);gr(t,"deactivated")}}function gr(t,e){St();var n=t.$options[e],r=e+" hook";if(n)for(var o=0,i=n.length;o<i;o++)$e(n[o],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),jt()}var _r=100,br=[],Cr=[],wr={},$r={},Ar=!1,xr=!1,Or=0;function kr(){Or=br.length=Cr.length=0,wr={},Ar=xr=!1}var Sr=0,jr=Date.now;if(J&&!et){var Er=window.performance;Er&&"function"==typeof Er.now&&jr()>document.createEvent("Event").timeStamp&&(jr=function(){return Er.now()})}function Tr(){var t,e;for(Sr=jr(),xr=!0,br.sort(function(t,e){return t.id-e.id}),Or=0;Or<br.length;Or++)(t=br[Or]).before&&t.before(),e=t.id,wr[e]=null,t.run();var n=Cr.slice(),r=br.slice();kr(),Nr(n),Ir(r),dt&&z.devtools&&dt.emit("flush")}function Ir(t){for(var e=t.length;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&gr(r,"updated")}}function Dr(t){t._inactive=!1,Cr.push(t)}function Nr(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,mr(t[e],!0)}function Lr(t){var e=t.id;if(null==wr[e]){if(wr[e]=!0,xr){for(var n=br.length-1;n>Or&&br[n].id>t.id;)n--;br.splice(n+1,0,t)}else br.push(t);Ar||(Ar=!0,ze(Tr))}}var Pr=0,Mr=function(t,e,n,r,o){this.vm=t,o&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Pr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ht,this.newDepIds=new ht,this.expression="","function"==typeof e?this.getter=e:(this.getter=X(e),this.getter||(this.getter=N)),this.value=this.lazy?void 0:this.get()};Mr.prototype.get=function(){var t;St(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(as){if(!this.user)throw as;we(as,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Xe(t),jt(),this.cleanupDeps()}return t},Mr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Mr.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Mr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Lr(this)},Mr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(as){we(as,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Mr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Mr.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Mr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||_(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var Fr={enumerable:!0,configurable:!0,get:N,set:N};function Rr(t,e,n){Fr.get=function(){return this[e][n]},Fr.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Fr)}function Hr(t){t._watchers=[];var e=t.$options;e.props&&Ur(t,e.props),e.methods&&Gr(t,e.methods),e.data?Br(t):Vt(t._data={},!0),e.computed&&Wr(t,e.computed),e.watch&&e.watch!==ut&&Zr(t,e.watch)}function Ur(t,e){var n=t.$options.propsData||{},r=t._props={},o=t.$options._propKeys=[],i=!t.$parent;i||Ht(!1);var a=function(i){o.push(i);var a=le(i,e,n,t);Wt(r,i,a),i in t||Rr(t,"_props",i)};for(var s in e)a(s);Ht(!0)}function Br(t){var e=t.$options.data;l(e=t._data="function"==typeof e?zr(e,t):e||{})||(e={});for(var n=Object.keys(e),r=t.$options.props,o=(t.$options.methods,n.length);o--;){var i=n[o];0,r&&C(r,i)||W(i)||Rr(t,"_data",i)}Vt(e,!0)}function zr(t,e){St();try{return t.call(e,e)}catch(as){return we(as,e,"data()"),{}}finally{jt()}}var Vr={lazy:!0};function Wr(t,e){var n=t._computedWatchers=Object.create(null),r=pt();for(var o in e){var i=e[o],a="function"==typeof i?i:i.get;0,r||(n[o]=new Mr(t,a||N,N,Vr)),o in t||qr(t,o,i)}}function qr(t,e,n){var r=!pt();"function"==typeof n?(Fr.get=r?Kr(e):Xr(n),Fr.set=N):(Fr.get=n.get?r&&!1!==n.cache?Kr(e):Xr(n.get):N,Fr.set=n.set||N),Object.defineProperty(t,e,Fr)}function Kr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),Ot.target&&e.depend(),e.value}}function Xr(t){return function(){return t.call(this,this)}}function Gr(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?N:E(e[n],t)}function Zr(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)Jr(t,n,r[o]);else Jr(t,n,r)}}function Jr(t,e,n,r){return l(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}function Qr(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=qt,t.prototype.$delete=Kt,t.prototype.$watch=function(t,e,n){if(l(e))return Jr(this,t,e,n);(n=n||{}).user=!0;var r=new Mr(this,t,e,n);if(n.immediate)try{e.call(this,r.value)}catch(o){we(o,this,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}var Yr=0;function to(t){t.prototype._init=function(t){var e=this;e._uid=Yr++,e._isVue=!0,t&&t._isComponent?eo(e,t):e.$options=ce(no(e.constructor),t||{},e),e._renderProxy=e,e._self=e,fr(e),nr(e),Kn(e),gr(e,"beforeCreate"),cn(e),Hr(e),sn(e),gr(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function eo(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function no(t){var e=t.options;if(t.super){var n=no(t.super);if(n!==t.superOptions){t.superOptions=n;var r=ro(t);r&&I(t.extendOptions,r),(e=t.options=ce(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function ro(t){var e,n=t.options,r=t.sealedOptions;for(var o in n)n[o]!==r[o]&&(e||(e={}),e[o]=n[o]);return e}function oo(t){this._init(t)}function io(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=T(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}function ao(t){t.mixin=function(t){return this.options=ce(this.options,t),this}}function so(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,o=t._Ctor||(t._Ctor={});if(o[r])return o[r];var i=t.name||n.options.name;var a=function(t){this._init(t)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=e++,a.options=ce(n.options,t),a.super=n,a.options.props&&co(a),a.options.computed&&uo(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,U.forEach(function(t){a[t]=n[t]}),i&&(a.options.components[i]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=I({},a.options),o[r]=a,a}}function co(t){var e=t.options.props;for(var n in e)Rr(t.prototype,"_props",n)}function uo(t){var e=t.options.computed;for(var n in e)qr(t.prototype,n,e[n])}function lo(t){U.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&l(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function fo(t){return t&&(t.Ctor.options.name||t.tag)}function po(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!f(t)&&t.test(e)}function vo(t,e){var n=t.cache,r=t.keys,o=t._vnode;for(var i in n){var a=n[i];if(a){var s=fo(a.componentOptions);s&&!e(s)&&ho(n,i,r,o)}}}function ho(t,e,n,r){var o=t[e];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),t[e]=null,_(n,e)}to(oo),Qr(oo),sr(oo),pr(oo),Zn(oo);var mo=[String,RegExp,Array],yo={name:"keep-alive",abstract:!0,props:{include:mo,exclude:mo,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)ho(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){vo(t,function(t){return po(e,t)})}),this.$watch("exclude",function(e){vo(t,function(t){return!po(e,t)})})},render:function(){var t=this.$slots.default,e=er(t),n=e&&e.componentOptions;if(n){var r=fo(n),o=this.include,i=this.exclude;if(o&&(!r||!po(o,r))||i&&r&&po(i,r))return e;var a=this.cache,s=this.keys,c=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[c]?(e.componentInstance=a[c].componentInstance,_(s,c),s.push(c)):(a[c]=e,s.push(c),this.max&&s.length>parseInt(this.max)&&ho(a,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},go={KeepAlive:yo};function _o(t){var e={get:function(){return z}};Object.defineProperty(t,"config",e),t.util={warn:Ct,extend:I,mergeOptions:ce,defineReactive:Wt},t.set=qt,t.delete=Kt,t.nextTick=ze,t.observable=function(t){return Vt(t),t},t.options=Object.create(null),U.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,I(t.options.components,go),io(t),ao(t),so(t),lo(t)}_o(oo),Object.defineProperty(oo.prototype,"$isServer",{get:pt}),Object.defineProperty(oo.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(oo,"FunctionalRenderContext",{value:En}),oo.version="2.6.12";var bo=m("style,class"),Co=m("input,textarea,option,select,progress"),wo=function(t,e,n){return"value"===n&&Co(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},$o=m("contenteditable,draggable,spellcheck"),Ao=m("events,caret,typing,plaintext-only"),xo=function(t,e){return Eo(e)||"false"===e?"false":"contenteditable"===t&&Ao(e)?e:"true"},Oo=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),ko="http://www.w3.org/1999/xlink",So=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},jo=function(t){return So(t)?t.slice(6,t.length):""},Eo=function(t){return null==t||!1===t};function To(t){for(var e=t.data,n=t,o=t;r(o.componentInstance);)(o=o.componentInstance._vnode)&&o.data&&(e=Io(o.data,e));for(;r(n=n.parent);)n&&n.data&&(e=Io(e,n.data));return Do(e.staticClass,e.class)}function Io(t,e){return{staticClass:No(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Do(t,e){return r(t)||r(e)?No(t,Lo(e)):""}function No(t,e){return t?e?t+" "+e:t:e||""}function Lo(t){return Array.isArray(t)?Po(t):s(t)?Mo(t):"string"==typeof t?t:""}function Po(t){for(var e,n="",o=0,i=t.length;o<i;o++)r(e=Lo(t[o]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function Mo(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var Fo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ro=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ho=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Uo=function(t){return Ro(t)||Ho(t)};function Bo(t){return Ho(t)?"svg":"math"===t?"math":void 0}var zo=Object.create(null);function Vo(t){if(!J)return!0;if(Uo(t))return!1;if(t=t.toLowerCase(),null!=zo[t])return zo[t];var e=document.createElement(t);return t.indexOf("-")>-1?zo[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:zo[t]=/HTMLUnknownElement/.test(e.toString())}var Wo=m("text,number,password,search,email,tel,url");function qo(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function Ko(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function Xo(t,e){return document.createElementNS(Fo[t],e)}function Go(t){return document.createTextNode(t)}function Zo(t){return document.createComment(t)}function Jo(t,e,n){t.insertBefore(e,n)}function Qo(t,e){t.removeChild(e)}function Yo(t,e){t.appendChild(e)}function ti(t){return t.parentNode}function ei(t){return t.nextSibling}function ni(t){return t.tagName}function ri(t,e){t.textContent=e}function oi(t,e){t.setAttribute(e,"")}var ii=Object.freeze({createElement:Ko,createElementNS:Xo,createTextNode:Go,createComment:Zo,insertBefore:Jo,removeChild:Qo,appendChild:Yo,parentNode:ti,nextSibling:ei,tagName:ni,setTextContent:ri,setStyleScope:oi}),ai={create:function(t,e){si(e)},update:function(t,e){t.data.ref!==e.data.ref&&(si(t,!0),si(e))},destroy:function(t){si(t,!0)}};function si(t,e){var n=t.data.ref;if(r(n)){var o=t.context,i=t.componentInstance||t.elm,a=o.$refs;e?Array.isArray(a[n])?_(a[n],i):a[n]===i&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(i)<0&&a[n].push(i):a[n]=[i]:a[n]=i}}var ci=new Et("",{},[]),ui=["create","activate","update","remove","destroy"];function li(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&fi(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&n(e.asyncFactory.error))}function fi(t,e){if("input"!==t.tag)return!0;var n,o=r(n=t.data)&&r(n=n.attrs)&&n.type,i=r(n=e.data)&&r(n=n.attrs)&&n.type;return o===i||Wo(o)&&Wo(i)}function pi(t,e,n){var o,i,a={};for(o=e;o<=n;++o)r(i=t[o].key)&&(a[i]=o);return a}function di(t){var e,i,s={},c=t.modules,u=t.nodeOps;for(e=0;e<ui.length;++e)for(s[ui[e]]=[],i=0;i<c.length;++i)r(c[i][ui[e]])&&s[ui[e]].push(c[i][ui[e]]);function l(t){var e=u.parentNode(t);r(e)&&u.removeChild(e,t)}function f(t,e,n,i,a,c,l){if(r(t.elm)&&r(c)&&(t=c[l]=Nt(t)),t.isRootInsert=!a,!function(t,e,n,i){var a=t.data;if(r(a)){var c=r(t.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(t,!1),r(t.componentInstance))return p(t,e),d(n,t.elm,i),o(c)&&function(t,e,n,o){var i,a=t;for(;a.componentInstance;)if(a=a.componentInstance._vnode,r(i=a.data)&&r(i=i.transition)){for(i=0;i<s.activate.length;++i)s.activate[i](ci,a);e.push(a);break}d(n,t.elm,o)}(t,e,n,i),!0}}(t,e,n,i)){var f=t.data,h=t.children,m=t.tag;r(m)?(t.elm=t.ns?u.createElementNS(t.ns,m):u.createElement(m,t),g(t),v(t,h,e),r(f)&&y(t,e),d(n,t.elm,i)):o(t.isComment)?(t.elm=u.createComment(t.text),d(n,t.elm,i)):(t.elm=u.createTextNode(t.text),d(n,t.elm,i))}}function p(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,h(t)?(y(t,e),g(t)):(si(t),e.push(t))}function d(t,e,n){r(t)&&(r(n)?u.parentNode(n)===t&&u.insertBefore(t,e,n):u.appendChild(t,e))}function v(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)f(e[r],n,t.elm,null,!0,e,r)}else a(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function h(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return r(t.tag)}function y(t,n){for(var o=0;o<s.create.length;++o)s.create[o](ci,t);r(e=t.data.hook)&&(r(e.create)&&e.create(ci,t),r(e.insert)&&n.push(t))}function g(t){var e;if(r(e=t.fnScopeId))u.setStyleScope(t.elm,e);else for(var n=t;n;)r(e=n.context)&&r(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),n=n.parent;r(e=cr)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function _(t,e,n,r,o,i){for(;r<=o;++r)f(n[r],i,t,e,!1,n,r)}function b(t){var e,n,o=t.data;if(r(o))for(r(e=o.hook)&&r(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)b(t.children[n])}function C(t,e,n){for(;e<=n;++e){var o=t[e];r(o)&&(r(o.tag)?(w(o),b(o)):l(o.elm))}}function w(t,e){if(r(e)||r(t.data)){var n,o=s.remove.length+1;for(r(e)?e.listeners+=o:e=function(t,e){function n(){0==--n.listeners&&l(t)}return n.listeners=e,n}(t.elm,o),r(n=t.componentInstance)&&r(n=n._vnode)&&r(n.data)&&w(n,e),n=0;n<s.remove.length;++n)s.remove[n](t,e);r(n=t.data.hook)&&r(n=n.remove)?n(t,e):e()}else l(t.elm)}function $(t,e,n,o){for(var i=n;i<o;i++){var a=e[i];if(r(a)&&li(t,a))return i}}function A(t,e,i,a,c,l){if(t!==e){r(e.elm)&&r(a)&&(e=a[c]=Nt(e));var p=e.elm=t.elm;if(o(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?k(t.elm,e,i):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,v=e.data;r(v)&&r(d=v.hook)&&r(d=d.prepatch)&&d(t,e);var m=t.children,y=e.children;if(r(v)&&h(e)){for(d=0;d<s.update.length;++d)s.update[d](t,e);r(d=v.hook)&&r(d=d.update)&&d(t,e)}n(e.text)?r(m)&&r(y)?m!==y&&function(t,e,o,i,a){var s,c,l,p=0,d=0,v=e.length-1,h=e[0],m=e[v],y=o.length-1,g=o[0],b=o[y],w=!a;for(;p<=v&&d<=y;)n(h)?h=e[++p]:n(m)?m=e[--v]:li(h,g)?(A(h,g,i,o,d),h=e[++p],g=o[++d]):li(m,b)?(A(m,b,i,o,y),m=e[--v],b=o[--y]):li(h,b)?(A(h,b,i,o,y),w&&u.insertBefore(t,h.elm,u.nextSibling(m.elm)),h=e[++p],b=o[--y]):li(m,g)?(A(m,g,i,o,d),w&&u.insertBefore(t,m.elm,h.elm),m=e[--v],g=o[++d]):(n(s)&&(s=pi(e,p,v)),n(c=r(g.key)?s[g.key]:$(g,e,p,v))?f(g,i,t,h.elm,!1,o,d):li(l=e[c],g)?(A(l,g,i,o,d),e[c]=void 0,w&&u.insertBefore(t,l.elm,h.elm)):f(g,i,t,h.elm,!1,o,d),g=o[++d]);p>v?_(t,n(o[y+1])?null:o[y+1].elm,o,d,y,i):d>y&&C(e,p,v)}(p,m,y,i,l):r(y)?(r(t.text)&&u.setTextContent(p,""),_(p,null,y,0,y.length-1,i)):r(m)?C(m,0,m.length-1):r(t.text)&&u.setTextContent(p,""):t.text!==e.text&&u.setTextContent(p,e.text),r(v)&&r(d=v.hook)&&r(d=d.postpatch)&&d(t,e)}}}function x(t,e,n){if(o(n)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var O=m("attrs,class,staticClass,staticStyle,key");function k(t,e,n,i){var a,s=e.tag,c=e.data,u=e.children;if(i=i||c&&c.pre,e.elm=t,o(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(c)&&(r(a=c.hook)&&r(a=a.init)&&a(e,!0),r(a=e.componentInstance)))return p(e,n),!0;if(r(s)){if(r(u))if(t.hasChildNodes())if(r(a=c)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var l=!0,f=t.firstChild,d=0;d<u.length;d++){if(!f||!k(f,u[d],n,i)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else v(e,u,n);if(r(c)){var h=!1;for(var m in c)if(!O(m)){h=!0,y(e,n);break}!h&&c.class&&Xe(c.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,i,a){if(!n(e)){var c,l=!1,p=[];if(n(t))l=!0,f(e,p);else{var d=r(t.nodeType);if(!d&&li(t,e))A(t,e,p,null,null,a);else{if(d){if(1===t.nodeType&&t.hasAttribute(H)&&(t.removeAttribute(H),i=!0),o(i)&&k(t,e,p))return x(e,p,!0),t;c=t,t=new Et(u.tagName(c).toLowerCase(),{},[],void 0,c)}var v=t.elm,m=u.parentNode(v);if(f(e,p,v._leaveCb?null:m,u.nextSibling(v)),r(e.parent))for(var y=e.parent,g=h(e);y;){for(var _=0;_<s.destroy.length;++_)s.destroy[_](y);if(y.elm=e.elm,g){for(var w=0;w<s.create.length;++w)s.create[w](ci,y);var $=y.data.hook.insert;if($.merged)for(var O=1;O<$.fns.length;O++)$.fns[O]()}else si(y);y=y.parent}r(m)?C([t],0,0):r(t.tag)&&b(t)}}return x(e,p,l),e.elm}r(t)&&b(t)}}var vi={create:hi,update:hi,destroy:function(t){hi(t,ci)}};function hi(t,e){(t.data.directives||e.data.directives)&&mi(t,e)}function mi(t,e){var n,r,o,i=t===ci,a=e===ci,s=gi(t.data.directives,t.context),c=gi(e.data.directives,e.context),u=[],l=[];for(n in c)r=s[n],o=c[n],r?(o.oldValue=r.value,o.oldArg=r.arg,bi(o,"update",e,t),o.def&&o.def.componentUpdated&&l.push(o)):(bi(o,"bind",e,t),o.def&&o.def.inserted&&u.push(o));if(u.length){var f=function(){for(var n=0;n<u.length;n++)bi(u[n],"inserted",e,t)};i?Ye(e,"insert",f):f()}if(l.length&&Ye(e,"postpatch",function(){for(var n=0;n<l.length;n++)bi(l[n],"componentUpdated",e,t)}),!i)for(n in s)c[n]||bi(s[n],"unbind",t,t,a)}var yi=Object.create(null);function gi(t,e){var n,r,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=yi),o[_i(r)]=r,r.def=ue(e.$options,"directives",r.name,!0);return o}function _i(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function bi(t,e,n,r,o){var i=t.def&&t.def[e];if(i)try{i(n.elm,t,n,r,o)}catch(as){we(as,n.context,"directive "+t.name+" "+e+" hook")}}var Ci=[ai,vi];function wi(t,e){var o=e.componentOptions;if(!(r(o)&&!1===o.Ctor.options.inheritAttrs||n(t.data.attrs)&&n(e.data.attrs))){var i,a,s=e.elm,c=t.data.attrs||{},u=e.data.attrs||{};for(i in r(u.__ob__)&&(u=e.data.attrs=I({},u)),u)a=u[i],c[i]!==a&&$i(s,i,a);for(i in(et||rt)&&u.value!==c.value&&$i(s,"value",u.value),c)n(u[i])&&(So(i)?s.removeAttributeNS(ko,jo(i)):$o(i)||s.removeAttribute(i))}}function $i(t,e,n){t.tagName.indexOf("-")>-1?Ai(t,e,n):Oo(e)?Eo(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):$o(e)?t.setAttribute(e,xo(e,n)):So(e)?Eo(n)?t.removeAttributeNS(ko,jo(e)):t.setAttributeNS(ko,e,n):Ai(t,e,n)}function Ai(t,e,n){if(Eo(n))t.removeAttribute(e);else{if(et&&!nt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var xi={create:wi,update:wi};function Oi(t,e){var o=e.elm,i=e.data,a=t.data;if(!(n(i.staticClass)&&n(i.class)&&(n(a)||n(a.staticClass)&&n(a.class)))){var s=To(e),c=o._transitionClasses;r(c)&&(s=No(s,Lo(c))),s!==o._prevClass&&(o.setAttribute("class",s),o._prevClass=s)}}var ki,Si={create:Oi,update:Oi},ji="__r",Ei="__c";function Ti(t){if(r(t[ji])){var e=et?"change":"input";t[e]=[].concat(t[ji],t[e]||[]),delete t[ji]}r(t[Ei])&&(t.change=[].concat(t[Ei],t.change||[]),delete t[Ei])}function Ii(t,e,n){var r=ki;return function o(){null!==e.apply(null,arguments)&&Li(t,o,n,r)}}var Di=Le&&!(ct&&Number(ct[1])<=53);function Ni(t,e,n,r){if(Di){var o=Sr,i=e;e=i._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=o||t.timeStamp<=0||t.target.ownerDocument!==document)return i.apply(this,arguments)}}ki.addEventListener(t,e,lt?{capture:n,passive:r}:n)}function Li(t,e,n,r){(r||ki).removeEventListener(t,e._wrapper||e,n)}function Pi(t,e){if(!n(t.data.on)||!n(e.data.on)){var r=e.data.on||{},o=t.data.on||{};ki=e.elm,Ti(r),Qe(r,o,Ni,Li,Ii,e.context),ki=void 0}}var Mi,Fi={create:Pi,update:Pi};function Ri(t,e){if(!n(t.data.domProps)||!n(e.data.domProps)){var o,i,a=e.elm,s=t.data.domProps||{},c=e.data.domProps||{};for(o in r(c.__ob__)&&(c=e.data.domProps=I({},c)),s)o in c||(a[o]="");for(o in c){if(i=c[o],"textContent"===o||"innerHTML"===o){if(e.children&&(e.children.length=0),i===s[o])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===o&&"PROGRESS"!==a.tagName){a._value=i;var u=n(i)?"":String(i);Hi(a,u)&&(a.value=u)}else if("innerHTML"===o&&Ho(a.tagName)&&n(a.innerHTML)){(Mi=Mi||document.createElement("div")).innerHTML="<svg>"+i+"</svg>";for(var l=Mi.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}else if(i!==s[o])try{a[o]=i}catch(as){}}}}function Hi(t,e){return!t.composing&&("OPTION"===t.tagName||Ui(t,e)||Bi(t,e))}function Ui(t,e){var n=!0;try{n=document.activeElement!==t}catch(as){}return n&&t.value!==e}function Bi(t,e){var n=t.value,o=t._vModifiers;if(r(o)){if(o.number)return h(n)!==h(e);if(o.trim)return n.trim()!==e.trim()}return n!==e}var zi={create:Ri,update:Ri},Vi=w(function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e});function Wi(t){var e=qi(t.style);return t.staticStyle?I(t.staticStyle,e):e}function qi(t){return Array.isArray(t)?D(t):"string"==typeof t?Vi(t):t}function Ki(t,e){var n,r={};if(e)for(var o=t;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(n=Wi(o.data))&&I(r,n);(n=Wi(t.data))&&I(r,n);for(var i=t;i=i.parent;)i.data&&(n=Wi(i.data))&&I(r,n);return r}var Xi,Gi=/^--/,Zi=/\s*!important$/,Ji=function(t,e,n){if(Gi.test(e))t.style.setProperty(e,n);else if(Zi.test(n))t.style.setProperty(k(e),n.replace(Zi,""),"important");else{var r=Yi(e);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)t.style[r]=n[o];else t.style[r]=n}},Qi=["Webkit","Moz","ms"],Yi=w(function(t){if(Xi=Xi||document.createElement("div").style,"filter"!==(t=A(t))&&t in Xi)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Qi.length;n++){var r=Qi[n]+e;if(r in Xi)return r}});function ta(t,e){var o=e.data,i=t.data;if(!(n(o.staticStyle)&&n(o.style)&&n(i.staticStyle)&&n(i.style))){var a,s,c=e.elm,u=i.staticStyle,l=i.normalizedStyle||i.style||{},f=u||l,p=qi(e.data.style)||{};e.data.normalizedStyle=r(p.__ob__)?I({},p):p;var d=Ki(e,!0);for(s in f)n(d[s])&&Ji(c,s,"");for(s in d)(a=d[s])!==f[s]&&Ji(c,s,null==a?"":a)}}var ea={create:ta,update:ta},na=/\s+/;function ra(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(na).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function oa(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(na).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function ia(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&I(e,aa(t.name||"v")),I(e,t),e}return"string"==typeof t?aa(t):void 0}}var aa=w(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),sa=J&&!nt,ca="transition",ua="animation",la="transition",fa="transitionend",pa="animation",da="animationend";sa&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(la="WebkitTransition",fa="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(pa="WebkitAnimation",da="webkitAnimationEnd"));var va=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function ha(t){va(function(){va(t)})}function ma(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),ra(t,e))}function ya(t,e){t._transitionClasses&&_(t._transitionClasses,e),oa(t,e)}function ga(t,e,n){var r=ba(t,e),o=r.type,i=r.timeout,a=r.propCount;if(!o)return n();var s=o===ca?fa:da,c=0,u=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++c>=a&&u()};setTimeout(function(){c<a&&u()},i+1),t.addEventListener(s,l)}var _a=/\b(transform|all)(,|$)/;function ba(t,e){var n,r=window.getComputedStyle(t),o=(r[la+"Delay"]||"").split(", "),i=(r[la+"Duration"]||"").split(", "),a=Ca(o,i),s=(r[pa+"Delay"]||"").split(", "),c=(r[pa+"Duration"]||"").split(", "),u=Ca(s,c),l=0,f=0;return e===ca?a>0&&(n=ca,l=a,f=i.length):e===ua?u>0&&(n=ua,l=u,f=c.length):f=(n=(l=Math.max(a,u))>0?a>u?ca:ua:null)?n===ca?i.length:c.length:0,{type:n,timeout:l,propCount:f,hasTransform:n===ca&&_a.test(r[la+"Property"])}}function Ca(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return wa(e)+wa(t[n])}))}function wa(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function $a(t,e){var o=t.elm;r(o._leaveCb)&&(o._leaveCb.cancelled=!0,o._leaveCb());var i=ia(t.data.transition);if(!n(i)&&!r(o._enterCb)&&1===o.nodeType){for(var a=i.css,c=i.type,u=i.enterClass,l=i.enterToClass,f=i.enterActiveClass,p=i.appearClass,d=i.appearToClass,v=i.appearActiveClass,m=i.beforeEnter,y=i.enter,g=i.afterEnter,_=i.enterCancelled,b=i.beforeAppear,C=i.appear,w=i.afterAppear,$=i.appearCancelled,A=i.duration,x=cr,O=cr.$vnode;O&&O.parent;)x=O.context,O=O.parent;var k=!x._isMounted||!t.isRootInsert;if(!k||C||""===C){var S=k&&p?p:u,j=k&&v?v:f,E=k&&d?d:l,T=k&&b||m,I=k&&"function"==typeof C?C:y,D=k&&w||g,N=k&&$||_,L=h(s(A)?A.enter:A);0;var P=!1!==a&&!nt,M=ka(I),F=o._enterCb=R(function(){P&&(ya(o,E),ya(o,j)),F.cancelled?(P&&ya(o,S),N&&N(o)):D&&D(o),o._enterCb=null});t.data.show||Ye(t,"insert",function(){var e=o.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),I&&I(o,F)}),T&&T(o),P&&(ma(o,S),ma(o,j),ha(function(){ya(o,S),F.cancelled||(ma(o,E),M||(Oa(L)?setTimeout(F,L):ga(o,c,F)))})),t.data.show&&(e&&e(),I&&I(o,F)),P||M||F()}}}function Aa(t,e){var o=t.elm;r(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var i=ia(t.data.transition);if(n(i)||1!==o.nodeType)return e();if(!r(o._leaveCb)){var a=i.css,c=i.type,u=i.leaveClass,l=i.leaveToClass,f=i.leaveActiveClass,p=i.beforeLeave,d=i.leave,v=i.afterLeave,m=i.leaveCancelled,y=i.delayLeave,g=i.duration,_=!1!==a&&!nt,b=ka(d),C=h(s(g)?g.leave:g);0;var w=o._leaveCb=R(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[t.key]=null),_&&(ya(o,l),ya(o,f)),w.cancelled?(_&&ya(o,u),m&&m(o)):(e(),v&&v(o)),o._leaveCb=null});y?y($):$()}function $(){w.cancelled||(!t.data.show&&o.parentNode&&((o.parentNode._pending||(o.parentNode._pending={}))[t.key]=t),p&&p(o),_&&(ma(o,u),ma(o,f),ha(function(){ya(o,u),w.cancelled||(ma(o,l),b||(Oa(C)?setTimeout(w,C):ga(o,c,w)))})),d&&d(o,w),_||b||w())}}function xa(t,e,n){"number"!=typeof t?Ct("<transition> explicit "+e+" duration is not a valid number - got "+JSON.stringify(t)+".",n.context):isNaN(t)&&Ct("<transition> explicit "+e+" duration is NaN - the duration expression might be incorrect.",n.context)}function Oa(t){return"number"==typeof t&&!isNaN(t)}function ka(t){if(n(t))return!1;var e=t.fns;return r(e)?ka(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Sa(t,e){!0!==e.data.show&&$a(e)}var ja=J?{create:Sa,activate:Sa,remove:function(t,e){!0!==t.data.show?Aa(t,e):e()}}:{},Ea=[xi,Si,Fi,zi,ea,ja],Ta=Ea.concat(Ci),Ia=di({nodeOps:ii,modules:Ta});nt&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Ha(t,"input")});var Da={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Ye(n,"postpatch",function(){Da.componentUpdated(t,e,n)}):Na(t,e,n.context),t._vOptions=[].map.call(t.options,Ma)):("textarea"===n.tag||Wo(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Fa),t.addEventListener("compositionend",Ra),t.addEventListener("change",Ra),nt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Na(t,e,n.context);var r=t._vOptions,o=t._vOptions=[].map.call(t.options,Ma);if(o.some(function(t,e){return!M(t,r[e])}))(t.multiple?e.value.some(function(t){return Pa(t,o)}):e.value!==e.oldValue&&Pa(e.value,o))&&Ha(t,"change")}}};function Na(t,e,n){La(t,e,n),(et||rt)&&setTimeout(function(){La(t,e,n)},0)}function La(t,e,n){var r=e.value,o=t.multiple;if(!o||Array.isArray(r)){for(var i,a,s=0,c=t.options.length;s<c;s++)if(a=t.options[s],o)i=F(r,Ma(a))>-1,a.selected!==i&&(a.selected=i);else if(M(Ma(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));o||(t.selectedIndex=-1)}}function Pa(t,e){return e.every(function(e){return!M(e,t)})}function Ma(t){return"_value"in t?t._value:t.value}function Fa(t){t.target.composing=!0}function Ra(t){t.target.composing&&(t.target.composing=!1,Ha(t.target,"input"))}function Ha(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Ua(t){return!t.componentInstance||t.data&&t.data.transition?t:Ua(t.componentInstance._vnode)}var Ba={bind:function(t,e,n){var r=e.value,o=(n=Ua(n)).data&&n.data.transition,i=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&o?(n.data.show=!0,$a(n,function(){t.style.display=i})):t.style.display=r?i:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=Ua(n)).data&&n.data.transition?(n.data.show=!0,r?$a(n,function(){t.style.display=t.__vOriginalDisplay}):Aa(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,o){o||(t.style.display=t.__vOriginalDisplay)}},za={model:Da,show:Ba},Va={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Wa(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Wa(er(e.children)):t}function qa(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var o=n._parentListeners;for(var i in o)e[A(i)]=o[i];return e}function Ka(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Xa(t){for(;t=t.parent;)if(t.data.transition)return!0}function Ga(t,e){return e.key===t.key&&e.tag===t.tag}var Za=function(t){return t.tag||tr(t)},Ja=function(t){return"show"===t.name},Qa={name:"transition",props:Va,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Za)).length){0;var r=this.mode;0;var o=n[0];if(Xa(this.$vnode))return o;var i=Wa(o);if(!i)return o;if(this._leaving)return Ka(t,o);var s="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?s+"comment":s+i.tag:a(i.key)?0===String(i.key).indexOf(s)?i.key:s+i.key:i.key;var c=(i.data||(i.data={})).transition=qa(this),u=this._vnode,l=Wa(u);if(i.data.directives&&i.data.directives.some(Ja)&&(i.data.show=!0),l&&l.data&&!Ga(i,l)&&!tr(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=I({},c);if("out-in"===r)return this._leaving=!0,Ye(f,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Ka(t,o);if("in-out"===r){if(tr(i))return u;var p,d=function(){p()};Ye(c,"afterEnter",d),Ye(c,"enterCancelled",d),Ye(f,"delayLeave",function(t){p=t})}}return o}}},Ya=I({tag:String,moveClass:String},Va);delete Ya.mode;var ts={props:Ya,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var o=lr(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],a=qa(this),s=0;s<o.length;s++){var c=o[s];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))i.push(c),n[c.key]=c,(c.data||(c.data={})).transition=a;else;}if(r){for(var u=[],l=[],f=0;f<r.length;f++){var p=r[f];p.data.transition=a,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?u.push(p):l.push(p)}this.kept=t(e,null,u),this.removed=l}return t(e,null,i)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(es),t.forEach(ns),t.forEach(rs),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;ma(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(fa,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(fa,t),n._moveCb=null,ya(n,e))})}}))},methods:{hasMove:function(t,e){if(!sa)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){oa(n,t)}),ra(n,e),n.style.display="none",this.$el.appendChild(n);var r=ba(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function es(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function ns(t){t.data.newPos=t.elm.getBoundingClientRect()}function rs(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,o=e.top-n.top;if(r||o){t.data.moved=!0;var i=t.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}var os={Transition:Qa,TransitionGroup:ts};oo.config.mustUseProp=wo,oo.config.isReservedTag=Uo,oo.config.isReservedAttr=bo,oo.config.getTagNamespace=Bo,oo.config.isUnknownElement=Vo,I(oo.options.directives,za),I(oo.options.components,os),oo.prototype.__patch__=J?Ia:N,oo.prototype.$mount=function(t,e){return dr(this,t=t&&J?qo(t):void 0,e)},J&&setTimeout(function(){z.devtools&&dt&&dt.emit("init",oo)},0);var is=oo;exports.default=is;
},{}],"KRrJ":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("vue")),n=require("../../../../dogfight/src/entities/Plane"),r=require("../../../../dogfight/src/constants");exports.default=t.default.extend({data:function(){return{noServerMode:"client"==r.BuildType.Client,editPlane:"Albatros",planeVarLabels:{width:"Hitbox Width",height:"Hitbox Height",flightTime:"Flight Time",ammo:"Ammo",fireRate:"Fire Rate",thrust:"Thrust",maxSpeed:"Max Speed",minSpeed:"Stall Speed",turnRadius:"Turn Radius",maxAltitude:"Max Altitude",recoveryAngle:"Recovery Angle",glideAngle:"Glide Angle",freeDrag:"Drag"}}},computed:{planeInfo:function(){return this.$store.state.planeInfo},globals:function(){return n.planeGlobals},planeNames:function(){return Object.keys(n.PlaneType).filter(function(e){return isNaN(parseInt(e))})},HUD:function(){return this.$store.state.infoHUD}},methods:{planeID:function(e){return n.PlaneType[e]},isMyPlane:function(e){var t=n.PlaneType[e],r=this.$store.state.client.getFollowObject();return void 0!==r&&r.planeType==t}}});
(function(){var e=exports.default||module.exports;"function"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h4",[e._v("Global Physics")]),e._v(" "),a("p",[a("label",[e._v("Gravity")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.globals.gravity,expression:"globals.gravity",modifiers:{number:!0}}],staticClass:"statBox",attrs:{type:"text"},domProps:{value:e.globals.gravity},on:{input:function(t){t.target.composing||e.$set(e.globals,"gravity",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("br"),e._v(" "),a("label",[e._v("Gravity Feathering")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.globals.feather,expression:"globals.feather",modifiers:{number:!0}}],staticClass:"statBox",attrs:{type:"text"},domProps:{value:e.globals.feather},on:{input:function(t){t.target.composing||e.$set(e.globals,"feather",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),a("br"),e._v(" "),a("label",[e._v("Drag Power")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.globals.dragPower,expression:"globals.dragPower",modifiers:{number:!0}}],staticClass:"statBox",attrs:{type:"text"},domProps:{value:e.globals.dragPower},on:{input:function(t){t.target.composing||e.$set(e.globals,"dragPower",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),a("p",e._l(e.HUD,function(t,n){return a("span",{key:n},[e._v(" "+e._s(n)+": "),a("b",[e._v(e._s(t))])])}),0),e._v(" "),a("hr"),e._v(" "),a("h4",[e._v("Plane Physics")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.editPlane,expression:"editPlane"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.editPlane=t.target.multiple?a:a[0]}}},e._l(e.planeNames,function(t){return a("option",{key:t},[e._v(e._s(t))])}),0),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),e._l(e.planeInfo[e.planeID(e.editPlane)],function(t,n){return a("div",{key:n,class:e.isMyPlane(e.editPlane)?"mine":""},[a("label",[e._v(e._s(e.planeVarLabels[n]||n)+":")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.planeInfo[e.planeID(e.editPlane)][n],expression:"planeInfo[planeID(editPlane)][key]",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:e.planeInfo[e.planeID(e.editPlane)][n]},on:{input:function(t){t.target.composing||e.$set(e.planeInfo[e.planeID(e.editPlane)],n,e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])})],2)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();
},{"vue":"EjOG","../../../../dogfight/src/entities/Plane":"OCWf","../../../../dogfight/src/constants":"P1Jh"}],"oIYH":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("vue"));exports.default=t.default.extend({computed:{info:function(){return this.$store.state.bulletInfo}}});
(function(){var e=exports.default||module.exports;"function"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h4",[e._v("Global Physics")]),e._v(" "),n("p",[n("label",[e._v("Speed")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.info.speed,expression:"info.speed",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:e.info.speed},on:{input:function(t){t.target.composing||e.$set(e.info,"speed",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),n("br"),e._v(" "),n("label",[e._v("Duration")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.info.lifetime,expression:"info.lifetime",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:e.info.lifetime},on:{input:function(t){t.target.composing||e.$set(e.info,"lifetime",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])])},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();
},{"vue":"EjOG"}],"cgPY":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("vue"));exports.default=t.default.extend({computed:{info:function(){return this.$store.state.bombInfo}}});
(function(){var e=exports.default||module.exports;"function"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this,o=e.$createElement,n=e._self._c||o;return n("div",[n("h4",[e._v("Global Physics")]),e._v(" "),n("p",[n("label",[e._v("Gravity")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.info.gravity,expression:"info.gravity",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:e.info.gravity},on:{input:function(o){o.target.composing||e.$set(e.info,"gravity",e._n(o.target.value))},blur:function(o){return e.$forceUpdate()}}}),e._v(" "),n("br"),e._v(" "),n("label",[e._v("Drag")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.info.drag,expression:"info.drag",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:e.info.drag},on:{input:function(o){o.target.composing||e.$set(e.info,"drag",e._n(o.target.value))},blur:function(o){return e.$forceUpdate()}}}),e._v(" "),n("br"),e._v(" "),n("label",[e._v("Cooldown")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.info.cooldown,expression:"info.cooldown",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:e.info.cooldown},on:{input:function(o){o.target.composing||e.$set(e.info,"cooldown",e._n(o.target.value))},blur:function(o){return e.$forceUpdate()}}})])])},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();
},{"vue":"EjOG"}],"S0nm":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("vue"));exports.default=t.default.extend({data:function(){return{labels:{gravity:"Gravity",dragFall:"Drag Falling",dragChute:"Drag Parachute",walkSpeed:"Walking Speed",crashSurviveSpeed:"Falling Survival Speed",fireRate:"Fire Rate",targetRadius:"Target Radius"}}},computed:{info:function(){return this.$store.state.trooperInfo}}});
(function(){var e=exports.default||module.exports;"function"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("h4",[e._v("Global Physics")]),e._v(" "),e._l(e.info,function(n,o){return t("div",{key:o},[t("label",[e._v(e._s(e.labels[o]||o)+":")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.info[o],expression:"info[key]",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:e.info[o]},on:{input:function(n){n.target.composing||e.$set(e.info,o,e._n(n.target.value))},blur:function(n){return e.$forceUpdate()}}})])})],2)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();
},{"vue":"EjOG"}],"xzaN":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var u=e(require("vue")),t=e(require("./plane.vue")),r=e(require("./bullet.vue")),l=e(require("./bomb.vue")),o=e(require("./trooper.vue")),a=require("../../../../dogfight/src/constants");exports.default=u.default.extend({components:{PlaneDebug:t.default,BulletDebug:r.default,TrooperDebug:o.default,BombDebug:l.default},data:function(){return{noServerMode:"client"==a.BuildType.Client,menu:"plane",menuList:[{name:"Bombs",value:"bomb"},{name:"Bullets",value:"bullet"},{name:"Planes",value:"plane"},{name:"Troopers",value:"trooper"}]}},computed:{},methods:{}});
(function(){var e=exports.default||module.exports;"function"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.noServerMode?t("div",{attrs:{id:"debug"}},[t("label",[e._v("Debug Object:")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.menu,expression:"menu"}],on:{change:function(n){var t=Array.prototype.filter.call(n.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.menu=n.target.multiple?t:t[0]}}},e._l(e.menuList,function(n){return t("option",{key:n.value,domProps:{value:n.value}},[e._v(e._s(n.name))])}),0),e._v(" "),"plane"==e.menu?t("PlaneDebug"):e._e(),e._v(" "),"bullet"==e.menu?t("BulletDebug"):e._e(),e._v(" "),"bomb"==e.menu?t("BombDebug"):e._e(),e._v(" "),"trooper"==e.menu?t("TrooperDebug"):e._e()],1):e._e()},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();
},{"vue":"EjOG","./plane.vue":"KRrJ","./bullet.vue":"oIYH","./bomb.vue":"cgPY","./trooper.vue":"S0nm","../../../../dogfight/src/constants":"P1Jh"}],"257B":[function(require,module,exports) {
"use strict";var e;function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var n=r(require("vue")),a=require("../../../dogfight/src/entity"),i=require("../../../dogfight/src/constants"),s=require("../../../dogfight/src/entities/PlayerInfo"),o=require("../localization/localizer"),u=(t(e={},i.Team.Centrals,"germanflag_small.gif"),t(e,i.Team.Allies,"raf_flag_small.gif"),e),l=500;function c(e,t,r){return Math.round(Math.max(t,Math.min(e,r)))}exports.default=n.default.extend({data:function(){return{players:[]}},computed:{lang:function(){return{name:o.Localizer.get("name"),team:o.Localizer.get("team"),ping:o.Localizer.get("ping"),pingDesc:o.Localizer.get("pingDescription")}},showPlayers:function(){return this.$store.state.clientState.showPlayers},updated:function(){return this.$store.state.client.playersUpdated},myTeam:function(){return this.$store.state.client.playerInfo.team},myID:function(){return this.$store.state.client.playerInfo.id}},methods:{getPingColor:function(e){var t=c(120-120*(e/l),0,120);return"hsl(".concat(t,", 100%, 50%)")},getFlag:function(e){return"assets/images/"+u[e]},isAlive:function(e){return e==s.PlayerStatus.Playing},teamClass:function(e,t){return null==e?"":t==e?"my-team":"enemy-team"}},watch:{updated:function(){var e=this.$store.state.client.gameObjects[a.EntityType.Player],t=[];for(var r in e){var n=e[r];n.id=parseInt(r),t.push(n)}t.sort(function(e,t){return e.team-t.team}),this.players=t}}});
(function(){var e=exports.default||module.exports;"function"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.showPlayers,expression:"showPlayers"}],attrs:{id:"players"}},[t("table",[t("thead",[t("tr",[t("th",[e._v(e._s(e.lang.team))]),e._v(" "),t("th",[e._v(e._s(e.lang.name))]),e._v(" "),t("th",[e._v("S"+e._s(e.lang.score))]),e._v(" "),t("th",[e._v("K"+e._s(e.lang.frags))]),e._v(" "),t("th",[e._v("D"+e._s(e.lang.deaths))]),e._v(" "),t("th",[e._v("P"+e._s(e.lang.precision))]),e._v(" "),t("th",{attrs:{title:e.lang.pingDesc}},[e._v(e._s(e.lang.ping))])])]),e._v(" "),t("tbody",e._l(e.players,function(s){return t("tr",{key:s.id,class:[e.teamClass(e.myTeam,s.team),e.myID==s.id?"my-player":""]},[t("td",[t("img",{attrs:{src:e.getFlag(s.team)}})]),e._v(" "),t("td",{class:e.isAlive(s.status)?"player-alive":"player-dead",attrs:{title:"Player ID #"+s.id}},[e._v(e._s(s.name))]),e._v(" "),t("td",[e._v(" "+e._s(s.score)+" ")]),e._v(" "),t("td",[e._v(" "+e._s(s.frags)+" ")]),e._v(" "),t("td",[e._v(" "+e._s(s.deaths)+" ")]),e._v(" "),t("td",[e._v(" "+e._s(s.precision)+" ")]),e._v(" "),t("td",{style:{backgroundColor:e.getPingColor(s.ping)}},[e._v(e._s(s.ping))])])}),0)]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(e.updated))])])},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();
},{"vue":"EjOG","../../../dogfight/src/entity":"pF7b","../../../dogfight/src/constants":"P1Jh","../../../dogfight/src/entities/PlayerInfo":"F43/","../localization/localizer":"mQET"}],"8QFW":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("vue")),u=e(require("./debug/debug.vue")),r=e(require("./players.vue"));exports.default=t.default.extend({components:{Players:r.default,Debug:u.default},computed:{isLoaded:function(){return this.$store.state.client.loadedGame},viewDebug:function(){return this.$store.state.viewDebug}}});
(function(){var e=exports.default||module.exports;"function"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"game"}},[t("div",{attrs:{id:"game-view"}},[t("Players"),this._v(" "),t("div",{attrs:{id:"game-canvas"}})],1),this._v(" "),this.isLoaded&&this.viewDebug?t("Debug"):this._e()],1)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();
},{"vue":"EjOG","./debug/debug.vue":"xzaN","./players.vue":"257B"}],"wGN3":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("vue")),i=require("../localization/localizer");exports.default=t.default.extend({computed:{gameName:function(){return i.Localizer.get("gameName")},viewSettings:function(){return this.$store.state.viewSettings}},methods:{toggleSettings:function(){this.$store.state.viewSettings=!this.$store.state.viewSettings}}});
(function(){var t=exports.default||module.exports;"function"==typeof t&&(t=t.options),Object.assign(t,{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"header"}},[e("a",{on:{click:this.toggleSettings}},[e("i",{staticClass:"material-icons",class:this.viewSettings?"header-clicked":""},[this._v("settings")])])])},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();
},{"vue":"EjOG","../localization/localizer":"mQET"}],"TZO7":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("vue")),a=require("../../localization/localizer");exports.default=t.default.extend({data:function(){return{selectedLang:a.Localizer.getLanguage()}},computed:{langs:function(){return a.Language},phrases:function(){return{lang:a.Localizer.get("language")}}},methods:{selfName:function(e){return a.Localizer.getString(e,"languageName")},setLanguage:function(){this.$store.commit("setLanguage",this.selectedLang)}}});
(function(){var e=exports.default||module.exports;"function"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"language"}},[n("h3",[e._v(e._s(e.phrases.lang))]),e._v(" "),n("img",{attrs:{src:"./assets/images/flags/"+e.selectedLang+".svg"}}),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedLang,expression:"selectedLang"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedLang=t.target.multiple?n:n[0]},e.setLanguage]}},e._l(e.langs,function(t,a){return n("option",{key:a,domProps:{value:t}},[e._v(e._s(e.selfName(t)))])}),0)])},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();
},{"vue":"EjOG","../../localization/localizer":"mQET"}],"45dY":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("vue")),i=e(require("js-cookie")),a=require("../../../../dogfight/src/validation"),r=require("../../localization/localizer");exports.default=t.default.extend({data:function(){var e=i.default.get("name");return void 0===e&&(e=""),{clientName:e,max:a.NAME_LENGTH_MAX}},computed:{lang:function(){return{updateName:r.Localizer.get("updateName"),name:r.Localizer.get("name")}},info:function(){return this.$store.state.client.playerInfo}},methods:{isValid:function(){return a.isNameValid(this.clientName)},submitName:function(){var e=this.clientName;a.isNameValid(e)&&this.$store.commit("updateName",e)}}});
(function(){var e=exports.default||module.exports;"function"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return void 0!==e.info.id?i("div",{attrs:{id:"name-settings"}},[i("h3",[e._v(e._s(e.lang.name))]),e._v(" "),i("div",[i("p",[e._v(e._s(e.info.name))]),e._v(" "),i("div",{attrs:{id:"username"}},[i("div",{staticClass:"char-count"},[e._v(e._s(e.clientName.length)+"/"+e._s(e.max))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.clientName,expression:"clientName",modifiers:{trim:!0}}],class:e.isValid()?"":"bad-name",domProps:{value:e.clientName},on:{input:function(t){t.target.composing||(e.clientName=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),i("div",[i("button",{attrs:{disabled:!e.isValid()},on:{click:e.submitName}},[e._v(" "+e._s(e.lang.updateName)+" ")])])])])]):e._e()},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();
},{"vue":"EjOG","js-cookie":"6bgg","../../../../dogfight/src/validation":"8TZu","../../localization/localizer":"mQET"}],"nVBj":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("vue")),u=e(require("./language.vue")),r=e(require("./name.vue")),i=require("../../../../dogfight/src/constants"),n=require("../../localization/localizer");exports.default=t.default.extend({components:{Language:u.default,Name:r.default},computed:{debug:{get:function(){return this.$store.state.viewDebug},set:function(e){this.$store.commit("setDebug",e)}},phrases:function(){return{settings:n.Localizer.get("settings"),debug:n.Localizer.get("showDebug")}},isClient:function(){return"client"==i.BuildType.Client}}});
(function(){var e=exports.default||module.exports;"function"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"settings-overlay"}},[s("div",{attrs:{id:"settings"}},[s("h1",[e._v(e._s(e.phrases.settings))]),e._v(" "),s("div",{attrs:{id:"settings-container"}},[s("Language"),e._v(" "),s("Name")],1),e._v(" "),e.isClient?s("div",{attrs:{id:"debug-toggle"}},[s("hr"),e._v(" "),s("label",[e._v(e._s(e.phrases.debug))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.debug,expression:"debug"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.debug)?e._i(e.debug,null)>-1:e.debug},on:{change:function(t){var s=e.debug,i=t.target,r=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&(e.debug=s.concat([null])):a>-1&&(e.debug=s.slice(0,a).concat(s.slice(a+1)))}else e.debug=r}}})]):e._e()])])},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();
},{"vue":"EjOG","./language.vue":"TZO7","./name.vue":"45dY","../../../../dogfight/src/constants":"P1Jh","../../localization/localizer":"mQET"}],"oWey":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("vue")),n=e(require("./game.vue")),r=e(require("./header.vue")),i=e(require("./settings/settings.vue")),o=require("../types"),u=require("../clientState"),a=require("../localization/localizer");exports.default=t.default.extend({name:"App",components:{Game:n.default,Header:r.default,Settings:i.default},computed:{lang:function(){return{connecting:a.Localizer.get("connecting"),error:a.Localizer.get("connectionError")}},states:function(){return u.ConnectionState},conn:function(){return this.$store.state.clientState.connection},viewSettings:function(){return this.$store.state.viewSettings},status:function(){var e=this.$store.state.client.mode;return o.ClientMode[e]},loaded:function(){return this.$store.state.client.loadedGame}}});
(function(){var e=exports.default||module.exports;"function"==typeof e&&(e=e.options),Object.assign(e,{render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"app"}},[t("Header"),e._v(" "),t("Settings",{directives:[{name:"show",rawName:"v-show",value:e.viewSettings,expression:"viewSettings"}]}),e._v(" "),t("Game",{directives:[{name:"show",rawName:"v-show",value:e.conn==e.states.OPEN,expression:"conn == states.OPEN"}]}),e._v(" "),e.conn==e.states.CONNECTING?t("div",[e._v(e._s(e.lang.connecting))]):e._e(),e._v(" "),e.conn==e.states.CLOSED?t("div",{staticClass:"error"},[e._v(e._s(e.lang.error))]):e._e()],1)},staticRenderFns:[],_compiled:!0,_scopeId:null,functional:void 0});})();
},{"vue":"EjOG","./game.vue":"8QFW","./header.vue":"wGN3","./settings/settings.vue":"nVBj","../types":"gkAU","../clientState":"p6U9","../localization/localizer":"mQET"}],"Ki8f":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];function e(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createLogger=q,exports.install=H,exports.mapState=exports.mapMutations=exports.mapGetters=exports.mapActions=exports.createNamespacedHelpers=exports.Store=exports.default=void 0;var n="undefined"!=typeof window?window:void 0!==t?t:{},r=n.__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t){r&&(t._devtoolHook=r,r.emit("vuex:init",t),r.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){r.emit("vuex:mutation",t,e)},{prepend:!0}),t.subscribeAction(function(t,e){r.emit("vuex:action",t,e)},{prepend:!0}))}function i(t,e){return t.filter(e)[0]}function a(t,e){if(void 0===e&&(e=[]),null===t||"object"!=typeof t)return t;var n=i(e,function(e){return e.original===t});if(n)return n.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach(function(n){r[n]=a(t[n],e)}),r}function c(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function s(t){return null!==t&&"object"==typeof t}function u(t){return t&&"function"==typeof t.then}function f(t,e){if(!t)throw new Error("[vuex] "+e)}function p(t,e){return function(){return t(e)}}var l=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},h={namespaced:{configurable:!0}};h.namespaced.get=function(){return!!this._rawModule.namespaced},l.prototype.addChild=function(t,e){this._children[t]=e},l.prototype.removeChild=function(t){delete this._children[t]},l.prototype.getChild=function(t){return this._children[t]},l.prototype.hasChild=function(t){return t in this._children},l.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},l.prototype.forEachChild=function(t){c(this._children,t)},l.prototype.forEachGetter=function(t){this._rawModule.getters&&c(this._rawModule.getters,t)},l.prototype.forEachAction=function(t){this._rawModule.actions&&c(this._rawModule.actions,t)},l.prototype.forEachMutation=function(t){this._rawModule.mutations&&c(this._rawModule.mutations,t)},Object.defineProperties(l.prototype,h);var d=function(t){this.register([],t,!1)};function m(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;m(t.concat(r),e.getChild(r),n.modules[r])}}d.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},d.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")},"")},d.prototype.update=function(t){m([],this.root,t)},d.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var o=new l(e,n);0===t.length?this.root=o:this.get(t.slice(0,-1)).addChild(t[t.length-1],o);e.modules&&c(e.modules,function(e,o){r.register(t.concat(o),e,n)})},d.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},d.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var v,g={assert:function(t){return"function"==typeof t},expected:"function"},y={assert:function(t){return"function"==typeof t||"object"==typeof t&&"function"==typeof t.handler},expected:'function or object with "handler" function'},_={getters:g,mutations:g,actions:y};function b(t,e){Object.keys(_).forEach(function(n){if(e[n]){var r=_[n];c(e[n],function(e,o){f(r.assert(e),w(t,n,o,e,r.expected))})}})}function w(t,e,n,r,o){var i=e+" should be "+o+' but "'+e+"."+n+'"';return t.length>0&&(i+=' in module "'+t.join(".")+'"'),i+=" is "+JSON.stringify(r)+"."}var x=function(t){var e=this;void 0===t&&(t={}),!v&&"undefined"!=typeof window&&window.Vue&&H(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new d(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new v,this._makeLocalGettersCache=Object.create(null);var i=this,a=this.dispatch,c=this.commit;this.dispatch=function(t,e){return a.call(i,t,e)},this.commit=function(t,e,n){return c.call(i,t,e,n)},this.strict=r;var s=this._modules.root.state;j(this,s,[],this._modules.root),$(this,s),n.forEach(function(t){return t(e)}),(void 0!==t.devtools?t.devtools:v.config.devtools)&&o(this)};exports.Store=x;var M={state:{configurable:!0}};function O(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function E(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;j(t,n,[],t._modules.root,!0),$(t,n,e)}function $(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,i={};c(o,function(e,n){i[n]=p(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var a=v.config.silent;v.config.silent=!0,t._vm=new v({data:{$$state:e},computed:i}),v.config.silent=a,t.strict&&N(t),r&&(n&&t._withCommit(function(){r._data.$$state=null}),v.nextTick(function(){return r.$destroy()}))}function j(t,e,n,r,o){var i=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!i&&!o){var c=L(e,n.slice(0,-1)),s=n[n.length-1];t._withCommit(function(){v.set(c,s,r.state)})}var u=r.context=C(t,a,n);r.forEachMutation(function(e,n){S(t,a+n,e,u)}),r.forEachAction(function(e,n){var r=e.root?n:a+n,o=e.handler||e;k(t,r,o,u)}),r.forEachGetter(function(e,n){G(t,a+n,e,u)}),r.forEachChild(function(r,i){j(t,e,n.concat(i),r,o)})}function C(t,e,n){var r=""===e,o={dispatch:r?t.dispatch:function(n,r,o){var i=P(n,r,o),a=i.payload,c=i.options,s=i.type;return c&&c.root||(s=e+s),t.dispatch(s,a)},commit:r?t.commit:function(n,r,o){var i=P(n,r,o),a=i.payload,c=i.options,s=i.type;c&&c.root||(s=e+s),t.commit(s,a,c)}};return Object.defineProperties(o,{getters:{get:r?function(){return t.getters}:function(){return A(t,e)}},state:{get:function(){return L(t.state,n)}}}),o}function A(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(o){if(o.slice(0,r)===e){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[o]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function S(t,e,n,r){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){n.call(t,r.state,e)})}function k(t,e,n,r){(t._actions[e]||(t._actions[e]=[])).push(function(e){var o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return u(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):o})}function G(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function N(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}function L(t,e){return e.reduce(function(t,e){return t[e]},t)}function P(t,e,n){return s(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function H(t){v&&t===v||e(v=t)}M.state.get=function(){return this._vm._data.$$state},M.state.set=function(t){0},x.prototype.commit=function(t,e,n){var r=this,o=P(t,e,n),i=o.type,a=o.payload,c=(o.options,{type:i,payload:a}),s=this._mutations[i];s&&(this._withCommit(function(){s.forEach(function(t){t(a)})}),this._subscribers.slice().forEach(function(t){return t(c,r.state)}))},x.prototype.dispatch=function(t,e){var n=this,r=P(t,e),o=r.type,i=r.payload,a={type:o,payload:i},c=this._actions[o];if(c){try{this._actionSubscribers.slice().filter(function(t){return t.before}).forEach(function(t){return t.before(a,n.state)})}catch(u){0}var s=c.length>1?Promise.all(c.map(function(t){return t(i)})):c[0](i);return new Promise(function(t,e){s.then(function(e){try{n._actionSubscribers.filter(function(t){return t.after}).forEach(function(t){return t.after(a,n.state)})}catch(u){0}t(e)},function(t){try{n._actionSubscribers.filter(function(t){return t.error}).forEach(function(e){return e.error(a,n.state,t)})}catch(u){0}e(t)})})}},x.prototype.subscribe=function(t,e){return O(t,this._subscribers,e)},x.prototype.subscribeAction=function(t,e){return O("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},x.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch(function(){return t(r.state,r.getters)},e,n)},x.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},x.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),j(this,this.state,t,this._modules.get(t),n.preserveState),$(this,this.state)},x.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=L(e.state,t.slice(0,-1));v.delete(n,t[t.length-1])}),E(this)},x.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},x.prototype.hotUpdate=function(t){this._modules.update(t),E(this,!0)},x.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(x.prototype,M);var V=J(function(t,e){var n={};return U(e).forEach(function(e){var r=e.key,o=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=K(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"==typeof o?o.call(this,e,n):e[o]},n[r].vuex=!0}),n});exports.mapState=V;var F=J(function(t,e){var n={};return U(e).forEach(function(e){var r=e.key,o=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.commit;if(t){var i=K(this.$store,"mapMutations",t);if(!i)return;r=i.context.commit}return"function"==typeof o?o.apply(this,[r].concat(e)):r.apply(this.$store,[o].concat(e))}}),n});exports.mapMutations=F;var T=J(function(t,e){var n={};return U(e).forEach(function(e){var r=e.key,o=e.val;o=t+o,n[r]=function(){if(!t||K(this.$store,"mapGetters",t))return this.$store.getters[o]},n[r].vuex=!0}),n});exports.mapGetters=T;var D=J(function(t,e){var n={};return U(e).forEach(function(e){var r=e.key,o=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var i=K(this.$store,"mapActions",t);if(!i)return;r=i.context.dispatch}return"function"==typeof o?o.apply(this,[r].concat(e)):r.apply(this.$store,[o].concat(e))}}),n});exports.mapActions=D;var R=function(t){return{mapState:V.bind(null,t),mapGetters:T.bind(null,t),mapMutations:F.bind(null,t),mapActions:D.bind(null,t)}};function U(t){return B(t)?Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}}):[]}function B(t){return Array.isArray(t)||s(t)}function J(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function K(t,e,n){var r=t._modulesNamespaceMap[n];return r}function q(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var r=t.transformer;void 0===r&&(r=function(t){return t});var o=t.mutationTransformer;void 0===o&&(o=function(t){return t});var i=t.actionFilter;void 0===i&&(i=function(t,e){return!0});var c=t.actionTransformer;void 0===c&&(c=function(t){return t});var s=t.logMutations;void 0===s&&(s=!0);var u=t.logActions;void 0===u&&(u=!0);var f=t.logger;return void 0===f&&(f=console),function(t){var p=a(t.state);void 0!==f&&(s&&t.subscribe(function(t,i){var c=a(i);if(n(t,p,c)){var s=Q(),u=o(t),l="mutation "+t.type+s;z(f,l,e),f.log("%c prev state","color: #9E9E9E; font-weight: bold",r(p)),f.log("%c mutation","color: #03A9F4; font-weight: bold",u),f.log("%c next state","color: #4CAF50; font-weight: bold",r(c)),I(f)}p=c}),u&&t.subscribeAction(function(t,n){if(i(t,n)){var r=Q(),o=c(t),a="action "+t.type+r;z(f,a,e),f.log("%c action","color: #03A9F4; font-weight: bold",o),I(f)}}))}}function z(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch(o){t.log(e)}}function I(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function Q(){var t=new Date;return" @ "+X(t.getHours(),2)+":"+X(t.getMinutes(),2)+":"+X(t.getSeconds(),2)+"."+X(t.getMilliseconds(),3)}function W(t,e){return new Array(e+1).join(t)}function X(t,e){return W("0",e-t.toString().length)+t}exports.createNamespacedHelpers=R;var Y={Store:x,install:H,version:"3.6.2",mapState:V,mapMutations:F,mapGetters:T,mapActions:D,createNamespacedHelpers:R,createLogger:q},Z=Y;exports.default=Z;
},{}],"ZCfc":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../src/client"),i=e(require("js-cookie")),n=e(require("../src/components/app.vue")),r=e(require("vue")),u=e(require("vuex")),o=require("../../dogfight/src/entities/Plane"),a=require("../src/localization/localizer"),l=require("../../dogfight/src/entities/Bullet"),s=require("../../dogfight/src/entities/Bomb"),c=require("../../dogfight/src/entities/Man"),f=require("../src/clientState");function d(){var e=new t.GameClient,d=new u.default.Store({state:{client:e,clientState:f.ClientState,planeInfo:o.planeData,bulletInfo:l.bulletGlobals,bombInfo:s.bombGlobals,trooperInfo:c.trooperGlobals,infoHUD:o.infoHUD,lang:a.Localizer,viewSettings:!1,viewDebug:"true"==i.default.get("debug")},mutations:{setDebug:function(e,t){i.default.set("debug",t,{expires:9999}),e.viewDebug=t},setLanguage:function(e,t){e.client.updateLanguage(t)},updateName:function(e,t){e.client.updateName(t)}}});new r.default({el:"#app",store:d,render:function(e){return e(n.default)}})}r.default.config.productionTip=!1,r.default.use(u.default),window.addEventListener("load",function(){d()});
},{"../src/client":"/voG","js-cookie":"6bgg","../src/components/app.vue":"oWey","vue":"EjOG","vuex":"Ki8f","../../dogfight/src/entities/Plane":"OCWf","../src/localization/localizer":"mQET","../../dogfight/src/entities/Bullet":"Y2wn","../../dogfight/src/entities/Bomb":"vWFO","../../dogfight/src/entities/Man":"bksC","../src/clientState":"p6U9"}]},{},["ZCfc"], null)
//# sourceMappingURL=main.f4cfee0c.js.map